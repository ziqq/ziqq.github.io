(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["common"],{

/***/ "/6AmEcru":
/*!*******************************!*\
  !*** ./components/AddForm.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AddForm = function () {\n    function AddForm(args) {\n        _classCallCheck(this, AddForm);\n\n        this.selector = args.selector;\n        this.forms = document.querySelectorAll('.' + this.selector);\n\n        this._onSubmit = this._onSubmit.bind(this);\n    }\n\n    _createClass(AddForm, [{\n        key: 'init',\n        value: function init() {\n            for (var i = 0; i < this.forms.length; i++) {\n                this._setProps(this.forms[i]);\n            }\n            this._removeEventListener();\n            this._addEventListener();\n            // this.initSorting();\n        }\n    }, {\n        key: '_addEventListener',\n        value: function _addEventListener() {\n            document.addEventListener('submit', this._onSubmit);\n        }\n    }, {\n        key: '_removeEventListener',\n        value: function _removeEventListener() {\n            document.removeEventListener('submit', this._onSubmit);\n        }\n\n        //Обработчик события на Submit\n\n    }, {\n        key: '_onSubmit',\n        value: function _onSubmit(e) {\n            var target = e.target;\n\n            if (target.classList.contains(this.selector)) {\n                this._setValue(target);\n            }\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }, {\n        key: '_setValue',\n        value: function _setValue(element) {\n            var input = element.querySelector('input');\n            var value = input.value;\n\n            if (value) {\n                this._addProp(element, value);\n                input.value = '';\n            }\n        }\n    }, {\n        key: '_setProps',\n        value: function _setProps(element) {\n            var checked = element.previousElementSibling.getAttribute('data-checked');\n\n            if (checked != null) {\n                var arrayProps = checked.split(', ');\n                for (var t = 0; t < arrayProps.length; t++) {\n                    this._addProp(element, arrayProps[t]);\n                }\n            }\n        }\n    }, {\n        key: '_addProp',\n        value: function _addProp(element, value) {\n            var props = element.previousElementSibling;\n            var checked = props.getAttribute('data-checked');\n            var child = props.childNodes;\n            var arrayProps = void 0;\n\n            if (checked == null) {\n                arrayProps = [];\n            } else {\n                arrayProps = props.getAttribute('data-checked').split(', ');\n            }\n\n            if (child.length === arrayProps.length) {\n                var index = arrayProps.indexOf(value);\n\n                if (index == -1) {\n                    arrayProps.push(value);\n                }\n\n                props.setAttribute('data-checked', arrayProps.join(', '));\n                props.appendChild(this._createProp(value, props));\n            } else {\n                var _arrayProps = [];\n                var _index = _arrayProps.indexOf(value);\n\n                if (_index == -1) {\n                    _arrayProps.push(value);\n                }\n\n                props.setAttribute('data-checked', _arrayProps.join(', '));\n                props.appendChild(this._createProp(value, props));\n            }\n        }\n    }, {\n        key: '_deleteProp',\n        value: function _deleteProp(element, value) {\n            var arrayProps = element.getAttribute('data-checked').split(', ');\n            var index = arrayProps.indexOf(value);\n            if (index != -1) {\n                arrayProps.splice(index, 1);\n            }\n            element.setAttribute('data-checked', arrayProps.join(', '));\n        }\n    }, {\n        key: '_createProp',\n        value: function _createProp(value, element) {\n            var _this = this;\n\n            var div = document.createElement('div');\n            var spanValue = document.createElement('span');\n            var btnReset = document.createElement('button');\n            var closeIcon = '<span><svg class=\"icon icon-close--bold\">\\n                            <use xlink:href=\"files/sprite.svg#close--bold\"></use>\\n                        </svg></span>';\n            var closeDrag = '<span class=\"add-form__drag-icon icon--drag\" title=\"\\u041F\\u0435\\u0440\\u0435\\u043C\\u0435\\u0441\\u0442\\u0438\\u0442\\u044C\"><svg class=\"icon icon-hamburger\" role=\"img\">\\n                            <use xlink:href=\"files/sprite.svg#hamburger\"></use>\\n                        </svg></span>';\n\n            btnReset.classList.add('btn-reset');\n            btnReset.innerHTML = closeIcon;\n\n            spanValue.classList.add('add-form__value');\n            spanValue.innerText = value;\n\n            div.classList.add('add-form__prop');\n            div.insertAdjacentHTML('afterbegin', closeDrag);\n            div.setAttribute('data-copy-remove', '');\n            div.appendChild(spanValue);\n            div.appendChild(btnReset);\n\n            btnReset.addEventListener('click', function () {\n                _this._deleteProp(element, value);\n                element.removeChild(btnReset.parentElement);\n            });\n\n            return div;\n        }\n\n        //Инициализация сортировки свойств\n\n    }, {\n        key: 'initSorting',\n        value: function initSorting() {\n            var sortableList = document.querySelectorAll('.js-sortable-add-form-props');\n\n            if (sortableList) {\n                for (var i = 0; i < sortableList.length; i++) {\n                    Sortable.create(sortableList[i], {\n                        handle: '.icon--drag',\n                        animation: 150\n                    });\n                }\n            }\n        }\n    }]);\n\n    return AddForm;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AddForm);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLzZBbUVjcnUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvQWRkRm9ybS5qcz82ZTczIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkZEZvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoYXJncykge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBhcmdzLnNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuZm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIHRoaXMuc2VsZWN0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLl9vblN1Ym1pdCA9IHRoaXMuX29uU3VibWl0LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9ybXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0UHJvcHModGhpcy5mb3Jtc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVyKCk7XHJcbiAgICAgICAgLy8gdGhpcy5pbml0U29ydGluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9hZGRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX29uU3VibWl0KTtcclxuICAgIH1cclxuXHJcbiAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9vblN1Ym1pdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/QntCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQvdCwIFN1Ym1pdFxyXG4gICAgX29uU3VibWl0KGUpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcclxuXHJcbiAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5zZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0VmFsdWUodGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldFZhbHVlKGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fYWRkUHJvcChlbGVtZW50LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zZXRQcm9wcyhlbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IGNoZWNrZWQgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZ2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgICAnZGF0YS1jaGVja2VkJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChjaGVja2VkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGFycmF5UHJvcHMgPSBjaGVja2VkLnNwbGl0KCcsICcpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IGFycmF5UHJvcHMubGVuZ3RoOyB0KyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZFByb3AoZWxlbWVudCwgYXJyYXlQcm9wc1t0XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2FkZFByb3AoZWxlbWVudCwgdmFsdWUpIHtcclxuICAgICAgICBsZXQgcHJvcHMgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgbGV0IGNoZWNrZWQgPSBwcm9wcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tlZCcpO1xyXG4gICAgICAgIGxldCBjaGlsZCA9IHByb3BzLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgbGV0IGFycmF5UHJvcHM7XHJcblxyXG4gICAgICAgIGlmIChjaGVja2VkID09IG51bGwpIHtcclxuICAgICAgICAgICAgYXJyYXlQcm9wcyA9IFtdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFycmF5UHJvcHMgPSBwcm9wcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tlZCcpLnNwbGl0KCcsICcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoaWxkLmxlbmd0aCA9PT0gYXJyYXlQcm9wcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gYXJyYXlQcm9wcy5pbmRleE9mKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgYXJyYXlQcm9wcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJvcHMuc2V0QXR0cmlidXRlKCdkYXRhLWNoZWNrZWQnLCBhcnJheVByb3BzLmpvaW4oJywgJykpO1xyXG4gICAgICAgICAgICBwcm9wcy5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVQcm9wKHZhbHVlLCBwcm9wcykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBhcnJheVByb3BzID0gW107XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGFycmF5UHJvcHMuaW5kZXhPZih2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGFycmF5UHJvcHMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByb3BzLnNldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2VkJywgYXJyYXlQcm9wcy5qb2luKCcsICcpKTtcclxuICAgICAgICAgICAgcHJvcHMuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlUHJvcCh2YWx1ZSwgcHJvcHMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2RlbGV0ZVByb3AoZWxlbWVudCwgdmFsdWUpIHtcclxuICAgICAgICBsZXQgYXJyYXlQcm9wcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNoZWNrZWQnKS5zcGxpdCgnLCAnKTtcclxuICAgICAgICBsZXQgaW5kZXggPSBhcnJheVByb3BzLmluZGV4T2YodmFsdWUpO1xyXG4gICAgICAgIGlmIChpbmRleCAhPSAtMSkge1xyXG4gICAgICAgICAgICBhcnJheVByb3BzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWNoZWNrZWQnLCBhcnJheVByb3BzLmpvaW4oJywgJykpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVQcm9wKHZhbHVlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGxldCBzcGFuVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgbGV0IGJ0blJlc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgbGV0IGNsb3NlSWNvbiA9IGA8c3Bhbj48c3ZnIGNsYXNzPVwiaWNvbiBpY29uLWNsb3NlLS1ib2xkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCJmaWxlcy9zcHJpdGUuc3ZnI2Nsb3NlLS1ib2xkXCI+PC91c2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvc3Bhbj5gO1xyXG4gICAgICAgIGxldCBjbG9zZURyYWcgPSBgPHNwYW4gY2xhc3M9XCJhZGQtZm9ybV9fZHJhZy1pY29uIGljb24tLWRyYWdcIiB0aXRsZT1cItCf0LXRgNC10LzQtdGB0YLQuNGC0YxcIj48c3ZnIGNsYXNzPVwiaWNvbiBpY29uLWhhbWJ1cmdlclwiIHJvbGU9XCJpbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cImZpbGVzL3Nwcml0ZS5zdmcjaGFtYnVyZ2VyXCI+PC91c2U+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPjwvc3Bhbj5gO1xyXG5cclxuICAgICAgICBidG5SZXNldC5jbGFzc0xpc3QuYWRkKCdidG4tcmVzZXQnKTtcclxuICAgICAgICBidG5SZXNldC5pbm5lckhUTUwgPSBjbG9zZUljb247XHJcblxyXG4gICAgICAgIHNwYW5WYWx1ZS5jbGFzc0xpc3QuYWRkKCdhZGQtZm9ybV9fdmFsdWUnKTtcclxuICAgICAgICBzcGFuVmFsdWUuaW5uZXJUZXh0ID0gdmFsdWU7XHJcblxyXG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdhZGQtZm9ybV9fcHJvcCcpO1xyXG4gICAgICAgIGRpdi5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBjbG9zZURyYWcpO1xyXG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29weS1yZW1vdmUnLCAnJyk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNwYW5WYWx1ZSk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGJ0blJlc2V0KTtcclxuXHJcbiAgICAgICAgYnRuUmVzZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RlbGV0ZVByb3AoZWxlbWVudCwgdmFsdWUpO1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGJ0blJlc2V0LnBhcmVudEVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgfVxyXG5cclxuICAgIC8v0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQvtGA0YLQuNGA0L7QstC60Lgg0YHQstC+0LnRgdGC0LJcclxuICAgIGluaXRTb3J0aW5nKCkge1xyXG4gICAgICAgIGxldCBzb3J0YWJsZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAnLmpzLXNvcnRhYmxlLWFkZC1mb3JtLXByb3BzJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChzb3J0YWJsZUxpc3QpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0YWJsZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIFNvcnRhYmxlLmNyZWF0ZShzb3J0YWJsZUxpc3RbaV0sIHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGU6ICcuaWNvbi0tZHJhZycsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAxNTAsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTs7Ozs7O0FBbkpBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:////6AmEcru\n");

/***/ }),

/***/ "/BqqaMG3":
/*!***********************************!*\
  !*** ./core/components/Slider.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var swiper_dist_js_swiper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! swiper/dist/js/swiper */ \"k/j3KAec\");\n/* harmony import */ var swiper_dist_js_swiper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(swiper_dist_js_swiper__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var slick_carousel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slick-carousel */ \"i1PZ5ZKR\");\n/* harmony import */ var slick_carousel__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(slick_carousel__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * Base.Components.Slider.js\n *\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\n */\n\nBB.define('Core.Slider');\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Core.Slider = function () {\n    function _init() {\n        _initSlick();\n        _initSwiperSlider();\n        _initPreviewSwiperSlider();\n        _initPreviewSlider();\n        _initTriumphSlider();\n        _initCatalogItemSlider();\n\n        if (true) {\n            console.log('--- INIT CORE SLIDER');\n        }\n    }\n\n    function _initSlick() {\n        var $slider = $('.js-bb-slider');\n        if ($slider.length) {\n            $slider.each(function () {\n                var $slids = $(this).find('.bb-slider__slides');\n                var $slide = $(this).find('.bb-slider__slide');\n                var $prevArrow = $(this).find('.bb-slider__arrow--prev');\n                var $nextArrow = $(this).find('.bb-slider__arrow--next');\n\n                //Set settings from html\n                var slidesToShow = $(this).data('slider-slides-show');\n                var slidesToScroll = $(this).data('slider-slides-scroll');\n                var autoplay = $(this).data('slider-autoplay');\n                var autoplaySpeed = $(this).data('slider-autoplay-speed');\n                var speed = $(this).data('slider-speed');\n                var loop = $(this).data('slider-loop');\n                var dots = $(this).data('slider-dots');\n\n                var settings = {\n                    arrows: true,\n                    prevArrow: $prevArrow,\n                    nextArrow: $nextArrow,\n                    autoplay: autoplay ? true : false,\n                    autoplaySpeed: autoplaySpeed ? autoplaySpeed : 2000,\n                    speed: speed ? speed : 800,\n                    slidesToShow: slidesToShow ? slidesToShow : 3,\n                    slidesToScroll: slidesToScroll ? slidesToScroll : 1,\n                    dots: dots ? true : false,\n                    infinite: loop ? true : false,\n\n                    responsive: [{\n                        breakpoint: 481,\n                        settings: {\n                            slidesToShow: 1,\n                            dots: true,\n                            arrows: false\n                        }\n                    }]\n                };\n\n                if ($slide.length) {\n                    $slids.not('.slick-initialized').slick(settings);\n                }\n            });\n        }\n    }\n\n    function _initSwiperSlider() {\n        var slider = '.js-swiper-slider';\n        var $slider = $(slider);\n\n        if ($slider.length) {\n            $slider.each(function () {\n                var slides = $(this).data('slider-slides');\n                var offset = $(this).data('slider-offset');\n                var freeMode = $(this).data('slider-free-mode');\n                var mouseWheel = $(this).data('slider-mouse-wheel');\n                var ratio = $(this).data('slider-ratio');\n                var center = $(this).data('slider-center');\n                var lazy = $(this).data('slider-lazy');\n                var loop = $(this).data('slider-loop');\n                var speed = $(this).data('slider-speed');\n                var $sliderContainer = void 0;\n\n                if ($(this).hasClass('swiper-container')) {\n                    $sliderContainer = $(this);\n                } else {\n                    $sliderContainer = $(this).find('.swiper-container');\n                }\n\n                var settings = {\n                    pagination: {\n                        el: $(this).find('.swiper-pagination'),\n                        clickable: true\n                    },\n\n                    navigation: {\n                        nextEl: $(this).find('.swiper-button-next'),\n                        prevEl: $(this).find('.swiper-button-prev')\n                    },\n\n                    centerInsufficientSlides: center ? true : false,\n                    slidesPerView: slides ? slides : 1,\n                    spaceBetween: offset ? offset : false,\n                    freeMode: freeMode ? true : false,\n                    mousewheel: mouseWheel ? true : false,\n                    loop: loop ? true : false,\n                    speed: speed ? speed : 300,\n                    preloadImages: lazy ? false : true,\n                    lazy: true,\n\n                    breakpoints: {\n                        480: {\n                            slidesPerView: slides ? slides / ratio * 2 : 1\n                        },\n                        768: {\n                            slidesPerView: slides ? ratio / 2.66 : 1\n                        }\n                    }\n                };\n\n                new swiper_dist_js_swiper__WEBPACK_IMPORTED_MODULE_0___default.a($sliderContainer, settings);\n            });\n        }\n    }\n\n    function _initPreviewSwiperSlider() {\n        var slider = '.js-swiper-slider--preview';\n        var $slider = $(slider);\n\n        if ($slider.length && $(window).width() > 480) {\n            var settings = {\n                touchRatio: 0.5,\n                touchAngle: 30,\n                slidesPerView: 4.75,\n                spaceBetween: 2,\n                freeMode: true,\n                mousewheel: true,\n                lazy: true,\n                breakpoints: {\n                    320: {\n                        slidesPerView: 1.5\n                    },\n                    480: {\n                        slidesPerView: 2.5\n                    },\n                    1024: {\n                        slidesPerView: 4.5\n                    }\n                }\n            };\n\n            new swiper_dist_js_swiper__WEBPACK_IMPORTED_MODULE_0___default.a(slider, settings);\n        }\n    }\n\n    function _initTriumphSlider() {\n        var $slider = $('.js-bb-slider--triumph');\n\n        if ($slider.length) {\n            $slider.each(function () {\n                var $this = $(this);\n                var $parent = $this.closest('.triumph');\n                var $slides = $this.find('.bb-slider__slides');\n                var $slide = $this.find('.bb-slider__slide');\n                var $btnNext = $parent.find('.js-bb-slider-btn--next');\n\n                var settings = {\n                    slidesToShow: 1,\n                    slidesToScroll: 1,\n                    arrows: false,\n                    dots: true,\n                    touchMove: false,\n                    infinite: false\n                };\n\n                if ($slide.length) $slides.slick(settings);\n\n                $this.on('afterChange', function (event, slick, currentSlide, nextSlide) {\n                    if (currentSlide + 1 === slick.slideCount) {\n                        $btnNext.text('Понятно').attr('data-dismiss', 'modal');\n                    }\n                });\n\n                $btnNext.on('click', function () {\n                    if (this.hasAttribute('data-dismiss')) {\n                        $this.removeClass('is-visible');\n                    } else {\n                        $slides.slick('slickNext');\n                    }\n                });\n\n                //Disable change slide on click dots\n                $slider.find('.slick-dots li button').on('click', function (e) {\n                    e.stopPropagation();\n                });\n\n                //Show slider when modal open\n                $('.modal').on('shown.bs.modal', function () {\n                    var $slider = $(this).find('.bb-slider__slides').filter('.slick-initialized');\n\n                    if ($slider.length) {\n                        $slider[0].slick.setPosition();\n                        $slider.addClass('is-visible');\n                    }\n                });\n            });\n        }\n    }\n\n    function _initCatalogItemSlider() {\n        var $catalogItemSlider = $(document).find('.js-catalog-item-slider');\n\n        if ($catalogItemSlider.length) {\n            $catalogItemSlider.each(function () {\n                var _this = $(this);\n                var $slides = $(this).find('.bb-slider__slides');\n                var $slide = $(this).find('.bb-slider__slide');\n                var $sliderDots = $(this).find('.bb-slider__dots');\n                $sliderDots.hide();\n\n                _this.on('init', function (event, slick) {\n                    $sliderDots.prepend(\"<span class='bb-slider__pager bb-slider__pager--now'>1</span>\" + '/');\n                    $sliderDots.append(\"<span class='bb-slider__pager bb-slider__pager--total'>\" + slick.slideCount + '</span>');\n                }).on('afterChange', function (event, slick, currentSlide, nextSlide) {\n                    var i = (currentSlide ? currentSlide : 0) + 1;\n                    _this.find('.bb-slider__pager--now').html(i);\n                });\n\n                if ($slide.length > 1) {\n                    $sliderDots.show();\n\n                    $slides.not('.slick-initialized').slick({\n                        lazyLoad: 'ondemand',\n                        speed: 400,\n                        slidesToShow: 1,\n                        slidesToScroll: 1,\n                        arrows: true,\n                        infinite: false,\n                        dots: false,\n\n                        responsive: [{\n                            breakpoint: 481,\n                            settings: {\n                                arrows: false\n                            }\n                        }]\n                    });\n                }\n            });\n\n            if ($(window).width() > 480) {\n                $('.js-catalog-item').find('.bb-slider__slides').on('click', function (e) {\n                    if ($(this).hasClass('slick-initialized')) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                    }\n                });\n            }\n        }\n    }\n\n    function _initPreviewSlider() {\n        var $previewSlider = $('.js-card-slider');\n        if ($previewSlider.length) {\n            $previewSlider.each(function () {\n                var _this = $(this);\n                var $slides = _this.find('.bb-slider__slides');\n                var $sliderDots = $(this).find('.bb-slider__dots').hide();\n                var settings = {\n                    nextArrow: '.bb-slider__arrow--next',\n                    prevArrow: '.bb-slider__arrow--prev',\n                    speed: 400,\n                    infinite: false,\n                    slidesToShow: 4,\n                    slidesToScroll: 1,\n                    arrows: true,\n                    dots: false,\n                    lazyLoad: 'ondemand',\n\n                    responsive: [{\n                        breakpoint: 1201,\n                        settings: {\n                            slidesToShow: 3\n                        }\n                    }, {\n                        breakpoint: 769,\n                        settings: {\n                            slidesToShow: 2,\n                            slidesToScroll: 1\n                        }\n                    }, {\n                        breakpoint: 481,\n                        settings: {\n                            slidesToShow: 1,\n                            slidesToScroll: 1\n                        }\n                    }]\n                };\n\n                if ($(window).width() <= 480) {\n                    $sliderDots.show();\n\n                    _this.on('init', function (event, slick) {\n                        $sliderDots.prepend(\"<span class='bb-slider__pager bb-slider__pager--now'>1</span>\" + '/');\n                        $sliderDots.append(\"<span class='bb-slider__pager bb-slider__pager--total'>\" + slick.slideCount + '</span>');\n                    }).on('afterChange', function (event, slick, currentSlide, nextSlide) {\n                        var i = (currentSlide ? currentSlide : 0) + 1;\n                        _this.find('.bb-slider__pager--now').html(i);\n                    });\n                }\n\n                $slides.not('.slick-initialized').slick(settings);\n            });\n        }\n    }\n\n    return {\n        init: _init,\n        initSlick: _initSlick,\n        initSwiperSlider: _initSwiperSlider,\n        initPreviewSwiperSlider: _initPreviewSwiperSlider,\n        initPreviewSlider: _initPreviewSlider,\n        initTriumphSlider: _initTriumphSlider,\n        initCatalogItemSlider: _initCatalogItemSlider\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL0JxcWFNRzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvY29tcG9uZW50cy9TbGlkZXIuanM/NzJkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEJhc2UuQ29tcG9uZW50cy5TbGlkZXIuanNcbiAqXG4gKiBAYXV0aG9yIEFudG9uIFVzdGlub2ZmIDxhLmEudXN0aW5vZmZAZ21haWwuY29tPlxuICovXG5cbkJCLmRlZmluZSgnQ29yZS5TbGlkZXInKTtcblxuaW1wb3J0IFN3aXBlciBmcm9tICdzd2lwZXIvZGlzdC9qcy9zd2lwZXInO1xuaW1wb3J0ICdzbGljay1jYXJvdXNlbCc7XG5cbmV4cG9ydCBkZWZhdWx0IEJCLkNvcmUuU2xpZGVyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgICAgICBfaW5pdFNsaWNrKCk7XG4gICAgICAgIF9pbml0U3dpcGVyU2xpZGVyKCk7XG4gICAgICAgIF9pbml0UHJldmlld1N3aXBlclNsaWRlcigpO1xuICAgICAgICBfaW5pdFByZXZpZXdTbGlkZXIoKTtcbiAgICAgICAgX2luaXRUcml1bXBoU2xpZGVyKCk7XG4gICAgICAgIF9pbml0Q2F0YWxvZ0l0ZW1TbGlkZXIoKTtcblxuICAgICAgICBpZiAoTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLSBJTklUIENPUkUgU0xJREVSJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdFNsaWNrKCkge1xuICAgICAgICBsZXQgJHNsaWRlciA9ICQoJy5qcy1iYi1zbGlkZXInKTtcbiAgICAgICAgaWYgKCRzbGlkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAkc2xpZGVyLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJHNsaWRzID0gJCh0aGlzKS5maW5kKCcuYmItc2xpZGVyX19zbGlkZXMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkc2xpZGUgPSAkKHRoaXMpLmZpbmQoJy5iYi1zbGlkZXJfX3NsaWRlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgJHByZXZBcnJvdyA9ICQodGhpcykuZmluZCgnLmJiLXNsaWRlcl9fYXJyb3ctLXByZXYnKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkbmV4dEFycm93ID0gJCh0aGlzKS5maW5kKCcuYmItc2xpZGVyX19hcnJvdy0tbmV4dCcpO1xuXG4gICAgICAgICAgICAgICAgLy9TZXQgc2V0dGluZ3MgZnJvbSBodG1sXG4gICAgICAgICAgICAgICAgY29uc3Qgc2xpZGVzVG9TaG93ID0gJCh0aGlzKS5kYXRhKCdzbGlkZXItc2xpZGVzLXNob3cnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbGlkZXNUb1Njcm9sbCA9ICQodGhpcykuZGF0YSgnc2xpZGVyLXNsaWRlcy1zY3JvbGwnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvcGxheSA9ICQodGhpcykuZGF0YSgnc2xpZGVyLWF1dG9wbGF5Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0b3BsYXlTcGVlZCA9ICQodGhpcykuZGF0YSgnc2xpZGVyLWF1dG9wbGF5LXNwZWVkJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BlZWQgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1zcGVlZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvb3AgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1sb29wJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICQodGhpcykuZGF0YSgnc2xpZGVyLWRvdHMnKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHByZXZBcnJvdzogJHByZXZBcnJvdyxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEFycm93OiAkbmV4dEFycm93LFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogYXV0b3BsYXkgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IGF1dG9wbGF5U3BlZWQgPyBhdXRvcGxheVNwZWVkIDogMjAwMCxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IHNwZWVkID8gc3BlZWQgOiA4MDAsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogc2xpZGVzVG9TaG93ID8gc2xpZGVzVG9TaG93IDogMyxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IHNsaWRlc1RvU2Nyb2xsID8gc2xpZGVzVG9TY3JvbGwgOiAxLFxuICAgICAgICAgICAgICAgICAgICBkb3RzOiBkb3RzID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogbG9vcCA/IHRydWUgOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNDgxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzbGlkZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNsaWRzLm5vdCgnLnNsaWNrLWluaXRpYWxpemVkJykuc2xpY2soc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRTd2lwZXJTbGlkZXIoKSB7XG4gICAgICAgIGxldCBzbGlkZXIgPSAnLmpzLXN3aXBlci1zbGlkZXInO1xuICAgICAgICBsZXQgJHNsaWRlciA9ICQoc2xpZGVyKTtcblxuICAgICAgICBpZiAoJHNsaWRlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICRzbGlkZXIuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbGlkZXMgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1zbGlkZXMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1vZmZzZXQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmVlTW9kZSA9ICQodGhpcykuZGF0YSgnc2xpZGVyLWZyZWUtbW9kZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlV2hlZWwgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1tb3VzZS13aGVlbCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdGlvID0gJCh0aGlzKS5kYXRhKCdzbGlkZXItcmF0aW8nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXIgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1jZW50ZXInKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXp5ID0gJCh0aGlzKS5kYXRhKCdzbGlkZXItbGF6eScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvb3AgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1sb29wJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BlZWQgPSAkKHRoaXMpLmRhdGEoJ3NsaWRlci1zcGVlZCcpO1xuICAgICAgICAgICAgICAgIGxldCAkc2xpZGVyQ29udGFpbmVyO1xuXG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3N3aXBlci1jb250YWluZXInKSkge1xuICAgICAgICAgICAgICAgICAgICAkc2xpZGVyQ29udGFpbmVyID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkc2xpZGVyQ29udGFpbmVyID0gJCh0aGlzKS5maW5kKCcuc3dpcGVyLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbDogJCh0aGlzKS5maW5kKCcuc3dpcGVyLXBhZ2luYXRpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWw6ICQodGhpcykuZmluZCgnLnN3aXBlci1idXR0b24tbmV4dCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkVsOiAkKHRoaXMpLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXM6IGNlbnRlciA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogc2xpZGVzID8gc2xpZGVzIDogMSxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiBvZmZzZXQgPyBvZmZzZXQgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZnJlZU1vZGU6IGZyZWVNb2RlID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtb3VzZXdoZWVsOiBtb3VzZVdoZWVsID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiBsb29wID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogc3BlZWQgPyBzcGVlZCA6IDMwMCxcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZEltYWdlczogbGF6eSA/IGZhbHNlIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGF6eTogdHJ1ZSxcblxuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgNDgwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogc2xpZGVzID8gKHNsaWRlcyAvIHJhdGlvKSAqIDIgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDc2ODoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IHNsaWRlcyA/IHJhdGlvIC8gMi42NiA6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBuZXcgU3dpcGVyKCRzbGlkZXJDb250YWluZXIsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRQcmV2aWV3U3dpcGVyU2xpZGVyKCkge1xuICAgICAgICBsZXQgc2xpZGVyID0gJy5qcy1zd2lwZXItc2xpZGVyLS1wcmV2aWV3JztcbiAgICAgICAgbGV0ICRzbGlkZXIgPSAkKHNsaWRlcik7XG5cbiAgICAgICAgaWYgKCRzbGlkZXIubGVuZ3RoICYmICQod2luZG93KS53aWR0aCgpID4gNDgwKSB7XG4gICAgICAgICAgICBsZXQgc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgdG91Y2hSYXRpbzogMC41LFxuICAgICAgICAgICAgICAgIHRvdWNoQW5nbGU6IDMwLFxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQuNzUsXG4gICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyLFxuICAgICAgICAgICAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1vdXNld2hlZWw6IHRydWUsXG4gICAgICAgICAgICAgICAgbGF6eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBicmVha3BvaW50czoge1xuICAgICAgICAgICAgICAgICAgICAzMjA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEuNSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgNDgwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLjUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIDEwMjQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDQuNSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbmV3IFN3aXBlcihzbGlkZXIsIHNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0VHJpdW1waFNsaWRlcigpIHtcbiAgICAgICAgbGV0ICRzbGlkZXIgPSAkKCcuanMtYmItc2xpZGVyLS10cml1bXBoJyk7XG5cbiAgICAgICAgaWYgKCRzbGlkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAkc2xpZGVyLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KCcudHJpdW1waCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRzbGlkZXMgPSAkdGhpcy5maW5kKCcuYmItc2xpZGVyX19zbGlkZXMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkc2xpZGUgPSAkdGhpcy5maW5kKCcuYmItc2xpZGVyX19zbGlkZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRidG5OZXh0ID0gJHBhcmVudC5maW5kKCcuanMtYmItc2xpZGVyLWJ0bi0tbmV4dCcpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoTW92ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluZmluaXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzbGlkZS5sZW5ndGgpICRzbGlkZXMuc2xpY2soc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAgICAgJHRoaXMub24oJ2FmdGVyQ2hhbmdlJywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBzbGljayxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNsaWRlLFxuICAgICAgICAgICAgICAgICAgICBuZXh0U2xpZGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTbGlkZSArIDEgPT09IHNsaWNrLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRidG5OZXh0LnRleHQoJ9Cf0L7QvdGP0YLQvdC+JykuYXR0cignZGF0YS1kaXNtaXNzJywgJ21vZGFsJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICRidG5OZXh0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ2RhdGEtZGlzbWlzcycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNsaWRlcy5zbGljaygnc2xpY2tOZXh0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vRGlzYWJsZSBjaGFuZ2Ugc2xpZGUgb24gY2xpY2sgZG90c1xuICAgICAgICAgICAgICAgICRzbGlkZXIuZmluZCgnLnNsaWNrLWRvdHMgbGkgYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy9TaG93IHNsaWRlciB3aGVuIG1vZGFsIG9wZW5cbiAgICAgICAgICAgICAgICAkKCcubW9kYWwnKS5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJHNsaWRlciA9ICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYmItc2xpZGVyX19zbGlkZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcignLnNsaWNrLWluaXRpYWxpemVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzbGlkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2xpZGVyWzBdLnNsaWNrLnNldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2xpZGVyLmFkZENsYXNzKCdpcy12aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRDYXRhbG9nSXRlbVNsaWRlcigpIHtcbiAgICAgICAgbGV0ICRjYXRhbG9nSXRlbVNsaWRlciA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1jYXRhbG9nLWl0ZW0tc2xpZGVyJyk7XG5cbiAgICAgICAgaWYgKCRjYXRhbG9nSXRlbVNsaWRlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICRjYXRhbG9nSXRlbVNsaWRlci5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxldCBfdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgbGV0ICRzbGlkZXMgPSAkKHRoaXMpLmZpbmQoJy5iYi1zbGlkZXJfX3NsaWRlcycpO1xuICAgICAgICAgICAgICAgIGxldCAkc2xpZGUgPSAkKHRoaXMpLmZpbmQoJy5iYi1zbGlkZXJfX3NsaWRlJyk7XG4gICAgICAgICAgICAgICAgbGV0ICRzbGlkZXJEb3RzID0gJCh0aGlzKS5maW5kKCcuYmItc2xpZGVyX19kb3RzJyk7XG4gICAgICAgICAgICAgICAgJHNsaWRlckRvdHMuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXNcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdpbml0JywgZnVuY3Rpb24oZXZlbnQsIHNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2xpZGVyRG90cy5wcmVwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPHNwYW4gY2xhc3M9J2JiLXNsaWRlcl9fcGFnZXIgYmItc2xpZGVyX19wYWdlci0tbm93Jz4xPC9zcGFuPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy8nXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNsaWRlckRvdHMuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPHNwYW4gY2xhc3M9J2JiLXNsaWRlcl9fcGFnZXIgYmItc2xpZGVyX19wYWdlci0tdG90YWwnPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpY2suc2xpZGVDb3VudCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3NwYW4+J1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdhZnRlckNoYW5nZScsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTbGlkZVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gKGN1cnJlbnRTbGlkZSA/IGN1cnJlbnRTbGlkZSA6IDApICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZpbmQoJy5iYi1zbGlkZXJfX3BhZ2VyLS1ub3cnKS5odG1sKGkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICgkc2xpZGUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAkc2xpZGVyRG90cy5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHNsaWRlcy5ub3QoJy5zbGljay1pbml0aWFsaXplZCcpLnNsaWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhenlMb2FkOiAnb25kZW1hbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG90czogZmFsc2UsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcbiAgICAgICAgICAgICAgICAkKCcuanMtY2F0YWxvZy1pdGVtJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5iYi1zbGlkZXJfX3NsaWRlcycpXG4gICAgICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0UHJldmlld1NsaWRlcigpIHtcbiAgICAgICAgbGV0ICRwcmV2aWV3U2xpZGVyID0gJCgnLmpzLWNhcmQtc2xpZGVyJyk7XG4gICAgICAgIGlmICgkcHJldmlld1NsaWRlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICRwcmV2aWV3U2xpZGVyLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGV0IF90aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBsZXQgJHNsaWRlcyA9IF90aGlzLmZpbmQoJy5iYi1zbGlkZXJfX3NsaWRlcycpO1xuICAgICAgICAgICAgICAgIGxldCAkc2xpZGVyRG90cyA9ICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5iYi1zbGlkZXJfX2RvdHMnKVxuICAgICAgICAgICAgICAgICAgICAuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBuZXh0QXJyb3c6ICcuYmItc2xpZGVyX19hcnJvdy0tbmV4dCcsXG4gICAgICAgICAgICAgICAgICAgIHByZXZBcnJvdzogJy5iYi1zbGlkZXJfX2Fycm93LS1wcmV2JyxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsYXp5TG9hZDogJ29uZGVtYW5kJyxcblxuICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogMTIwMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNDgxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA0ODApIHtcbiAgICAgICAgICAgICAgICAgICAgJHNsaWRlckRvdHMuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ2luaXQnLCBmdW5jdGlvbihldmVudCwgc2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2xpZGVyRG90cy5wcmVwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxzcGFuIGNsYXNzPSdiYi1zbGlkZXJfX3BhZ2VyIGJiLXNsaWRlcl9fcGFnZXItLW5vdyc+MTwvc3Bhbj5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzbGlkZXJEb3RzLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz0nYmItc2xpZGVyX19wYWdlciBiYi1zbGlkZXJfX3BhZ2VyLS10b3RhbCc+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpY2suc2xpZGVDb3VudCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignYWZ0ZXJDaGFuZ2UnLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNsaWRlXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IChjdXJyZW50U2xpZGUgPyBjdXJyZW50U2xpZGUgOiAwKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmluZCgnLmJiLXNsaWRlcl9fcGFnZXItLW5vdycpLmh0bWwoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2xpZGVzLm5vdCgnLnNsaWNrLWluaXRpYWxpemVkJykuc2xpY2soc2V0dGluZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBfaW5pdCxcbiAgICAgICAgaW5pdFNsaWNrOiBfaW5pdFNsaWNrLFxuICAgICAgICBpbml0U3dpcGVyU2xpZGVyOiBfaW5pdFN3aXBlclNsaWRlcixcbiAgICAgICAgaW5pdFByZXZpZXdTd2lwZXJTbGlkZXI6IF9pbml0UHJldmlld1N3aXBlclNsaWRlcixcbiAgICAgICAgaW5pdFByZXZpZXdTbGlkZXI6IF9pbml0UHJldmlld1NsaWRlcixcbiAgICAgICAgaW5pdFRyaXVtcGhTbGlkZXI6IF9pbml0VHJpdW1waFNsaWRlcixcbiAgICAgICAgaW5pdENhdGFsb2dJdGVtU2xpZGVyOiBfaW5pdENhdGFsb2dJdGVtU2xpZGVyLFxuICAgIH07XG59KSgpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFGQTtBQWJBO0FBQ0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFKQTtBQXJCQTtBQUNBO0FBOEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBUEE7QUFSQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUtBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFWQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBekJBO0FBQ0E7QUFrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBS0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:////BqqaMG3\n");

/***/ }),

/***/ "0/PiRBgX":
/*!******************************!*\
  !*** ./components/PushUp.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return pushUp; });\n/* html example PushUp\r\n<button\r\n\tdata-push\r\n\tdata-push-delay=\"2500\"\r\n\tdata-push-message-error=\"{{ messageError }}\"\r\n\tdata-push-message-success=\"{{ messageSuccess }}\"\r\n\tdata-push-status=\"{{ messageStatus | escape }}\"\r\n>\r\n</button>\r\n*/\n\nfunction pushUp(options) {\n    var text = options.text || 'Вам новая заявка';\n    var status = options.status || 'success';\n    var timeOut = options.timeOut || 1500;\n\n    var $pushContainer = $('<div>').addClass('push-up push-up--center push-up--transparent');\n\n    var $pushIconSuccess = $('<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n        width=\"611.994px\" height=\"611.994px\" viewBox=\"0 0 611.994 611.994\"\\n        xml:space=\"preserve\" class=\"push-up__icon\">\\n            <path d=\"M248.172,423.918l-89.545-89.534c-5.637-5.637-5.637-14.778,0-20.416c5.643-5.644,14.78-5.644,20.417,0l69.128,69.122\\n                l184.796-184.802c5.644-5.643,14.78-5.643,20.417,0c5.644,5.637,5.644,14.78,0,20.417L248.172,423.918z\"/>\\n                <path d=\"M306.031,611.994v-14.438l-0.022,14.438C137.286,611.994,0.012,474.726,0,306.003C0,137.274,137.274,0,305.997,0\\n                    c168.729,0,305.997,137.274,305.997,305.997C612,474.726,474.743,611.994,306.031,611.994z M305.997,28.878\\n                    c-152.805,0-277.119,124.314-277.119,277.119C28.89,458.796,153.209,583.11,306.009,583.11h0.022\\n                    c152.788,0,277.091-124.314,277.091-277.113C583.122,153.192,458.802,28.878,305.997,28.878z\"/>\\n        </svg>');\n\n    var $pushIconError = $('<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n            viewBox=\"0 0 78.561 78.561\" xml:space=\"preserve\" class=\"push-up__icon\">\\n            <circle cx=\"39.28\" cy=\"57.772\" r=\"3.632\"/>\\n            <path d=\"M38.792,48.347c1.104,0,2-0.896,2-2v-19c0-1.104-0.896-2-2-2s-2,0.896-2,2v19C36.792,47.451,37.688,48.347,38.792,48.347z\\n                \"/>\\n            <path d=\"M46.57,11.542l-0.091-0.141c-1.852-2.854-3.766-5.806-7.199-5.806c-3.578,0-5.45,2.994-7.26,5.891\\n                c-0.009,0.014-0.065,0.104-0.074,0.119L0.278,65.266C0.096,65.574,0,65.735,0,66.092c0,3.896,3.135,6.874,6.988,6.874h64.585\\n                c3.854,0,6.988-2.979,6.988-6.874c0-0.357-0.096-0.614-0.277-0.921L46.57,11.542z M71.573,68.966H6.988\\n                c-1.461,0-2.717-0.951-2.95-2.394l31.374-53.061c1.554-2.487,2.572-3.963,3.868-3.963c1.261,0,2.457,1.87,3.843,4.006\\n                l31.399,53.007C74.29,68.003,73.034,68.966,71.573,68.966z\"/>\\n        </svg>\\n');\n\n    $pushContainer.text(text).appendTo($('body'));\n\n    if (status === 'error') {\n        $pushContainer.addClass('is-error');\n        $pushIconError.prependTo($pushContainer);\n    } else {\n        $pushContainer.addClass('is-success');\n        $pushIconSuccess.prependTo($pushContainer);\n    }\n\n    _poshPos();\n\n    window.requestAnimationFrame(function () {\n        $pushContainer.addClass('is-active');\n    });\n\n    setTimeout(function () {\n        $pushContainer.removeClass('is-active');\n        _poshPos();\n    }, timeOut);\n\n    setTimeout(function () {\n        $pushContainer.remove();\n        _poshPos();\n    }, timeOut + 500);\n\n    $(document).on('click', '.js-push-up--close', function () {\n        var $parent = $(this).closest('.push-up');\n        $parent.removeClass('is-active');\n        setTimeout(function () {\n            $parent.remove();\n        }, 300);\n        _poshPos();\n    });\n\n    function _poshPos() {\n        $('.push-up').each(function (e) {\n            var height = $('.push-up').outerHeight(true);\n            $(this).css('top', height * e + 10 + e);\n        });\n    }\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC9QaVJCZ1guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvUHVzaFVwLmpzP2RmYWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogaHRtbCBleGFtcGxlIFB1c2hVcFxyXG48YnV0dG9uXHJcblx0ZGF0YS1wdXNoXHJcblx0ZGF0YS1wdXNoLWRlbGF5PVwiMjUwMFwiXHJcblx0ZGF0YS1wdXNoLW1lc3NhZ2UtZXJyb3I9XCJ7eyBtZXNzYWdlRXJyb3IgfX1cIlxyXG5cdGRhdGEtcHVzaC1tZXNzYWdlLXN1Y2Nlc3M9XCJ7eyBtZXNzYWdlU3VjY2VzcyB9fVwiXHJcblx0ZGF0YS1wdXNoLXN0YXR1cz1cInt7IG1lc3NhZ2VTdGF0dXMgfCBlc2NhcGUgfX1cIlxyXG4+XHJcbjwvYnV0dG9uPlxyXG4qL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHVzaFVwKG9wdGlvbnMpIHtcclxuICAgIGxldCB0ZXh0ID0gb3B0aW9ucy50ZXh0IHx8ICfQktCw0Lwg0L3QvtCy0LDRjyDQt9Cw0Y/QstC60LAnO1xyXG4gICAgbGV0IHN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzIHx8ICdzdWNjZXNzJztcclxuICAgIGxldCB0aW1lT3V0ID0gb3B0aW9ucy50aW1lT3V0IHx8IDE1MDA7XHJcblxyXG4gICAgY29uc3QgJHB1c2hDb250YWluZXIgPSAkKCc8ZGl2PicpLmFkZENsYXNzKFxyXG4gICAgICAgICdwdXNoLXVwIHB1c2gtdXAtLWNlbnRlciBwdXNoLXVwLS10cmFuc3BhcmVudCdcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgJHB1c2hJY29uU3VjY2VzcyA9ICQoXHJcbiAgICAgICAgYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcclxuICAgICAgICB3aWR0aD1cIjYxMS45OTRweFwiIGhlaWdodD1cIjYxMS45OTRweFwiIHZpZXdCb3g9XCIwIDAgNjExLjk5NCA2MTEuOTk0XCJcclxuICAgICAgICB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIGNsYXNzPVwicHVzaC11cF9faWNvblwiPlxyXG4gICAgICAgICAgICA8cGF0aCBkPVwiTTI0OC4xNzIsNDIzLjkxOGwtODkuNTQ1LTg5LjUzNGMtNS42MzctNS42MzctNS42MzctMTQuNzc4LDAtMjAuNDE2YzUuNjQzLTUuNjQ0LDE0Ljc4LTUuNjQ0LDIwLjQxNywwbDY5LjEyOCw2OS4xMjJcclxuICAgICAgICAgICAgICAgIGwxODQuNzk2LTE4NC44MDJjNS42NDQtNS42NDMsMTQuNzgtNS42NDMsMjAuNDE3LDBjNS42NDQsNS42MzcsNS42NDQsMTQuNzgsMCwyMC40MTdMMjQ4LjE3Miw0MjMuOTE4elwiLz5cclxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMzA2LjAzMSw2MTEuOTk0di0xNC40MzhsLTAuMDIyLDE0LjQzOEMxMzcuMjg2LDYxMS45OTQsMC4wMTIsNDc0LjcyNiwwLDMwNi4wMDNDMCwxMzcuMjc0LDEzNy4yNzQsMCwzMDUuOTk3LDBcclxuICAgICAgICAgICAgICAgICAgICBjMTY4LjcyOSwwLDMwNS45OTcsMTM3LjI3NCwzMDUuOTk3LDMwNS45OTdDNjEyLDQ3NC43MjYsNDc0Ljc0Myw2MTEuOTk0LDMwNi4wMzEsNjExLjk5NHogTTMwNS45OTcsMjguODc4XHJcbiAgICAgICAgICAgICAgICAgICAgYy0xNTIuODA1LDAtMjc3LjExOSwxMjQuMzE0LTI3Ny4xMTksMjc3LjExOUMyOC44OSw0NTguNzk2LDE1My4yMDksNTgzLjExLDMwNi4wMDksNTgzLjExaDAuMDIyXHJcbiAgICAgICAgICAgICAgICAgICAgYzE1Mi43ODgsMCwyNzcuMDkxLTEyNC4zMTQsMjc3LjA5MS0yNzcuMTEzQzU4My4xMjIsMTUzLjE5Miw0NTguODAyLDI4Ljg3OCwzMDUuOTk3LDI4Ljg3OHpcIi8+XHJcbiAgICAgICAgPC9zdmc+YFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCAkcHVzaEljb25FcnJvciA9ICQoXHJcbiAgICAgICAgYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcclxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCA3OC41NjEgNzguNTYxXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiBjbGFzcz1cInB1c2gtdXBfX2ljb25cIj5cclxuICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjM5LjI4XCIgY3k9XCI1Ny43NzJcIiByPVwiMy42MzJcIi8+XHJcbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNMzguNzkyLDQ4LjM0N2MxLjEwNCwwLDItMC44OTYsMi0ydi0xOWMwLTEuMTA0LTAuODk2LTItMi0ycy0yLDAuODk2LTIsMnYxOUMzNi43OTIsNDcuNDUxLDM3LjY4OCw0OC4zNDcsMzguNzkyLDQ4LjM0N3pcclxuICAgICAgICAgICAgICAgIFwiLz5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk00Ni41NywxMS41NDJsLTAuMDkxLTAuMTQxYy0xLjg1Mi0yLjg1NC0zLjc2Ni01LjgwNi03LjE5OS01LjgwNmMtMy41NzgsMC01LjQ1LDIuOTk0LTcuMjYsNS44OTFcclxuICAgICAgICAgICAgICAgIGMtMC4wMDksMC4wMTQtMC4wNjUsMC4xMDQtMC4wNzQsMC4xMTlMMC4yNzgsNjUuMjY2QzAuMDk2LDY1LjU3NCwwLDY1LjczNSwwLDY2LjA5MmMwLDMuODk2LDMuMTM1LDYuODc0LDYuOTg4LDYuODc0aDY0LjU4NVxyXG4gICAgICAgICAgICAgICAgYzMuODU0LDAsNi45ODgtMi45NzksNi45ODgtNi44NzRjMC0wLjM1Ny0wLjA5Ni0wLjYxNC0wLjI3Ny0wLjkyMUw0Ni41NywxMS41NDJ6IE03MS41NzMsNjguOTY2SDYuOTg4XHJcbiAgICAgICAgICAgICAgICBjLTEuNDYxLDAtMi43MTctMC45NTEtMi45NS0yLjM5NGwzMS4zNzQtNTMuMDYxYzEuNTU0LTIuNDg3LDIuNTcyLTMuOTYzLDMuODY4LTMuOTYzYzEuMjYxLDAsMi40NTcsMS44NywzLjg0Myw0LjAwNlxyXG4gICAgICAgICAgICAgICAgbDMxLjM5OSw1My4wMDdDNzQuMjksNjguMDAzLDczLjAzNCw2OC45NjYsNzEuNTczLDY4Ljk2NnpcIi8+XHJcbiAgICAgICAgPC9zdmc+XHJcbmBcclxuICAgICk7XHJcblxyXG4gICAgJHB1c2hDb250YWluZXIudGV4dCh0ZXh0KS5hcHBlbmRUbygkKCdib2R5JykpO1xyXG5cclxuICAgIGlmIChzdGF0dXMgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAkcHVzaENvbnRhaW5lci5hZGRDbGFzcygnaXMtZXJyb3InKTtcclxuICAgICAgICAkcHVzaEljb25FcnJvci5wcmVwZW5kVG8oJHB1c2hDb250YWluZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkcHVzaENvbnRhaW5lci5hZGRDbGFzcygnaXMtc3VjY2VzcycpO1xyXG4gICAgICAgICRwdXNoSWNvblN1Y2Nlc3MucHJlcGVuZFRvKCRwdXNoQ29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBfcG9zaFBvcygpO1xyXG5cclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHB1c2hDb250YWluZXIuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAkcHVzaENvbnRhaW5lci5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgICAgICAgX3Bvc2hQb3MoKTtcclxuICAgIH0sIHRpbWVPdXQpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHB1c2hDb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgX3Bvc2hQb3MoKTtcclxuICAgIH0sIHRpbWVPdXQgKyA1MDApO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtcHVzaC11cC0tY2xvc2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgJHBhcmVudCA9ICQodGhpcykuY2xvc2VzdCgnLnB1c2gtdXAnKTtcclxuICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkcGFyZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgX3Bvc2hQb3MoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9wb3NoUG9zKCkge1xyXG4gICAgICAgICQoJy5wdXNoLXVwJykuZWFjaChmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSAkKCcucHVzaC11cCcpLm91dGVySGVpZ2h0KHRydWUpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcygndG9wJywgaGVpZ2h0ICogZSArIDEwICsgZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBWUE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0/PiRBgX\n");

/***/ }),

/***/ "CoitQNvT":
/*!******************************!*\
  !*** ./components/Viewer.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Viewer = function () {\n    /**\r\n     *\r\n     * @param {args.selector}\r\n     * Должен быть строкой\r\n     */\n    function Viewer(args) {\n        _classCallCheck(this, Viewer);\n\n        this.selector = document.querySelectorAll(args.selector);\n    }\n    /**\r\n     * Метот инициальзации Viewer\r\n     */\n\n\n    _createClass(Viewer, [{\n        key: 'init',\n        value: function init() {\n            if (this.selector.length) {\n                if (!Element.prototype.remove) {\n                    Element.prototype.remove = function remove() {\n                        if (this.parentNode) {\n                            this.parentNode.removeChild(this);\n                        }\n                    };\n                }\n                this.hide();\n                this.addEventListenerBtnOutside();\n            }\n        }\n\n        /**\r\n         * Метод скрывающий блоки если их больше допустимого\r\n         */\n\n    }, {\n        key: 'hide',\n        value: function hide() {\n            var _this = this;\n\n            this.selector.forEach(function (item) {\n                var elems = Array.prototype.slice.call(item.children);\n                var startViewBlock = item.getAttribute('data-view-block') || 4;\n                var children = elems.filter(function (item) {\n                    if (item.classList.contains('js-viewer-btn') || item.classList.contains('js-viewer-all-btn')) {\n                        return false;\n                    }\n                    return true;\n                });\n\n                if (children.length >= startViewBlock) {\n                    elems.forEach(function (item) {\n                        if (item.classList.contains('js-viewer-btn') || item.classList.contains('js-viewer-all-btn')) {\n                            _this._addEventListener(item);\n                        }\n                    });\n\n                    children.forEach(function (item, i) {\n                        if (i + 1 > startViewBlock) {\n                            item.style.display = 'none';\n                        }\n                    });\n                } else {\n                    elems.forEach(function (item) {\n                        if (item.classList.contains('js-viewer-btn') || item.classList.contains('js-viewer-all-btn')) {\n                            item.remove();\n                        }\n                    });\n                }\n            });\n        }\n\n        /**\r\n         * Метод инициализации кнопок контроля показа элементов\r\n         * @param btn DOM элемент являющейся кнопкой контроля Viewer\r\n         */\n\n    }, {\n        key: '_addEventListener',\n        value: function _addEventListener(btn) {\n            if (btn.classList.contains('js-viewer-btn')) {\n                btn.removeEventListener('click', showNeighbors, false);\n                btn.addEventListener('click', showNeighbors, false);\n            }\n\n            if (btn.classList.contains('js-viewer-all-btn')) {\n                btn.removeEventListener('click', showAll, false);\n                btn.addEventListener('click', showAll, false);\n            }\n\n            // функция показа только соседей\n            function showNeighbors(e) {\n                var viewerBtn = e.target.closest('.js-viewer-btn');\n                var elems = Array.prototype.slice.call(viewerBtn.parentElement.children);\n                elems.forEach(function (item) {\n                    item.removeAttribute('style');\n                });\n                viewerBtn.remove();\n            }\n\n            //функция показа всех дочерних элементов\n            function showAll(e) {\n                var viewerAllBtn = e.target.closest('.js-viewer-all-btn');\n                var elems = viewerAllBtn.parentElement.querySelectorAll('[style=\"display: none;\"]');\n\n                elems.forEach(function (item) {\n                    item.removeAttribute('style');\n                });\n                viewerAllBtn.remove();\n            }\n        }\n\n        /**\r\n         * Метод инициализации события на кнопку, если она лежит на одном уровне с блоком js-viewer\r\n         */\n\n    }, {\n        key: 'addEventListenerBtnOutside',\n        value: function addEventListenerBtnOutside() {\n            var btn = document.querySelectorAll('.js-viewer-hermit-btn');\n\n            if (btn.length) {\n                btn.forEach(function (item) {\n                    item.removeEventListener('click', showAll);\n                    item.addEventListener('click', showAll);\n                });\n            }\n\n            function showAll(e) {\n                var btn = e.target.closest('.js-viewer-hermit-btn');\n                var elems = Array.prototype.slice.call(btn.parentElement.querySelector('.js-viewer').children);\n                elems.forEach(function (item) {\n                    return item.removeAttribute('style');\n                });\n                btn.remove();\n            }\n        }\n    }]);\n\n    return Viewer;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Viewer);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29pdFFOdlQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvVmlld2VyLmpzPzFmODkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld2VyIHtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7YXJncy5zZWxlY3Rvcn1cclxuICAgICAqINCU0L7Qu9C20LXQvSDQsdGL0YLRjCDRgdGC0YDQvtC60L7QuVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXJncy5zZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqINCc0LXRgtC+0YIg0LjQvdC40YbQuNCw0LvRjNC30LDRhtC40LggVmlld2VyXHJcbiAgICAgKi9cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICghRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyQnRuT3V0c2lkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqINCc0LXRgtC+0LQg0YHQutGA0YvQstCw0Y7RidC40Lkg0LHQu9C+0LrQuCDQtdGB0LvQuCDQuNGFINCx0L7Qu9GM0YjQtSDQtNC+0L/Rg9GB0YLQuNC80L7Qs9C+XHJcbiAgICAgKi9cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IGVsZW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaXRlbS5jaGlsZHJlbik7XHJcbiAgICAgICAgICAgIGxldCBzdGFydFZpZXdCbG9jayA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXZpZXctYmxvY2snKSB8fCA0O1xyXG4gICAgICAgICAgICBsZXQgY2hpbGRyZW4gPSBlbGVtcy5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXZpZXdlci1idG4nKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy12aWV3ZXItYWxsLWJ0bicpXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID49IHN0YXJ0Vmlld0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXZpZXdlci1idG4nKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5jb250YWlucygnanMtdmlld2VyLWFsbC1idG4nKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVyKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSArIDEgPiBzdGFydFZpZXdCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLXZpZXdlci1idG4nKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5jb250YWlucygnanMtdmlld2VyLWFsbC1idG4nKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQnNC10YLQvtC0INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INC60L3QvtC/0L7QuiDQutC+0L3RgtGA0L7Qu9GPINC/0L7QutCw0LfQsCDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgICAqIEBwYXJhbSBidG4gRE9NINGN0LvQtdC80LXQvdGCINGP0LLQu9GP0Y7RidC10LnRgdGPINC60L3QvtC/0LrQvtC5INC60L7QvdGC0YDQvtC70Y8gVmlld2VyXHJcbiAgICAgKi9cclxuICAgIF9hZGRFdmVudExpc3RlbmVyKGJ0bikge1xyXG4gICAgICAgIGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy12aWV3ZXItYnRuJykpIHtcclxuICAgICAgICAgICAgYnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd05laWdoYm9ycywgZmFsc2UpO1xyXG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93TmVpZ2hib3JzLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYnRuLmNsYXNzTGlzdC5jb250YWlucygnanMtdmlld2VyLWFsbC1idG4nKSkge1xyXG4gICAgICAgICAgICBidG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93QWxsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dBbGwsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINGE0YPQvdC60YbQuNGPINC/0L7QutCw0LfQsCDRgtC+0LvRjNC60L4g0YHQvtGB0LXQtNC10LlcclxuICAgICAgICBmdW5jdGlvbiBzaG93TmVpZ2hib3JzKGUpIHtcclxuICAgICAgICAgICAgbGV0IHZpZXdlckJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5qcy12aWV3ZXItYnRuJyk7XHJcbiAgICAgICAgICAgIGxldCBlbGVtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxyXG4gICAgICAgICAgICAgICAgdmlld2VyQnRuLnBhcmVudEVsZW1lbnQuY2hpbGRyZW5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZWxlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmlld2VyQnRuLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/RhNGD0L3QutGG0LjRjyDQv9C+0LrQsNC30LAg0LLRgdC10YUg0LTQvtGH0LXRgNC90LjRhSDRjdC70LXQvNC10L3RgtC+0LJcclxuICAgICAgICBmdW5jdGlvbiBzaG93QWxsKGUpIHtcclxuICAgICAgICAgICAgbGV0IHZpZXdlckFsbEJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5qcy12aWV3ZXItYWxsLWJ0bicpO1xyXG4gICAgICAgICAgICBsZXQgZWxlbXMgPSB2aWV3ZXJBbGxCdG4ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgICAgJ1tzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCJdJ1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgZWxlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmlld2VyQWxsQnRuLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqINCc0LXRgtC+0LQg0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40Lgg0YHQvtCx0YvRgtC40Y8g0L3QsCDQutC90L7Qv9C60YMsINC10YHQu9C4INC+0L3QsCDQu9C10LbQuNGCINC90LAg0L7QtNC90L7QvCDRg9GA0L7QstC90LUg0YEg0LHQu9C+0LrQvtC8IGpzLXZpZXdlclxyXG4gICAgICovXHJcbiAgICBhZGRFdmVudExpc3RlbmVyQnRuT3V0c2lkZSgpIHtcclxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXZpZXdlci1oZXJtaXQtYnRuJyk7XHJcblxyXG4gICAgICAgIGlmIChidG4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGJ0bi5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dBbGwpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dBbGwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dBbGwoZSkge1xyXG4gICAgICAgICAgICBsZXQgYnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLmpzLXZpZXdlci1oZXJtaXQtYnRuJyk7XHJcbiAgICAgICAgICAgIGxldCBlbGVtcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxyXG4gICAgICAgICAgICAgICAgYnRuLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXZpZXdlcicpLmNoaWxkcmVuXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGVsZW1zLmZvckVhY2goaXRlbSA9PiBpdGVtLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKSk7XHJcbiAgICAgICAgICAgIGJ0bi5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7Ozs7O0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQXRJQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///CoitQNvT\n");

/***/ }),

/***/ "CuZTpoYQ":
/*!***********************!*\
  !*** ./core/index.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($, __webpack_provided_window_dot_jQuery) {/* harmony import */ var nprogress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nprogress */ \"BqJQSQ2f\");\n/* harmony import */ var nprogress__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nprogress__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cropperjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cropperjs */ \"Ctz4SKxC\");\n/* harmony import */ var cropperjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cropperjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sortablejs */ \"k5Cmy7d3\");\n/* harmony import */ var nouislider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nouislider */ \"SzvAE7KG\");\n/* harmony import */ var nouislider__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(nouislider__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var air_datepicker_dist_js_datepicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! air-datepicker/dist/js/datepicker */ \"t9VxYuXu\");\n/* harmony import */ var air_datepicker_dist_js_datepicker__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(air_datepicker_dist_js_datepicker__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! flatpickr/dist/flatpickr.min */ \"fZot31e8\");\n/* harmony import */ var flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(flatpickr_dist_flatpickr_min__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var flatpickr_dist_l10n_ru__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! flatpickr/dist/l10n/ru */ \"/I2iGjk9\");\n/* harmony import */ var flatpickr_dist_l10n_ru__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(flatpickr_dist_l10n_ru__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var clipboard_dist_clipboard_min__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! clipboard/dist/clipboard.min */ \"rvNO/yzU\");\n/* harmony import */ var clipboard_dist_clipboard_min__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(clipboard_dist_clipboard_min__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var simplebar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! simplebar */ \"ImZ4bP8o\");\n/**\r\n * Core (патерн модуль)\r\n * Создаем глобальный обьект BB в контексте window для того чтобы был доступ к методам из вне\r\n * Define function - для безопасного добавления пространства имен к глобальному обьекту BB\r\n * Определяем пространства емен Core с помощью функции define\r\n *\r\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\r\n */\n\n\n\n\n\n\n\n\n\n//Save plugins in global\n__webpack_provided_window_dot_jQuery = $;\nwindow.$ = $;\nwindow.NProgress = nprogress__WEBPACK_IMPORTED_MODULE_0__;\nwindow.noUiSlider = nouislider__WEBPACK_IMPORTED_MODULE_3___default.a;\nwindow.Sortable = sortablejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nwindow.Cropper = cropperjs__WEBPACK_IMPORTED_MODULE_1___default.a;\n\nwindow.BB = BB || {};\n\nvar BB = window.BB;\n\nBB.define = function (namespace) {\n    var parts = namespace.split('.'),\n        parent = BB,\n        i = void 0;\n\n    //Убрать  начальный префикс если это являетсся глобальной переменной\n    if (parts[0] === 'BB') {\n        parts = parts.slice(1);\n    }\n\n    //Если в глобальном объекте  нет  свойства  - создать  его.\n    for (var _i = 0; _i < parts.length; _i++) {\n        if (typeof parent[parts[_i]] === 'undefined') {\n            parent[parts[_i]] = {};\n        }\n        parent = parent[parts[_i]];\n    }\n\n    return parent;\n};\n\nBB.define('Core');\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Core = function () {\n    function _init() {\n        _removePreloader();\n        _changeModalBackdropZindex();\n        _removeElements();\n        // _initOffsets();\n        _initMobileSearch();\n        _initListToggle();\n        _initCopyText();\n        _initTogglePhone();\n        _initCitySelect();\n        // Проверка на touch устройство\n        // if (\"ontouchstart\" in document.documentElement) {\n        //     alert(\"It a touch screen device.\");\n        // } else {\n        //     alert(\"Others devices\");\n        // }\n        // После полной загрузки страницы регистрируем service worker\n        // if ('serviceWorker' in navigator) {\n        //     window.addEventListener('load', _registerServiceWorker);\n        // }\n\n        if (true) {\n            console.log('--- INIT CORE');\n        }\n    }\n\n    function _registerServiceWorker() {\n        // файл подключается из корня сайта, а значит\n        // сможет обрабатывать запросы на все подразделы\n        navigator.serviceWorker.register('/service-worker.js').then(function (reg) {\n            return console.log('SW registered!', reg);\n        }).catch(function (err) {\n            return console.error('SW has error', err);\n        });\n    }\n\n    function _removePreloader() {\n        setTimeout(function () {\n            $('body').removeClass('loading loading-animation is-loading');\n            $('._loading').removeClass('_loading');\n        }, 500);\n    }\n\n    function _removeElements() {\n        //SimpleBar https://github.com/Grsmto/simplebar\n        if ($(window).width() > 768) {\n            setTimeout(function () {\n                $('div').removeAttr('data-simplebar');\n            }, 500);\n        }\n    }\n\n    function _initOffsets() {\n        if ($('.header').hasClass('header--fixed')) {\n            var headerHeight = $('.header').outerHeight(true);\n\n            $('body').css('margin-top', headerHeight);\n        }\n    }\n\n    //Mobile Search Btn open/close\n    function _initMobileSearch() {\n        var searchBtn = document.querySelectorAll('.js-mobile-search-btn');\n        searchBtn.forEach(function (item) {\n            item.removeEventListener('click', _toggleSearch);\n            item.addEventListener('click', _toggleSearch);\n        });\n\n        function _toggleSearch() {\n            var wrapper = document.querySelector('.wrapper');\n            if (wrapper.classList.contains('mobile-search--open')) {\n                wrapper.classList.remove('mobile-search--open');\n                return false;\n            } else {\n                wrapper.classList.add('mobile-search--open');\n                return false;\n            }\n        }\n    }\n\n    function _initListToggle() {\n        var $list = $('.js-list');\n        var $checkbox = $list.find('.js-bb-checkbox');\n        var $workList = $list.find('.js-list-toggle');\n\n        if ($list.length) {\n            if ($list.attr('data-reverse') === 'true') {\n                if (!$checkbox.hasClass('is-checked')) {\n                    $workList.hide();\n                }\n                $checkbox.on('click', function () {\n                    if ($checkbox.hasClass('is-checked')) {\n                        $workList.show();\n                    } else {\n                        $workList.hide();\n                    }\n                });\n            } else {\n                $checkbox.on('click', function () {\n                    if ($checkbox.hasClass('is-checked')) {\n                        $workList.hide();\n                    } else {\n                        $workList.show();\n                    }\n                });\n            }\n        }\n    }\n\n    //Copy text click link\n    function _initCopyText() {\n        if (document.querySelector('.js-user-link')) {\n            var cb = new clipboard_dist_clipboard_min__WEBPACK_IMPORTED_MODULE_7___default.a('.js-user-link');\n\n            //if has input then copy input value in data attr\n            // Base.Components.Input.initInputSearch();\n        }\n    }\n\n    //Show phone number\n    function _initTogglePhone() {\n        $('.js-user-phone').each(function () {\n            $(this).attr('href', 'javascript:void(0);').text($(this).data('phone-hiden'));\n        });\n\n        $(document).on('click', '.js-user-phone--show', function () {\n            var userPhone = $(this).parent().find('.js-user-phone');\n            var phone = userPhone.data('phone');\n            userPhone.removeAttr('style').attr('href', 'tel:' + phone).text(phone);\n            $(this).css('display', 'none');\n        });\n    }\n\n    function _initPhoneConfirmTimer() {\n        var $timer = $(document).find('.js-timer');\n\n        if ($timer.length) {\n            $timer.each(function () {\n                var $timerBtnRepeat = $(this).find('.js-timer-bnt--repeat');\n                var $timerBtnSkip = $(this).find('.js-timer-bnt--skip');\n                var $text = $(this).find('.js-timer-text');\n                var $time = $(this).find('[data-timer-time]');\n\n                var timer = function timer() {\n                    setTimeout(function () {\n                        var time = $time.data('timer-time');\n\n                        $time.text(time);\n\n                        var int = setInterval(function () {\n                            time--;\n                            if (time == -1) {\n                                clearInterval(int);\n\n                                $text.css('display', 'none');\n                                $timerBtnRepeat.removeAttr('style');\n                                $timerBtnSkip.removeAttr('style');\n                            } else {\n                                $time.text(time);\n                            }\n                        }, 1000);\n\n                        $timerBtnRepeat.on('click', function (e) {\n                            clearInterval(int);\n                            timer();\n                        });\n                    });\n                };\n                timer();\n            });\n\n            $('.js-timer-bnt--repeat').on('click', function (e) {\n                $(this).css('display', 'none').closest('.js-timer').find('.js-timer-text').removeAttr('style');\n                phoneConfirmTimer();\n            });\n\n            $('.js-input-focus:last').on('keyup', function () {\n                $(this).blur();\n            });\n        }\n    }\n\n    //City select\n    function _initCitySelect() {\n        var $changeCity = $('.js-city-select');\n        var $changeCityTitle = $changeCity.find('.city-select__title span');\n        var $input = $changeCity.find('input');\n\n        $input.on('click focus', function (e) {\n            e.stopPropagation();\n        });\n\n        $changeCity.find('.city-select__item').on('click', function () {\n            $changeCityTitle.text($(this).text());\n        });\n    }\n\n    function _initCheckServiceItem() {\n        var $beautyLink = $(document).find('#beautylink');\n        var $cardServicesItem = $(document).find('.js-card-services-item');\n        var ACTIVE_CLASS = 'is-booked';\n\n        $cardServicesItem.on('click', function (e) {\n            var conditions = '.card-services-item__middle, .card-services-item__info-block, .card-services-item__bottom';\n            if ($(e.target).closest(conditions).length) {\n                return;\n            } else {\n                _checkItem.call($(this));\n            }\n        });\n\n        function _checkBooked() {\n            if ($beautyLink.length) {\n                if ($cardServicesItem.hasClass(ACTIVE_CLASS)) {\n                    $beautyLink.addClass(ACTIVE_CLASS);\n                } else {\n                    $beautyLink.removeClass(ACTIVE_CLASS);\n                }\n            }\n        }\n        _checkBooked();\n\n        function _checkItem() {\n            // let add = $(this).find('.card-services-item__action_add');\n            var done = $(this).find('.card-services-item__action_done');\n            var del = $(this).find('.card-services-item__action_del');\n\n            if ($(this).hasClass('is-booked')) {\n                $(this).removeClass('is-booked');\n                done.removeAttr('style');\n                // add.removeAttr('style');\n            } else {\n                $(this).addClass('is-booked');\n                done.css('display', 'flex');\n                // add.css('display', 'none');\n            }\n\n            _checkBooked();\n        }\n    }\n\n    function _changeModalBackdropZindex() {\n        $(document).delegate(\"[data-toggle='modal']\", 'click', function () {\n            var modalBackdrop = $(document).find('.modal-backdrop');\n\n            if (modalBackdrop.length <= 3) for (var i = 0; i < modalBackdrop.length; i++) {\n                var index = parseInt($(modalBackdrop[i]).css('z-index'));\n                index += parseInt(i + 1);\n                $(modalBackdrop[i + 1]).css('z-index', index);\n            }\n        });\n    }\n\n    return {\n        init: _init,\n        removePreloader: _removePreloader,\n        initCopyText: _initCopyText,\n        initListToggle: _initListToggle,\n        initCheckServiceItem: _initCheckServiceItem,\n        initPhoneConfirmTimer: _initPhoneConfirmTimer,\n        changeModalBackdropZindex: _changeModalBackdropZindex\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\"), __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ3VaVHBvWVEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvaW5kZXguanM/ZTljNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29yZSAo0L/QsNGC0LXRgNC9INC80L7QtNGD0LvRjClcclxuICog0KHQvtC30LTQsNC10Lwg0LPQu9C+0LHQsNC70YzQvdGL0Lkg0L7QsdGM0LXQutGCIEJCINCyINC60L7QvdGC0LXQutGB0YLQtSB3aW5kb3cg0LTQu9GPINGC0L7Qs9C+INGH0YLQvtCx0Ysg0LHRi9C7INC00L7RgdGC0YPQvyDQuiDQvNC10YLQvtC00LDQvCDQuNC3INCy0L3QtVxyXG4gKiBEZWZpbmUgZnVuY3Rpb24gLSDQtNC70Y8g0LHQtdC30L7Qv9Cw0YHQvdC+0LPQviDQtNC+0LHQsNCy0LvQtdC90LjRjyDQv9GA0L7RgdGC0YDQsNC90YHRgtCy0LAg0LjQvNC10L0g0Log0LPQu9C+0LHQsNC70YzQvdC+0LzRgyDQvtCx0YzQtdC60YLRgyBCQlxyXG4gKiDQntC/0YDQtdC00LXQu9GP0LXQvCDQv9GA0L7RgdGC0YDQsNC90YHRgtCy0LAg0LXQvNC10L0gQ29yZSDRgSDQv9C+0LzQvtGJ0YzRjiDRhNGD0L3QutGG0LjQuCBkZWZpbmVcclxuICpcclxuICogQGF1dGhvciBBbnRvbiBVc3Rpbm9mZiA8YS5hLnVzdGlub2ZmQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJztcclxuaW1wb3J0IENyb3BwZXIgZnJvbSAnY3JvcHBlcmpzJztcclxuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xyXG5pbXBvcnQgbm9VaVNsaWRlciBmcm9tICdub3Vpc2xpZGVyJztcclxuaW1wb3J0ICogYXMgZGF0ZXBpY2tlciBmcm9tICdhaXItZGF0ZXBpY2tlci9kaXN0L2pzL2RhdGVwaWNrZXInO1xyXG5pbXBvcnQgJ2ZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5taW4nO1xyXG5pbXBvcnQgJ2ZsYXRwaWNrci9kaXN0L2wxMG4vcnUnO1xyXG5cclxuLy9TYXZlIHBsdWdpbnMgaW4gZ2xvYmFsXHJcbndpbmRvdy5qUXVlcnkgPSAkO1xyXG53aW5kb3cuJCA9ICQ7XHJcbndpbmRvdy5OUHJvZ3Jlc3MgPSBOUHJvZ3Jlc3M7XHJcbndpbmRvdy5ub1VpU2xpZGVyID0gbm9VaVNsaWRlcjtcclxud2luZG93LlNvcnRhYmxlID0gU29ydGFibGU7XHJcbndpbmRvdy5Dcm9wcGVyID0gQ3JvcHBlcjtcclxuXHJcbndpbmRvdy5CQiA9IEJCIHx8IHt9O1xyXG5cclxuY29uc3QgQkIgPSB3aW5kb3cuQkI7XHJcblxyXG5CQi5kZWZpbmUgPSBmdW5jdGlvbihuYW1lc3BhY2UpIHtcclxuICAgIGxldCBwYXJ0cyA9IG5hbWVzcGFjZS5zcGxpdCgnLicpLFxyXG4gICAgICAgIHBhcmVudCA9IEJCLFxyXG4gICAgICAgIGk7XHJcblxyXG4gICAgLy/Qo9Cx0YDQsNGC0YwgINC90LDRh9Cw0LvRjNC90YvQuSDQv9GA0LXRhNC40LrRgSDQtdGB0LvQuCDRjdGC0L4g0Y/QstC70Y/QtdGC0YHRgdGPINCz0LvQvtCx0LDQu9GM0L3QvtC5INC/0LXRgNC10LzQtdC90L3QvtC5XHJcbiAgICBpZiAocGFydHNbMF0gPT09ICdCQicpIHtcclxuICAgICAgICBwYXJ0cyA9IHBhcnRzLnNsaWNlKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0JXRgdC70Lgg0LIg0LPQu9C+0LHQsNC70YzQvdC+0Lwg0L7QsdGK0LXQutGC0LUgINC90LXRgiAg0YHQstC+0LnRgdGC0LLQsCAgLSDRgdC+0LfQtNCw0YLRjCAg0LXQs9C+LlxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcGFyZW50W3BhcnRzW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcGFyZW50W3BhcnRzW2ldXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnRbcGFydHNbaV1dO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwYXJlbnQ7XHJcbn07XHJcblxyXG5CQi5kZWZpbmUoJ0NvcmUnKTtcclxuXHJcbmltcG9ydCBDbGlwYm9hcmQgZnJvbSAnY2xpcGJvYXJkL2Rpc3QvY2xpcGJvYXJkLm1pbic7XHJcbmltcG9ydCAnc2ltcGxlYmFyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJCLkNvcmUgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICBmdW5jdGlvbiBfaW5pdCgpIHtcclxuICAgICAgICBfcmVtb3ZlUHJlbG9hZGVyKCk7XHJcbiAgICAgICAgX2NoYW5nZU1vZGFsQmFja2Ryb3BaaW5kZXgoKTtcclxuICAgICAgICBfcmVtb3ZlRWxlbWVudHMoKTtcclxuICAgICAgICAvLyBfaW5pdE9mZnNldHMoKTtcclxuICAgICAgICBfaW5pdE1vYmlsZVNlYXJjaCgpO1xyXG4gICAgICAgIF9pbml0TGlzdFRvZ2dsZSgpO1xyXG4gICAgICAgIF9pbml0Q29weVRleHQoKTtcclxuICAgICAgICBfaW5pdFRvZ2dsZVBob25lKCk7XHJcbiAgICAgICAgX2luaXRDaXR5U2VsZWN0KCk7XHJcbiAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwIHRvdWNoINGD0YHRgtGA0L7QudGB0YLQstC+XHJcbiAgICAgICAgLy8gaWYgKFwib250b3VjaHN0YXJ0XCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgLy8gICAgIGFsZXJ0KFwiSXQgYSB0b3VjaCBzY3JlZW4gZGV2aWNlLlwiKTtcclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBhbGVydChcIk90aGVycyBkZXZpY2VzXCIpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyDQn9C+0YHQu9C1INC/0L7Qu9C90L7QuSDQt9Cw0LPRgNGD0LfQutC4INGB0YLRgNCw0L3QuNGG0Ysg0YDQtdCz0LjRgdGC0YDQuNGA0YPQtdC8IHNlcnZpY2Ugd29ya2VyXHJcbiAgICAgICAgLy8gaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgICAvLyAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBfcmVnaXN0ZXJTZXJ2aWNlV29ya2VyKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGlmIChOT0RFX0VOViA9PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0gSU5JVCBDT1JFJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWdpc3RlclNlcnZpY2VXb3JrZXIoKSB7XHJcbiAgICAgICAgLy8g0YTQsNC50Lsg0L/QvtC00LrQu9GO0YfQsNC10YLRgdGPINC40Lcg0LrQvtGA0L3RjyDRgdCw0LnRgtCwLCDQsCDQt9C90LDRh9C40YJcclxuICAgICAgICAvLyDRgdC80L7QttC10YIg0L7QsdGA0LDQsdCw0YLRi9Cy0LDRgtGMINC30LDQv9GA0L7RgdGLINC90LAg0LLRgdC1INC/0L7QtNGA0LDQt9C00LXQu9GLXHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXJcclxuICAgICAgICAgICAgLnJlZ2lzdGVyKCcvc2VydmljZS13b3JrZXIuanMnKVxyXG4gICAgICAgICAgICAudGhlbihyZWcgPT4gY29uc29sZS5sb2coJ1NXIHJlZ2lzdGVyZWQhJywgcmVnKSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKCdTVyBoYXMgZXJyb3InLCBlcnIpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfcmVtb3ZlUHJlbG9hZGVyKCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcgbG9hZGluZy1hbmltYXRpb24gaXMtbG9hZGluZycpO1xyXG4gICAgICAgICAgICAkKCcuX2xvYWRpbmcnKS5yZW1vdmVDbGFzcygnX2xvYWRpbmcnKTtcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZW1vdmVFbGVtZW50cygpIHtcclxuICAgICAgICAvL1NpbXBsZUJhciBodHRwczovL2dpdGh1Yi5jb20vR3JzbXRvL3NpbXBsZWJhclxyXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDc2OCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoJ2RpdicpLnJlbW92ZUF0dHIoJ2RhdGEtc2ltcGxlYmFyJyk7XHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbml0T2Zmc2V0cygpIHtcclxuICAgICAgICBpZiAoJCgnLmhlYWRlcicpLmhhc0NsYXNzKCdoZWFkZXItLWZpeGVkJykpIHtcclxuICAgICAgICAgICAgY29uc3QgaGVhZGVySGVpZ2h0ID0gJCgnLmhlYWRlcicpLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cclxuICAgICAgICAgICAgJCgnYm9keScpLmNzcygnbWFyZ2luLXRvcCcsIGhlYWRlckhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vTW9iaWxlIFNlYXJjaCBCdG4gb3Blbi9jbG9zZVxyXG4gICAgZnVuY3Rpb24gX2luaXRNb2JpbGVTZWFyY2goKSB7XHJcbiAgICAgICAgbGV0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1tb2JpbGUtc2VhcmNoLWJ0bicpO1xyXG4gICAgICAgIHNlYXJjaEJ0bi5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RvZ2dsZVNlYXJjaCk7XHJcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdG9nZ2xlU2VhcmNoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX3RvZ2dsZVNlYXJjaCgpIHtcclxuICAgICAgICAgICAgbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpO1xyXG4gICAgICAgICAgICBpZiAod3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoJ21vYmlsZS1zZWFyY2gtLW9wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdtb2JpbGUtc2VhcmNoLS1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ21vYmlsZS1zZWFyY2gtLW9wZW4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdExpc3RUb2dnbGUoKSB7XHJcbiAgICAgICAgbGV0ICRsaXN0ID0gJCgnLmpzLWxpc3QnKTtcclxuICAgICAgICBsZXQgJGNoZWNrYm94ID0gJGxpc3QuZmluZCgnLmpzLWJiLWNoZWNrYm94Jyk7XHJcbiAgICAgICAgbGV0ICR3b3JrTGlzdCA9ICRsaXN0LmZpbmQoJy5qcy1saXN0LXRvZ2dsZScpO1xyXG5cclxuICAgICAgICBpZiAoJGxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICgkbGlzdC5hdHRyKCdkYXRhLXJldmVyc2UnKSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISRjaGVja2JveC5oYXNDbGFzcygnaXMtY2hlY2tlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdvcmtMaXN0LmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRjaGVja2JveC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGNoZWNrYm94Lmhhc0NsYXNzKCdpcy1jaGVja2VkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdvcmtMaXN0LnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd29ya0xpc3QuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGNoZWNrYm94Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkY2hlY2tib3guaGFzQ2xhc3MoJ2lzLWNoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd29ya0xpc3QuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3b3JrTGlzdC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9Db3B5IHRleHQgY2xpY2sgbGlua1xyXG4gICAgZnVuY3Rpb24gX2luaXRDb3B5VGV4dCgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXVzZXItbGluaycpKSB7XHJcbiAgICAgICAgICAgIGxldCBjYiA9IG5ldyBDbGlwYm9hcmQoJy5qcy11c2VyLWxpbmsnKTtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgaGFzIGlucHV0IHRoZW4gY29weSBpbnB1dCB2YWx1ZSBpbiBkYXRhIGF0dHJcclxuICAgICAgICAgICAgLy8gQmFzZS5Db21wb25lbnRzLklucHV0LmluaXRJbnB1dFNlYXJjaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1Nob3cgcGhvbmUgbnVtYmVyXHJcbiAgICBmdW5jdGlvbiBfaW5pdFRvZ2dsZVBob25lKCkge1xyXG4gICAgICAgICQoJy5qcy11c2VyLXBob25lJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hyZWYnLCAnamF2YXNjcmlwdDp2b2lkKDApOycpXHJcbiAgICAgICAgICAgICAgICAudGV4dCgkKHRoaXMpLmRhdGEoJ3Bob25lLWhpZGVuJykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLXVzZXItcGhvbmUtLXNob3cnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHVzZXJQaG9uZSA9ICQodGhpcylcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5qcy11c2VyLXBob25lJyk7XHJcbiAgICAgICAgICAgIHZhciBwaG9uZSA9IHVzZXJQaG9uZS5kYXRhKCdwaG9uZScpO1xyXG4gICAgICAgICAgICB1c2VyUGhvbmVcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzdHlsZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaHJlZicsICd0ZWw6JyArIHBob25lKVxyXG4gICAgICAgICAgICAgICAgLnRleHQocGhvbmUpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRQaG9uZUNvbmZpcm1UaW1lcigpIHtcclxuICAgICAgICBjb25zdCAkdGltZXIgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtdGltZXInKTtcclxuXHJcbiAgICAgICAgaWYgKCR0aW1lci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJHRpbWVyLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkdGltZXJCdG5SZXBlYXQgPSAkKHRoaXMpLmZpbmQoJy5qcy10aW1lci1ibnQtLXJlcGVhdCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJHRpbWVyQnRuU2tpcCA9ICQodGhpcykuZmluZCgnLmpzLXRpbWVyLWJudC0tc2tpcCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJHRleHQgPSAkKHRoaXMpLmZpbmQoJy5qcy10aW1lci10ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkdGltZSA9ICQodGhpcykuZmluZCgnW2RhdGEtdGltZXItdGltZV0nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWUgPSAkdGltZS5kYXRhKCd0aW1lci10aW1lJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZS50ZXh0KHRpbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGV4dC5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lckJ0blJlcGVhdC5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lckJ0blNraXAucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWUudGV4dCh0aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZXJCdG5SZXBlYXQub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGltZXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKCcuanMtdGltZXItYm50LS1yZXBlYXQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLXRpbWVyJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmpzLXRpbWVyLXRleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgcGhvbmVDb25maXJtVGltZXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKCcuanMtaW5wdXQtZm9jdXM6bGFzdCcpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5ibHVyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0NpdHkgc2VsZWN0XHJcbiAgICBmdW5jdGlvbiBfaW5pdENpdHlTZWxlY3QoKSB7XHJcbiAgICAgICAgbGV0ICRjaGFuZ2VDaXR5ID0gJCgnLmpzLWNpdHktc2VsZWN0Jyk7XHJcbiAgICAgICAgbGV0ICRjaGFuZ2VDaXR5VGl0bGUgPSAkY2hhbmdlQ2l0eS5maW5kKCcuY2l0eS1zZWxlY3RfX3RpdGxlIHNwYW4nKTtcclxuICAgICAgICBsZXQgJGlucHV0ID0gJGNoYW5nZUNpdHkuZmluZCgnaW5wdXQnKTtcclxuXHJcbiAgICAgICAgJGlucHV0Lm9uKCdjbGljayBmb2N1cycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJGNoYW5nZUNpdHkuZmluZCgnLmNpdHktc2VsZWN0X19pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRjaGFuZ2VDaXR5VGl0bGUudGV4dCgkKHRoaXMpLnRleHQoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRDaGVja1NlcnZpY2VJdGVtKCkge1xyXG4gICAgICAgIGxldCAkYmVhdXR5TGluayA9ICQoZG9jdW1lbnQpLmZpbmQoJyNiZWF1dHlsaW5rJyk7XHJcbiAgICAgICAgbGV0ICRjYXJkU2VydmljZXNJdGVtID0gJChkb2N1bWVudCkuZmluZCgnLmpzLWNhcmQtc2VydmljZXMtaXRlbScpO1xyXG4gICAgICAgIGxldCBBQ1RJVkVfQ0xBU1MgPSAnaXMtYm9va2VkJztcclxuXHJcbiAgICAgICAgJGNhcmRTZXJ2aWNlc0l0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBsZXQgY29uZGl0aW9ucyA9XHJcbiAgICAgICAgICAgICAgICAnLmNhcmQtc2VydmljZXMtaXRlbV9fbWlkZGxlLCAuY2FyZC1zZXJ2aWNlcy1pdGVtX19pbmZvLWJsb2NrLCAuY2FyZC1zZXJ2aWNlcy1pdGVtX19ib3R0b20nO1xyXG4gICAgICAgICAgICBpZiAoJChlLnRhcmdldCkuY2xvc2VzdChjb25kaXRpb25zKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9jaGVja0l0ZW0uY2FsbCgkKHRoaXMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBfY2hlY2tCb29rZWQoKSB7XHJcbiAgICAgICAgICAgIGlmICgkYmVhdXR5TGluay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkY2FyZFNlcnZpY2VzSXRlbS5oYXNDbGFzcyhBQ1RJVkVfQ0xBU1MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJlYXV0eUxpbmsuYWRkQ2xhc3MoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJlYXV0eUxpbmsucmVtb3ZlQ2xhc3MoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfY2hlY2tCb29rZWQoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX2NoZWNrSXRlbSgpIHtcclxuICAgICAgICAgICAgLy8gbGV0IGFkZCA9ICQodGhpcykuZmluZCgnLmNhcmQtc2VydmljZXMtaXRlbV9fYWN0aW9uX2FkZCcpO1xyXG4gICAgICAgICAgICBsZXQgZG9uZSA9ICQodGhpcykuZmluZCgnLmNhcmQtc2VydmljZXMtaXRlbV9fYWN0aW9uX2RvbmUnKTtcclxuICAgICAgICAgICAgbGV0IGRlbCA9ICQodGhpcykuZmluZCgnLmNhcmQtc2VydmljZXMtaXRlbV9fYWN0aW9uX2RlbCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2lzLWJvb2tlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1ib29rZWQnKTtcclxuICAgICAgICAgICAgICAgIGRvbmUucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICAgICAgICAgICAgIC8vIGFkZC5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtYm9va2VkJyk7XHJcbiAgICAgICAgICAgICAgICBkb25lLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgX2NoZWNrQm9va2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9jaGFuZ2VNb2RhbEJhY2tkcm9wWmluZGV4KCkge1xyXG4gICAgICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKFwiW2RhdGEtdG9nZ2xlPSdtb2RhbCddXCIsICdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IG1vZGFsQmFja2Ryb3AgPSAkKGRvY3VtZW50KS5maW5kKCcubW9kYWwtYmFja2Ryb3AnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtb2RhbEJhY2tkcm9wLmxlbmd0aCA8PSAzKVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RhbEJhY2tkcm9wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gcGFyc2VJbnQoJChtb2RhbEJhY2tkcm9wW2ldKS5jc3MoJ3otaW5kZXgnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gcGFyc2VJbnQoaSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICQobW9kYWxCYWNrZHJvcFtpICsgMV0pLmNzcygnei1pbmRleCcsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXQ6IF9pbml0LFxyXG4gICAgICAgIHJlbW92ZVByZWxvYWRlcjogX3JlbW92ZVByZWxvYWRlcixcclxuICAgICAgICBpbml0Q29weVRleHQ6IF9pbml0Q29weVRleHQsXHJcbiAgICAgICAgaW5pdExpc3RUb2dnbGU6IF9pbml0TGlzdFRvZ2dsZSxcclxuICAgICAgICBpbml0Q2hlY2tTZXJ2aWNlSXRlbTogX2luaXRDaGVja1NlcnZpY2VJdGVtLFxyXG4gICAgICAgIGluaXRQaG9uZUNvbmZpcm1UaW1lcjogX2luaXRQaG9uZUNvbmZpcm1UaW1lcixcclxuICAgICAgICBjaGFuZ2VNb2RhbEJhY2tkcm9wWmluZGV4OiBfY2hhbmdlTW9kYWxCYWNrZHJvcFppbmRleCxcclxuICAgIH07XHJcbn0pKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///CuZTpoYQ\n");

/***/ }),

/***/ "CxWtN+fR":
/*!*************************************!*\
  !*** ./components/ParallaxBlock.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ParallaxBlock = function () {\n    function ParallaxBlock(args) {\n        _classCallCheck(this, ParallaxBlock);\n\n        this.selector = document.querySelectorAll(args.selector);\n        this.transform = args.transform;\n    }\n\n    _createClass(ParallaxBlock, [{\n        key: 'init',\n        value: function init() {\n            if (this.selector.length) {\n                this._parallax();\n            }\n        }\n    }, {\n        key: '_parallax',\n        value: function _parallax() {\n            this.selector.forEach(function (elem) {\n                var html = document.documentElement;\n                var scroll = html.scrollTop;\n                var initViewport = parseInt(elem.getAttribute('data-viewport-paralax-init')) || 0;\n                var speed = parseInt(elem.getAttribute('data-parallax-speed')) || 15;\n\n                if (initViewport <= html.offsetWidth) {\n                    var cords = scroll / speed;\n                    var transform = getComputedStyle(elem).transform;\n                    var matrix = transform.split('(')[1].split(')')[0].split(',').map(parseFloat);\n\n                    elem.style.transform = 'matrix(' + matrix[0] + ', ' + matrix[1] + ', ' + matrix[2] + ', ' + matrix[3] + ', ' + matrix[4] + ', -' + cords + ')';\n\n                    document.addEventListener('scroll', function (e) {\n                        scroll = html.scrollTop;\n                        cords = scroll / speed;\n                        transform = getComputedStyle(elem).transform;\n                        matrix = transform.split('(')[1].split(')')[0].split(',').map(parseFloat);\n                        elem.style.transform = 'matrix(' + matrix[0] + ', ' + matrix[1] + ', ' + matrix[2] + ', ' + matrix[3] + ', ' + matrix[4] + ', -' + cords + ')';\n                    });\n                }\n            });\n        }\n    }]);\n\n    return ParallaxBlock;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ParallaxBlock);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ3hXdE4rZlIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvUGFyYWxsYXhCbG9jay5qcz9iZjM2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcmFsbGF4QmxvY2sge1xyXG4gICAgY29uc3RydWN0b3IoYXJncykge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFyZ3Muc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gYXJncy50cmFuc2Zvcm07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3Rvci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyYWxsYXgoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX3BhcmFsbGF4KCkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBzY3JvbGwgPSBodG1sLnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgbGV0IGluaXRWaWV3cG9ydCA9XHJcbiAgICAgICAgICAgICAgICBwYXJzZUludChlbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS12aWV3cG9ydC1wYXJhbGF4LWluaXQnKSkgfHwgMDtcclxuICAgICAgICAgICAgbGV0IHNwZWVkID1cclxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXBhcmFsbGF4LXNwZWVkJykpIHx8IDE1O1xyXG5cclxuICAgICAgICAgICAgaWYgKGluaXRWaWV3cG9ydCA8PSBodG1sLm9mZnNldFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29yZHMgPSBzY3JvbGwgLyBzcGVlZDtcclxuICAgICAgICAgICAgICAgIGxldCB0cmFuc2Zvcm0gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW0pLnRyYW5zZm9ybTtcclxuICAgICAgICAgICAgICAgIGxldCBtYXRyaXggPSB0cmFuc2Zvcm1cclxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJygnKVsxXVxyXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnKScpWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcsJylcclxuICAgICAgICAgICAgICAgICAgICAubWFwKHBhcnNlRmxvYXQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUudHJhbnNmb3JtID0gYG1hdHJpeCgke21hdHJpeFswXX0sICR7bWF0cml4WzFdfSwgJHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRyaXhbMl1cclxuICAgICAgICAgICAgICAgIH0sICR7bWF0cml4WzNdfSwgJHttYXRyaXhbNF19LCAtJHtjb3Jkc30pYDtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGwgPSBodG1sLnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgICAgICBjb3JkcyA9IHNjcm9sbCAvIHNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbSkudHJhbnNmb3JtO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeCA9IHRyYW5zZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJygnKVsxXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJyknKVswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJywnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHBhcnNlRmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUudHJhbnNmb3JtID0gYG1hdHJpeCgke21hdHJpeFswXX0sICR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFsxXVxyXG4gICAgICAgICAgICAgICAgICAgIH0sICR7bWF0cml4WzJdfSwgJHttYXRyaXhbM119LCAke21hdHJpeFs0XX0sIC0ke2NvcmRzfSlgO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFqREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///CxWtN+fR\n");

/***/ }),

/***/ "GakHr+1n":
/*!*************************!*\
  !*** ./modules/Menu.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/**\r\n * BB.Modules.Menu.js\r\n *\r\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\r\n */\n\nBB.define('Modules.Menu');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Modules.Menu = function () {\n    var hamburger = '.js-main-nav-btn';\n    var hamburgerCrm = '.js-hamburger';\n    var ACTIVE_CLASS = 'is-active';\n    var DROPDOWN_ACTIVE_CLASS = 'menu-dropdown--open';\n    var $html = void 0,\n        $wrapper = void 0,\n        $overlay = void 0,\n        $menu = void 0,\n        $hamburger = void 0,\n        $hamburgerCrm = void 0,\n        $menuItem = void 0,\n        $menuOvelay = void 0,\n        $menuItemDropdown = void 0,\n        $btnFloat = void 0;\n\n    function _init() {\n        _getElements();\n        _addEventListener();\n\n        //Для безпроблемной трансформации меню при перевороте телефона\n        $(window).on('resize', function (e) {\n            _close(e);\n            $wrapper.removeClass('menu-open');\n        });\n    }\n\n    function _getElements() {\n        $html = $('html');\n        $wrapper = $('.wrapper');\n        $overlay = $('.js-overlay');\n        $hamburger = $(hamburger);\n        $hamburgerCrm = $(hamburgerCrm);\n        $menu = $('.js-menu');\n        $menuItem = $menu.find('.menu__item');\n        $menuOvelay = $('.js-menu-overlay');\n        $menuItemDropdown = $(document).find('.js-menu-item-dropdown');\n        $btnFloat = $(document).find('.js-btn-floating');\n    }\n\n    function _addEventListener() {\n        // $(document).on('click', hamburger, function(e) {\n        //     if ($(this).hasClass('on')) {\n        //         _close(e);\n        //     } else {\n        //         _open();\n        //     }\n        // });\n\n        document.querySelectorAll(hamburger).forEach(function (item) {\n            item.removeEventListener('click', toggleSideMenu);\n            item.addEventListener('click', toggleSideMenu);\n        });\n\n        function toggleSideMenu(e) {\n            if (e.target.closest(hamburger).classList.contains('on')) {\n                _close(e);\n            } else {\n                _open();\n            }\n        }\n\n        $(document).on('click', hamburgerCrm, function (e) {\n            if ($(this).hasClass('on')) {\n                _close(e);\n            } else {\n                _open();\n            }\n        });\n\n        $menuItem.on('click', function (e) {\n            var $target = $(e.target);\n            //Если нет вложенного меню\n            if (!$(this).hasClass('js-menu-item-dropdown')) {\n                $menuItem.removeClass(ACTIVE_CLASS).removeClass(DROPDOWN_ACTIVE_CLASS);\n\n                $(this).addClass(ACTIVE_CLASS);\n                // e.stopPropagation();\n            } else {\n                //Если есть вложенное меню\n                //Если таргет ссылка но не кнока Отменить\n                if ($target.hasClass('menu-dropdown__link') && !$target.hasClass('menu-dropdown__link--abort')) {\n                    var $parent = $target.parent('.menu-dropdown__item');\n\n                    //Переключаем активный класс у главной ссылки меню и открываем вложенное меню\n                    $menuItem.removeClass(activeClass);\n                    $(this).addClass(DROPDOWN_ACTIVE_CLASS).addClass(activeClass);\n\n                    //Переключаем активный класс у вложенных li\n                    $('.menu-dropdown__item').removeClass(activeClass);\n                    $parent.addClass(activeClass);\n\n                    if ($(window).width() > 480) {\n                        //Сдвигаем контент\n                        $wrapper.addClass('menu-open');\n                    } else {\n                        _close(e);\n                    }\n\n                    // e.stopPropagation();\n                } else if (\n                //Если таргет кнока Отменить просто закрываем меню\n                $target.hasClass('menu-dropdown__link') && $target.hasClass('menu-dropdown__link--abort')) {\n                    _close(e);\n                    // e.stopPropagation();\n                } else {\n                    //Если таргет НЕ ссылка, проверяем на наличие активного класса у дропдауна\n                    if ($(this).hasClass(DROPDOWN_ACTIVE_CLASS)) {\n                        $(this).removeClass(DROPDOWN_ACTIVE_CLASS);\n                        $wrapper.removeClass('menu-open');\n                    } else {\n                        $menuItemDropdown.removeClass(DROPDOWN_ACTIVE_CLASS);\n                        $(this).addClass(DROPDOWN_ACTIVE_CLASS);\n\n                        if ($(window).width() > 480) {\n                            $wrapper.addClass('menu-open');\n                        } else {\n                            $btnFloat.fadeOut();\n                            $menuOvelay.addClass('is-visible');\n                        }\n                    }\n                }\n            }\n\n            if (!$(this).hasClass(ACTIVE_CLASS)) {\n                $menuItem.removeClass(ACTIVE_CLASS);\n                $(this).addClass(ACTIVE_CLASS);\n            }\n        });\n\n        $('.js-mobile-nav--close').on('click', function (e) {\n            _close(e);\n        });\n\n        //Ивент клика по аакодеону внутри меню\n        $(document).find('.js-mobile-nav').find('.mobile-nav__item').on('click', function (e) {\n            if (!$(this).hasClass('bb-accordeon__item')) {\n                _close(e);\n            }\n        }).end().find('.bb-accordeon__content a').on('click', function (e) {\n            _close(e);\n        });\n\n        //Закрваем меню по клюку на оверлэй\n        $(document).on('click', '.overlay--menu', function (e) {\n            _close(e);\n            e.stopPropagation();\n        });\n\n        //Закрваем меню по клюку на оверлэй\n        $(document).on('click', '.js-menu-overlay', function (e) {\n            _close(e);\n            e.stopPropagation();\n        });\n\n        $(document).on('click', '.js-menu-item-dropdown', function (e) {\n            if ($(this).hasClass(DROPDOWN_ACTIVE_CLASS)) {\n                $menuItemDropdown.removeClass(DROPDOWN_ACTIVE_CLASS);\n                $(this).addClass(DROPDOWN_ACTIVE_CLASS);\n            } else {\n                $(this).removeClass(DROPDOWN_ACTIVE_CLASS);\n            }\n            e.stopPropagation();\n        });\n\n        $(document).on('click', '.js-menu-item-dropdown .menu__link', function (e) {\n            e.preventDefault();\n        });\n    }\n\n    function _open() {\n        if (!$(document).find('.jsCrmBlurEventStop')) {\n            $(document).find('input').blur();\n        }\n\n        if ($(window).width() > 480) {\n            $hamburgerCrm.addClass('on');\n\n            if ($wrapper.hasClass('page-cabinet')) {\n                $menu.addClass('is-open');\n                $(document).find('.header').addClass('is-moving');\n                $wrapper.addClass('menu-open');\n                // $menuItemDropdown.removeClass('is-active');\n            } else {\n                $wrapper.addClass('mobile-nav--open');\n                $overlay.addClass('is-visible').addClass('overlay--menu');\n            }\n        } else {\n            $hamburger.addClass('on');\n            $wrapper.addClass('mobile-nav--open');\n            $overlay.addClass('is-visible').addClass('overlay--menu');\n        }\n\n        if ($wrapper.hasClass('page-onepage')) {\n            $hamburger.addClass('on');\n            $wrapper.addClass('mobile-nav--open');\n            $overlay.addClass('is-visible').addClass('overlay--menu');\n        }\n    }\n\n    function _close(e) {\n        $hamburger.removeClass('on');\n        $hamburgerCrm.removeClass('on');\n        $menu.removeClass('is-open');\n        $menuItemDropdown.removeClass(DROPDOWN_ACTIVE_CLASS);\n        $(document).find('.header').removeClass('is-moving').removeClass('is-open');\n        $btnFloat.fadeIn();\n        $wrapper.removeClass('mobile-nav--open');\n\n        var target = $(e.target);\n        if (target.is('.js-hamburger') || target.is('.js-menu-item-dropdown')) {\n            $wrapper.removeClass('menu-open');\n        }\n\n        setTimeout(function () {\n            $('.overlay--menu').removeClass('is-visible');\n        }, 200);\n\n        if ($(window).width() < 480) {\n            setTimeout(function () {\n                $menuOvelay.removeClass('is-visible');\n            }, 100);\n        }\n    }\n\n    return {\n        init: _init\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2FrSHIrMW4uanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL21vZHVsZXMvTWVudS5qcz9jYmViIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCQi5Nb2R1bGVzLk1lbnUuanNcclxuICpcclxuICogQGF1dGhvciBBbnRvbiBVc3Rpbm9mZiA8YS5hLnVzdGlub2ZmQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG5CQi5kZWZpbmUoJ01vZHVsZXMuTWVudScpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQkIuTW9kdWxlcy5NZW51ID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgaGFtYnVyZ2VyID0gJy5qcy1tYWluLW5hdi1idG4nO1xyXG4gICAgY29uc3QgaGFtYnVyZ2VyQ3JtID0gJy5qcy1oYW1idXJnZXInO1xyXG4gICAgY29uc3QgQUNUSVZFX0NMQVNTID0gJ2lzLWFjdGl2ZSc7XHJcbiAgICBjb25zdCBEUk9QRE9XTl9BQ1RJVkVfQ0xBU1MgPSAnbWVudS1kcm9wZG93bi0tb3Blbic7XHJcbiAgICBsZXQgJGh0bWwsXHJcbiAgICAgICAgJHdyYXBwZXIsXHJcbiAgICAgICAgJG92ZXJsYXksXHJcbiAgICAgICAgJG1lbnUsXHJcbiAgICAgICAgJGhhbWJ1cmdlcixcclxuICAgICAgICAkaGFtYnVyZ2VyQ3JtLFxyXG4gICAgICAgICRtZW51SXRlbSxcclxuICAgICAgICAkbWVudU92ZWxheSxcclxuICAgICAgICAkbWVudUl0ZW1Ecm9wZG93bixcclxuICAgICAgICAkYnRuRmxvYXQ7XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXQoKSB7XHJcbiAgICAgICAgX2dldEVsZW1lbnRzKCk7XHJcbiAgICAgICAgX2FkZEV2ZW50TGlzdGVuZXIoKTtcclxuXHJcbiAgICAgICAgLy/QlNC70Y8g0LHQtdC30L/RgNC+0LHQu9C10LzQvdC+0Lkg0YLRgNCw0L3RgdGE0L7RgNC80LDRhtC40Lgg0LzQtdC90Y4g0L/RgNC4INC/0LXRgNC10LLQvtGA0L7RgtC1INGC0LXQu9C10YTQvtC90LBcclxuICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgX2Nsb3NlKGUpO1xyXG4gICAgICAgICAgICAkd3JhcHBlci5yZW1vdmVDbGFzcygnbWVudS1vcGVuJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2dldEVsZW1lbnRzKCkge1xyXG4gICAgICAgICRodG1sID0gJCgnaHRtbCcpO1xyXG4gICAgICAgICR3cmFwcGVyID0gJCgnLndyYXBwZXInKTtcclxuICAgICAgICAkb3ZlcmxheSA9ICQoJy5qcy1vdmVybGF5Jyk7XHJcbiAgICAgICAgJGhhbWJ1cmdlciA9ICQoaGFtYnVyZ2VyKTtcclxuICAgICAgICAkaGFtYnVyZ2VyQ3JtID0gJChoYW1idXJnZXJDcm0pO1xyXG4gICAgICAgICRtZW51ID0gJCgnLmpzLW1lbnUnKTtcclxuICAgICAgICAkbWVudUl0ZW0gPSAkbWVudS5maW5kKCcubWVudV9faXRlbScpO1xyXG4gICAgICAgICRtZW51T3ZlbGF5ID0gJCgnLmpzLW1lbnUtb3ZlcmxheScpO1xyXG4gICAgICAgICRtZW51SXRlbURyb3Bkb3duID0gJChkb2N1bWVudCkuZmluZCgnLmpzLW1lbnUtaXRlbS1kcm9wZG93bicpO1xyXG4gICAgICAgICRidG5GbG9hdCA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1idG4tZmxvYXRpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICAvLyAkKGRvY3VtZW50KS5vbignY2xpY2snLCBoYW1idXJnZXIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ29uJykpIHtcclxuICAgICAgICAvLyAgICAgICAgIF9jbG9zZShlKTtcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIF9vcGVuKCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChoYW1idXJnZXIpLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaWRlTWVudSk7XHJcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVTaWRlTWVudSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVNpZGVNZW51KGUpIHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoaGFtYnVyZ2VyKS5jbGFzc0xpc3QuY29udGFpbnMoJ29uJykpIHtcclxuICAgICAgICAgICAgICAgIF9jbG9zZShlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9vcGVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGhhbWJ1cmdlckNybSwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnb24nKSkge1xyXG4gICAgICAgICAgICAgICAgX2Nsb3NlKGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX29wZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkbWVudUl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBsZXQgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAvL9CV0YHQu9C4INC90LXRgiDQstC70L7QttC10L3QvdC+0LPQviDQvNC10L3RjlxyXG4gICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2pzLW1lbnUtaXRlbS1kcm9wZG93bicpKSB7XHJcbiAgICAgICAgICAgICAgICAkbWVudUl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoQUNUSVZFX0NMQVNTKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhEUk9QRE9XTl9BQ1RJVkVfQ0xBU1MpO1xyXG5cclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL9CV0YHQu9C4INC10YHRgtGMINCy0LvQvtC20LXQvdC90L7QtSDQvNC10L3RjlxyXG4gICAgICAgICAgICAgICAgLy/QldGB0LvQuCDRgtCw0YDQs9C10YIg0YHRgdGL0LvQutCwINC90L4g0L3QtSDQutC90L7QutCwINCe0YLQvNC10L3QuNGC0YxcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0Lmhhc0NsYXNzKCdtZW51LWRyb3Bkb3duX19saW5rJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAhJHRhcmdldC5oYXNDbGFzcygnbWVudS1kcm9wZG93bl9fbGluay0tYWJvcnQnKVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkdGFyZ2V0LnBhcmVudCgnLm1lbnUtZHJvcGRvd25fX2l0ZW0nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy/Qn9C10YDQtdC60LvRjtGH0LDQtdC8INCw0LrRgtC40LLQvdGL0Lkg0LrQu9Cw0YHRgSDRgyDQs9C70LDQstC90L7QuSDRgdGB0YvQu9C60Lgg0LzQtdC90Y4g0Lgg0L7RgtC60YDRi9Cy0LDQtdC8INCy0LvQvtC20LXQvdC90L7QtSDQvNC10L3RjlxyXG4gICAgICAgICAgICAgICAgICAgICRtZW51SXRlbS5yZW1vdmVDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoRFJPUERPV05fQUNUSVZFX0NMQVNTKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoYWN0aXZlQ2xhc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL9Cf0LXRgNC10LrQu9GO0YfQsNC10Lwg0LDQutGC0LjQstC90YvQuSDQutC70LDRgdGBINGDINCy0LvQvtC20LXQvdC90YvRhSBsaVxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5tZW51LWRyb3Bkb3duX19pdGVtJykucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoYWN0aXZlQ2xhc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/QodC00LLQuNCz0LDQtdC8INC60L7QvdGC0LXQvdGCXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3cmFwcGVyLmFkZENsYXNzKCdtZW51LW9wZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2UoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAvL9CV0YHQu9C4INGC0LDRgNCz0LXRgiDQutC90L7QutCwINCe0YLQvNC10L3QuNGC0Ywg0L/RgNC+0YHRgtC+INC30LDQutGA0YvQstCw0LXQvCDQvNC10L3RjlxyXG4gICAgICAgICAgICAgICAgICAgICR0YXJnZXQuaGFzQ2xhc3MoJ21lbnUtZHJvcGRvd25fX2xpbmsnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICR0YXJnZXQuaGFzQ2xhc3MoJ21lbnUtZHJvcGRvd25fX2xpbmstLWFib3J0JylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9jbG9zZShlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL9CV0YHQu9C4INGC0LDRgNCz0LXRgiDQndCVINGB0YHRi9C70LrQsCwg0L/RgNC+0LLQtdGA0Y/QtdC8INC90LAg0L3QsNC70LjRh9C40LUg0LDQutGC0LjQstC90L7Qs9C+INC60LvQsNGB0YHQsCDRgyDQtNGA0L7Qv9C00LDRg9C90LBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhEUk9QRE9XTl9BQ1RJVkVfQ0xBU1MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoRFJPUERPV05fQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIucmVtb3ZlQ2xhc3MoJ21lbnUtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZW51SXRlbURyb3Bkb3duLnJlbW92ZUNsYXNzKERST1BET1dOX0FDVElWRV9DTEFTUyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoRFJPUERPV05fQUNUSVZFX0NMQVNTKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDQ4MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIuYWRkQ2xhc3MoJ21lbnUtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJ0bkZsb2F0LmZhZGVPdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZW51T3ZlbGF5LmFkZENsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhBQ1RJVkVfQ0xBU1MpKSB7XHJcbiAgICAgICAgICAgICAgICAkbWVudUl0ZW0ucmVtb3ZlQ2xhc3MoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuanMtbW9iaWxlLW5hdi0tY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIF9jbG9zZShlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/QmNCy0LXQvdGCINC60LvQuNC60LAg0L/QviDQsNCw0LrQvtC00LXQvtC90YMg0LLQvdGD0YLRgNC4INC80LXQvdGOXHJcbiAgICAgICAgJChkb2N1bWVudClcclxuICAgICAgICAgICAgLmZpbmQoJy5qcy1tb2JpbGUtbmF2JylcclxuICAgICAgICAgICAgLmZpbmQoJy5tb2JpbGUtbmF2X19pdGVtJylcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYmItYWNjb3JkZW9uX19pdGVtJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBfY2xvc2UoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5lbmQoKVxyXG4gICAgICAgICAgICAuZmluZCgnLmJiLWFjY29yZGVvbl9fY29udGVudCBhJylcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIF9jbG9zZShlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v0JfQsNC60YDQstCw0LXQvCDQvNC10L3RjiDQv9C+INC60LvRjtC60YMg0L3QsCDQvtCy0LXRgNC70Y3QuVxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcub3ZlcmxheS0tbWVudScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgX2Nsb3NlKGUpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL9CX0LDQutGA0LLQsNC10Lwg0LzQtdC90Y4g0L/QviDQutC70Y7QutGDINC90LAg0L7QstC10YDQu9GN0LlcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLW1lbnUtb3ZlcmxheScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgX2Nsb3NlKGUpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLW1lbnUtaXRlbS1kcm9wZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoRFJPUERPV05fQUNUSVZFX0NMQVNTKSkge1xyXG4gICAgICAgICAgICAgICAgJG1lbnVJdGVtRHJvcGRvd24ucmVtb3ZlQ2xhc3MoRFJPUERPV05fQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoRFJPUERPV05fQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoRFJPUERPV05fQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLW1lbnUtaXRlbS1kcm9wZG93biAubWVudV9fbGluaycsIGZ1bmN0aW9uKFxyXG4gICAgICAgICAgICBlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfb3BlbigpIHtcclxuICAgICAgICBpZiAoISQoZG9jdW1lbnQpLmZpbmQoJy5qc0NybUJsdXJFdmVudFN0b3AnKSkge1xyXG4gICAgICAgICAgICAkKGRvY3VtZW50KVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2lucHV0JylcclxuICAgICAgICAgICAgICAgIC5ibHVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcclxuICAgICAgICAgICAgJGhhbWJ1cmdlckNybS5hZGRDbGFzcygnb24nKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkd3JhcHBlci5oYXNDbGFzcygncGFnZS1jYWJpbmV0JykpIHtcclxuICAgICAgICAgICAgICAgICRtZW51LmFkZENsYXNzKCdpcy1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuaGVhZGVyJylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2lzLW1vdmluZycpO1xyXG4gICAgICAgICAgICAgICAgJHdyYXBwZXIuYWRkQ2xhc3MoJ21lbnUtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgLy8gJG1lbnVJdGVtRHJvcGRvd24ucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHdyYXBwZXIuYWRkQ2xhc3MoJ21vYmlsZS1uYXYtLW9wZW4nKTtcclxuICAgICAgICAgICAgICAgICRvdmVybGF5LmFkZENsYXNzKCdpcy12aXNpYmxlJykuYWRkQ2xhc3MoJ292ZXJsYXktLW1lbnUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRoYW1idXJnZXIuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICR3cmFwcGVyLmFkZENsYXNzKCdtb2JpbGUtbmF2LS1vcGVuJyk7XHJcbiAgICAgICAgICAgICRvdmVybGF5LmFkZENsYXNzKCdpcy12aXNpYmxlJykuYWRkQ2xhc3MoJ292ZXJsYXktLW1lbnUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkd3JhcHBlci5oYXNDbGFzcygncGFnZS1vbmVwYWdlJykpIHtcclxuICAgICAgICAgICAgJGhhbWJ1cmdlci5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgJHdyYXBwZXIuYWRkQ2xhc3MoJ21vYmlsZS1uYXYtLW9wZW4nKTtcclxuICAgICAgICAgICAgJG92ZXJsYXkuYWRkQ2xhc3MoJ2lzLXZpc2libGUnKS5hZGRDbGFzcygnb3ZlcmxheS0tbWVudScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfY2xvc2UoZSkge1xyXG4gICAgICAgICRoYW1idXJnZXIucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgJGhhbWJ1cmdlckNybS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAkbWVudS5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xyXG4gICAgICAgICRtZW51SXRlbURyb3Bkb3duLnJlbW92ZUNsYXNzKERST1BET1dOX0FDVElWRV9DTEFTUyk7XHJcbiAgICAgICAgJChkb2N1bWVudClcclxuICAgICAgICAgICAgLmZpbmQoJy5oZWFkZXInKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2lzLW1vdmluZycpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xyXG4gICAgICAgICRidG5GbG9hdC5mYWRlSW4oKTtcclxuICAgICAgICAkd3JhcHBlci5yZW1vdmVDbGFzcygnbW9iaWxlLW5hdi0tb3BlbicpO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgaWYgKHRhcmdldC5pcygnLmpzLWhhbWJ1cmdlcicpIHx8IHRhcmdldC5pcygnLmpzLW1lbnUtaXRlbS1kcm9wZG93bicpKSB7XHJcbiAgICAgICAgICAgICR3cmFwcGVyLnJlbW92ZUNsYXNzKCdtZW51LW9wZW4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAkKCcub3ZlcmxheS0tbWVudScpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuXHJcbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNDgwKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJG1lbnVPdmVsYXkucmVtb3ZlQ2xhc3MoJ2lzLXZpc2libGUnKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0OiBfaW5pdCxcclxuICAgIH07XHJcbn0pKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///GakHr+1n\n");

/***/ }),

/***/ "J+/0136V":
/*!********************************!*\
  !*** ./components/BoxColor.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* html example box color\r\n    <div data-color=\"#a5dff8\"></div>\r\n*/\nvar BoxColor = function () {\n    function BoxColor() {\n        _classCallCheck(this, BoxColor);\n\n        this.element = $('[data-color]');\n        this.color;\n        this.init();\n    }\n\n    _createClass(BoxColor, [{\n        key: 'init',\n        value: function init() {\n            this.element.each(function () {\n                var _this = $(this);\n                var color = $(this).attr('data-color');\n                var colorItem = $(this).find('[data-color-item]');\n\n                //Создаем блок с цветом категории\n                var $colorBlock = $('<span>').addClass('color-line').css('background-color', color);\n\n                if (colorItem.length) {\n                    if (!colorItem.find('.color-line').length) {\n                        $colorBlock.prependTo(colorItem);\n                    }\n                } else {\n                    if (!colorItem.find('.color-line').length) {\n                        $colorBlock.prependTo(_this);\n                    }\n                }\n            });\n        }\n    }]);\n\n    return BoxColor;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BoxColor);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSisvMDEzNlYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvQm94Q29sb3IuanM/ZTEyYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBodG1sIGV4YW1wbGUgYm94IGNvbG9yXHJcbiAgICA8ZGl2IGRhdGEtY29sb3I9XCIjYTVkZmY4XCI+PC9kaXY+XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJveENvbG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9ICQoJ1tkYXRhLWNvbG9yXScpO1xyXG4gICAgICAgIHRoaXMuY29sb3I7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgX3RoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtY29sb3InKTtcclxuICAgICAgICAgICAgbGV0IGNvbG9ySXRlbSA9ICQodGhpcykuZmluZCgnW2RhdGEtY29sb3ItaXRlbV0nKTtcclxuXHJcbiAgICAgICAgICAgIC8v0KHQvtC30LTQsNC10Lwg0LHQu9C+0Log0YEg0YbQstC10YLQvtC8INC60LDRgtC10LPQvtGA0LjQuFxyXG4gICAgICAgICAgICBsZXQgJGNvbG9yQmxvY2sgPSAkKCc8c3Bhbj4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xvci1saW5lJylcclxuICAgICAgICAgICAgICAgIC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBjb2xvcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29sb3JJdGVtLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xvckl0ZW0uZmluZCgnLmNvbG9yLWxpbmUnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkY29sb3JCbG9jay5wcmVwZW5kVG8oY29sb3JJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghY29sb3JJdGVtLmZpbmQoJy5jb2xvci1saW5lJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbG9yQmxvY2sucHJlcGVuZFRvKF90aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUEzQkE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///J+/0136V\n");

/***/ }),

/***/ "Oqt4qBVp":
/*!*********************************!*\
  !*** ./components/SlideLine.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* html example\r\n ** selector can be any\r\n */\n\nvar SlideLine = function () {\n    function SlideLine(args) {\n        _classCallCheck(this, SlideLine);\n\n        this.element = args.selector;\n        this.link = document.querySelector(this.element);\n        this.links = document.querySelectorAll(this.element);\n        this.line = document.createElement('span');\n\n        if (typeof this.element == 'undefined') return;\n    }\n\n    _createClass(SlideLine, [{\n        key: 'init',\n        value: function init() {\n            this._render();\n            this.checkActive();\n            this.addEventListener();\n        }\n    }, {\n        key: 'addEventListener',\n        value: function addEventListener() {\n            var mainScope = this;\n\n            var hendlerClick = function hendlerClick() {\n                var _this = this;\n\n                var offsetLeft = this.offsetLeft;\n                var width = this.offsetWidth;\n\n                mainScope.line.style.left = offsetLeft + 'px';\n                mainScope.line.style.width = width + 'px';\n\n                //Находим все активные элементы кроме того на который кликнули и убираем у него класс is-active\n                var active = this.parentNode.querySelectorAll('.is-active');\n\n                var _loop = function _loop(i) {\n                    setTimeout(function () {\n                        active[i].classList.remove('is-active');\n                    }, 100);\n                };\n\n                for (var i = 0; i < active.length; i++) {\n                    _loop(i);\n                }\n\n                setTimeout(function () {\n                    _this.classList.add('is-active');\n                }, 100);\n            };\n\n            $(document).on('click', mainScope.element, hendlerClick);\n        }\n    }, {\n        key: 'checkActive',\n        value: function checkActive() {\n            for (var i = 0; i < this.links.length; i++) {\n                if (this.links[i].classList.contains('is-active') || this.links[i].classList.contains('ui-tabs-active')) {\n                    this._setLine(i);\n                }\n            }\n        }\n    }, {\n        key: 'update',\n        value: function update(index) {\n            $(this.element).eq(index).trigger('click');\n        }\n\n        //При загрузке выставляем line в начальное положение\n\n    }, {\n        key: '_setLine',\n        value: function _setLine(index) {\n            var offsetLeft = this.links[index].offsetLeft;\n            var width = this.links[index].offsetWidth;\n\n            this.line.style.left = offsetLeft + 'px';\n            this.line.style.width = width + 'px';\n        }\n    }, {\n        key: '_render',\n        value: function _render() {\n            this.line.classList.add('slide-line');\n            this.link.parentNode.appendChild(this.line);\n        }\n    }]);\n\n    return SlideLine;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SlideLine);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3F0NHFCVnAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvU2xpZGVMaW5lLmpzPzA4NzMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogaHRtbCBleGFtcGxlXHJcbiAqKiBzZWxlY3RvciBjYW4gYmUgYW55XHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVMaW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBhcmdzLnNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMubGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5lbGVtZW50KTtcclxuICAgICAgICB0aGlzLmxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMubGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmVsZW1lbnQgPT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tBY3RpdmUoKTtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgICAgIGxldCBtYWluU2NvcGUgPSB0aGlzO1xyXG5cclxuICAgICAgICBsZXQgaGVuZGxlckNsaWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBvZmZzZXRMZWZ0ID0gdGhpcy5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSB0aGlzLm9mZnNldFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgbWFpblNjb3BlLmxpbmUuc3R5bGUubGVmdCA9IG9mZnNldExlZnQgKyAncHgnO1xyXG4gICAgICAgICAgICBtYWluU2NvcGUubGluZS5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgIC8v0J3QsNGF0L7QtNC40Lwg0LLRgdC1INCw0LrRgtC40LLQvdGL0LUg0Y3Qu9C10LzQtdC90YLRiyDQutGA0L7QvNC1INGC0L7Qs9C+INC90LAg0LrQvtGC0L7RgNGL0Lkg0LrQu9C40LrQvdGD0LvQuCDQuCDRg9Cx0LjRgNCw0LXQvCDRgyDQvdC10LPQviDQutC70LDRgdGBIGlzLWFjdGl2ZVxyXG4gICAgICAgICAgICBsZXQgYWN0aXZlID0gdGhpcy5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pcy1hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgbWFpblNjb3BlLmVsZW1lbnQsIGhlbmRsZXJDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBY3RpdmUoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMubGlua3NbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5saW5rc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3VpLXRhYnMtYWN0aXZlJylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRMaW5lKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShpbmRleCkge1xyXG4gICAgICAgICQodGhpcy5lbGVtZW50KVxyXG4gICAgICAgICAgICAuZXEoaW5kZXgpXHJcbiAgICAgICAgICAgIC50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0J/RgNC4INC30LDQs9GA0YPQt9C60LUg0LLRi9GB0YLQsNCy0LvRj9C10LwgbGluZSDQsiDQvdCw0YfQsNC70YzQvdC+0LUg0L/QvtC70L7QttC10L3QuNC1XHJcbiAgICBfc2V0TGluZShpbmRleCkge1xyXG4gICAgICAgIGxldCBvZmZzZXRMZWZ0ID0gdGhpcy5saW5rc1tpbmRleF0ub2Zmc2V0TGVmdDtcclxuICAgICAgICBsZXQgd2lkdGggPSB0aGlzLmxpbmtzW2luZGV4XS5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgICAgdGhpcy5saW5lLnN0eWxlLmxlZnQgPSBvZmZzZXRMZWZ0ICsgJ3B4JztcclxuICAgICAgICB0aGlzLmxpbmUuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XHJcbiAgICB9XHJcblxyXG4gICAgX3JlbmRlcigpIHtcclxuICAgICAgICB0aGlzLmxpbmUuY2xhc3NMaXN0LmFkZCgnc2xpZGUtbGluZScpO1xyXG4gICAgICAgIHRoaXMubGluay5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMubGluZSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQWJBO0FBQ0E7QUFTQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQXhFQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///Oqt4qBVp\n");

/***/ }),

/***/ "REoC5YDm":
/*!***********************************!*\
  !*** ./core/components/Select.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var select2_dist_js_select2_full_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! select2/dist/js/select2.full.js */ \"ujI1/6ey\");\n/* harmony import */ var select2_dist_js_select2_full_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(select2_dist_js_select2_full_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var select2_dist_js_i18n_ru_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! select2/dist/js/i18n/ru.js */ \"d6YH1jrb\");\n/* harmony import */ var select2_dist_js_i18n_ru_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(select2_dist_js_i18n_ru_js__WEBPACK_IMPORTED_MODULE_1__);\n/**\r\n * Base.Components.Select.js\r\n *\r\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\r\n * Custom Select https://select2.org/\r\n */\n\nBB.define('Core.Select');\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Core.Select = function () {\n    function _init() {\n        $('.js-select--multiple').select2({\n            language: 'ru',\n            tags: true\n        });\n\n        $('.js-select.bb-select--metro').select2({\n            language: 'ru',\n            templateResult: addUserPic\n        });\n\n        $('.js-select.no-search').select2({\n            language: 'ru',\n            minimumResultsForSearch: -1\n        });\n\n        //Добавляем иконку метро в селект\n        function addUserPic(opt) {\n            if (!opt.id) {\n                return opt.text;\n            }\n            var optimage = $(opt.element).data('image');\n            if (!optimage) {\n                return opt.text;\n            } else {\n                var $opt = $('<span class=\"metro-icon metro-icon--' + optimage + '\">' + $(opt.element).text() + '</span>');\n                return $opt;\n            }\n        }\n\n        _initBase();\n        _initServices();\n        _initNative();\n        _initMultiple();\n        _initColor();\n        _initIcon();\n        _initBorn();\n        _initShowYear();\n        _initHideYear();\n        _initPhoneCode();\n        _initMobile();\n        _initAddEventListener();\n        _initInputCounter();\n        _initInputCounterControl();\n        _initSelectColor();\n        _initSelectStatus();\n\n        if (true) {\n            console.log('--- INIT CORE SELECT');\n        }\n    }\n\n    function _initBase() {\n        var $select = $('.js-select');\n\n        $select.each(function () {\n            var $parent = $(this).closest('.bb-input--select');\n\n            $(this).select2({\n                language: 'ru',\n                dropdownParent: $parent\n            });\n        });\n    }\n\n    function _initServices() {\n        var $selectServices = $('.js-select--services');\n\n        $selectServices.each(function () {\n            var $parent = $(this).closest('.bb-input--select');\n            $(this).select2({\n                language: 'ru',\n                dropdownParent: $parent,\n                templateSelection: timeAndPrice,\n                templateResult: timeAndPrice\n            });\n        });\n\n        //Select Add Price Time & Price\n        function timeAndPrice(opt) {\n            var originalTime = $(opt.element).data('time');\n            var originalPrice = $(opt.element).data('price');\n\n            return $('<div class=custom-select__results>' + '<span>' + opt.text + '</span>' + '<span>' + originalTime + '</span>' + '<span>' + originalPrice + '</span>' + '</div>');\n        }\n    }\n\n    function _initNative() {\n        var $selectNative = $(document).find('.js-select-native');\n        if ($selectNative.length) {\n            if ($(window).width() > 480) {\n                $selectNative.each(function () {\n                    if (!$(this).hasClass('select2-hidden-accessible')) {\n                        var $parent = $(this).closest('.bb-input--select, .profile-editor__select');\n                        $(this).select2({\n                            language: 'ru',\n                            minimumResultsForSearch: -1,\n                            dropdownParent: $parent\n                        });\n                    }\n                });\n            } else {\n                $selectNative.each(function () {\n                    if ($(this).hasClass('select2-hidden-accessible')) {\n                        $(this).select2('destroy');\n                    }\n\n                    var _this = $(this);\n                    var $parent = _this.closest('.bb-input');\n\n                    var $title = $parent.find('.bb-input__title');\n                    var titleText = $title.text();\n\n                    var placeholder = _this.data('placeholder');\n                    var $firstOption = _this.find('option:first-child');\n                    var $newOption = $('<option>').attr({\n                        disabled: 'disabled',\n                        selected: 'selected'\n                    });\n                    var type = $parent.data('type');\n\n                    var text = void 0;\n                    if (titleText !== '' || titleText !== 'undefined') {\n                        text = titleText;\n                    } else if (placeholder !== '' || placeholder !== 'undefined') {\n                        text = placeholder;\n                    } else {\n                        return;\n                    }\n\n                    if ($parent.hasClass('bb-input--transform')) {\n                        if ($firstOption.is(':empty')) {\n                            if (type === 'selected') {\n                                $firstOption.remove();\n                                $parent.addClass('is-focus');\n                            } else {\n                                $firstOption.remove();\n\n                                _this.removeAttr('data-placeholder').val(text);\n\n                                _addResetBtn(_this);\n                            }\n                            //firstOption not empty\n                        } else {\n                            if (type === 'selected') {\n                                $parent.addClass('is-focus');\n                            } else {\n                                $newOption.prependTo(_this);\n\n                                _addResetBtn(_this);\n                            }\n                        }\n                    } else {\n                        if ($firstOption.is(':empty')) {\n                            $firstOption.val(placeholder).text(placeholder).attr({\n                                selected: 'selected',\n                                disabled: 'disabled'\n                            });\n                            _this.addClass('has-placeholder').removeAttr('data-placeholder').val(placeholder);\n                        }\n\n                        _addResetBtn(_this);\n                    }\n\n                    $(this).on('change', function () {\n                        if ($(this).hasClass('has-placeholder')) {\n                            $(this).removeClass('has-placeholder');\n                        }\n\n                        var $firstOption = _this.find('option:first-child');\n                        if ($(this).val() !== '') {\n                            $parent.addClass('is-focus');\n\n                            if ($firstOption.is(':empty')) {\n                                $firstOption.remove();\n                            }\n                        } else {\n                            $parent.removeClass('is-focus');\n                        }\n                    });\n\n                    $(this).wrap('<label class=\"bb-select\">');\n                });\n            }\n        }\n    }\n\n    function _initMultiple() {\n        var $selectMultiple = $(document).find('.js-select--multiple');\n\n        if ($selectMultiple.length) {\n            if ($(window).width() > 480) {\n                $selectMultiple.each(function () {\n                    var _this = $(this);\n                    var $parent = _this.closest('.bb-input');\n                    _this.select2({\n                        language: 'ru',\n                        tags: true,\n                        minimumResultsForSearch: 2,\n                        dropdownParent: $parent\n                    });\n                });\n            } else {\n                $selectMultiple.each(function () {\n                    var _this = $(this);\n\n                    var $parent = _this.closest('.bb-input');\n                    var $select2Input = $parent.find('input');\n                    var placeholder = $select2Input.attr('placeholder');\n                    _this.children().addClass('needsclick');\n                    _this.select2({\n                        language: 'ru',\n                        tags: true,\n                        minimumResultsForSearch: 2,\n                        dropdownParent: $parent\n                    });\n\n                    if ($parent.hasClass('bb-input--transform')) {\n                        $select2Input.attr('placeholder', '');\n                    }\n\n                    // откат тайтла\n                    $(this).on('select2:open', function () {\n                        if ($(this).hasClass('has-placeholder')) {\n                            $(this).removeClass('has-placeholder');\n                            $('.select2-search__field').attr('readonly', true);\n                        }\n\n                        if ($(this).val() !== '') {\n                            $parent.addClass('is-focus');\n                            $select2Input.attr('placeholder', placeholder);\n                        } else {\n                            $parent.removeClass('is-focus');\n                        }\n                    }).on('select2:close', function () {\n                        if ($(this).val() == '') {\n                            $parent.removeClass('is-focus');\n                            $select2Input.removeAttr('placeholder').blur();\n                        } else {\n                            $parent.addClass('is-focus');\n                        }\n                    });\n                });\n            }\n        }\n    }\n\n    function _initAddEventListener() {\n        $(document).on('focus', '.select2-search__field', function (e) {\n            e.stopPropagation();\n        });\n\n        var $icon = $(document).find('.js-icon-toggle');\n        $icon.each(function () {\n            var _this = $(this);\n            var $select = _this.find('.js-select-native');\n            var $optionSelected = _this.find('.js-select-native :selected').data('icon');\n            var $icon = _this.find('.icon');\n            $icon.each(function () {\n                var $dataInIcon = $(this).data('icon');\n                if ($dataInIcon != $optionSelected) {\n                    $(this).hide();\n                }\n            });\n\n            $select.on('change', function () {\n                var $selectChange = _this.find('.js-select-native :selected').data('icon');\n                $icon.each(function () {\n                    var $dataInIcon = $(this).data('icon');\n                    if ($dataInIcon != $selectChange) {\n                        $(this).hide();\n                    } else {\n                        $(this).show();\n                    }\n                });\n            });\n        });\n    }\n\n    function _initIcon() {\n        var $iconSelect = $(document).find('.js-select--icon');\n\n        $iconSelect.each(function () {\n            var $parent = $(this).closest('.bb-input--select');\n\n            $(this).select2({\n                language: 'ru',\n                templateSelection: iformat,\n                templateResult: iformat,\n                dropdownParent: $parent,\n                minimumResultsForSearch: -1\n            });\n        });\n\n        //Icon fontawesome inside select\n        function iformat(icon) {\n            var originalOption = icon.element;\n            return $('<span><i class=\"select2__icon' + ' ' + $(originalOption).data('icon') + '\"></i> ' + icon.text + '</span>');\n        }\n    }\n\n    function _initColor() {\n        var $colorSelect = $(document).find('.js-select--color');\n        if ($colorSelect.length) {\n            $colorSelect.each(function () {\n                colorCustom(this);\n            });\n        }\n\n        function colorNative(elem) {\n            var _this = $(elem);\n            var $parent = _this.closest('.bb-input');\n\n            var $title = $parent.find('.bb-input__title');\n            var titleText = $title.text();\n\n            var placeholder = _this.data('placeholder');\n            var $firstOption = _this.find('option:first-child');\n            var $newOption = $('<option>').attr({\n                disabled: 'disabled',\n                selected: 'selected'\n            });\n            var type = $parent.data('type');\n\n            var text = void 0;\n            if (titleText !== '' || typeof titleText !== 'undefined') {\n                text = titleText;\n            } else if (placeholder !== '' || typeof placeholder !== 'undefined') {\n                text = placeholder;\n            } else {\n                return;\n            }\n\n            if ($parent.hasClass('bb-input--transform')) {\n                if ($firstOption.is(':empty')) {\n                    if (type === 'selected') {\n                        $firstOption.remove();\n                        $parent.addClass('is-focus');\n                    } else {\n                        $firstOption.remove();\n\n                        _this.removeAttr('data-placeholder').val(text);\n\n                        _addResetBtn(_this);\n                    }\n                    //firstOption not empty\n                } else {\n                    if (type === 'selected') {\n                        $parent.addClass('is-focus');\n                    } else {\n                        $newOption.prependTo(_this);\n\n                        _addResetBtn(_this);\n                    }\n                }\n            } else {\n                if ($firstOption.is(':empty')) {\n                    $firstOption.val(placeholder).text(placeholder).attr({\n                        selected: 'selected',\n                        disabled: 'disabled'\n                    });\n                    _this.addClass('has-placeholder').removeAttr('data-placeholder').val(placeholder);\n                }\n            }\n\n            $(elem).on('change', function () {\n                if ($(elem).hasClass('has-placeholder')) {\n                    $(elem).removeClass('has-placeholder');\n                }\n\n                var $firstOption = _this.find('option:first-child');\n                if ($(elem).val() !== '') {\n                    $parent.addClass('is-focus');\n\n                    if ($firstOption.is(':empty')) {\n                        $firstOption.remove();\n                    }\n                } else {\n                    $parent.removeClass('is-focus');\n                }\n            });\n\n            $(elem).wrap('<label class=\"bb-select\">');\n        }\n\n        function colorCustom(elem) {\n            var $parent = $(elem).closest('.select-color');\n            if ($(elem).hasClass('search-enabled')) {\n                $(elem).select2({\n                    language: 'ru',\n                    templateSelection: iBall,\n                    templateResult: iBall,\n                    dropdownParent: $parent\n                });\n            } else {\n                $(elem).select2({\n                    language: 'ru',\n                    minimumResultsForSearch: -1,\n                    templateSelection: iBall,\n                    templateResult: iBall,\n                    dropdownParent: $parent\n                });\n            }\n        }\n\n        function iBall(color) {\n            var $parent = $(color.element).closest('.select-color');\n            var $originalOption = color.element;\n            var colorBall = $($originalOption).data('color');\n\n            if (typeof colorBall != 'undefined') {\n                if (color.text.length) {\n                    $parent.removeClass('select-color--palette');\n\n                    return $('<div class=select-color__item> <span class=\"select-color__marker\" style=\"background-color: ' + colorBall + '\"></span><p> ' + color.text + ' </p></div>');\n                } else {\n                    $parent.addClass('select-color--palette');\n\n                    return $('<div class=select-color__item> <span class=\"select-color__ball\" style=\"background-color: ' + colorBall + ' \"> </span> </div>');\n                }\n            } else {\n                return $('<div class=select-color__item> ' + color.text + ' </div>');\n            }\n        }\n    }\n\n    function _initBorn() {\n        var $bornSelect = $(document).find('.js-select-born');\n\n        if ($bornSelect.length) {\n            if ($(window).width() > 480) {\n                $bornSelect.each(function () {\n                    if (!$(this).hasClass('select2-hidden-accessible')) {\n                        $(this).select2({\n                            language: 'ru',\n                            minimumResultsForSearch: -1,\n                            allowClear: true\n                        });\n                    }\n                });\n            } else {\n                $bornSelect.each(function () {\n                    if ($(this).hasClass('select2-hidden-accessible')) {\n                        $(this).select2('destroy');\n                    }\n                    var $parent = $(this).closest('.bb-input--born');\n                    var $select = $(this).closest('.bb-input-born__select');\n                    var placeholder = $(this).data('placeholder');\n                    var $firstOption = $(this).find('option:first-child');\n\n                    if ($parent.hasClass('bb-input--transform')) {\n                        $parent.find('.bb-input__title').detach();\n\n                        $parent.find('.bb-input-born').addClass('bb-input-born--transform');\n                    }\n\n                    $firstOption.text(placeholder).val(placeholder).attr('disabled', 'disabled');\n\n                    $(this).removeAttr('data-placeholder');\n\n                    $(this).wrap('<label class=\"bb-select\">');\n\n                    $(this).on('change', function () {\n                        if ($(this).val() !== '') {\n                            $select.addClass('is-focus');\n                        } else {\n                            $select.removeClass('is-focus');\n                        }\n                    });\n\n                    // function checkFocus() {\n                    //     if ($(this).val() !== '') {\n                    //         $select.addClass('is-focus');\n                    //     } else {\n                    //         $select.removeClass('is-focus');\n                    //     }\n                    // }\n                    // checkFocus();\n\n                    _addResetBtn($(this));\n                });\n            }\n        }\n    }\n\n    function _initShowYear() {\n        $(document).on('click', '.js-set-year', function () {\n            $(this).hide();\n            $(this).prev().show();\n        });\n    }\n\n    function _initHideYear() {\n        var $yearSelect = $('.js-select-born--clear');\n\n        $yearSelect.on('select2:unselecting', function () {\n            $(this).on('select2:opening', function (e) {\n                e.preventDefault();\n            });\n        }).on('select2:unselect', function () {\n            var _this2 = this;\n\n            setTimeout(function () {\n                $(_this2).off('select2:opening');\n            }, 100);\n        }).on('change', function () {\n            if ($(this).val() == '' && $(this).attr('data-born') === 'year') {\n                $('.js-set-year').show();\n                $('.js-set-year').prev().hide();\n            }\n        });\n    }\n\n    function _addResetBtn(el) {\n        var renderIcon = true;\n        var $select = el;\n        var $parent = $select.closest('.bb-input');\n        var resetBtn = '<button class=\"bb-select__reset js-select--reset\">\\n                            <span>\\n                                <svg viewBox=\"0 0 47.971 47.971\">\\n                                <path d=\"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\\n                                    c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\\n                                    C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\\n                                    s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z\"/>\\n                                </svg>\\n                            </span>\\n                        </button>';\n\n        var $newOption = $('<option>').attr({\n            disabled: 'disabled',\n            selected: 'selected'\n        });\n\n        $select.on('change', function () {\n            var $parent = $(this).parent('.bb-select, .bb-input-born__select');\n\n            if (renderIcon) {\n                if ($(window).width() > 480) {\n                    $(this).parent().find('.select2-selection__clear').text('').append(resetBtn);\n                } else {\n                    $parent.append(resetBtn);\n                }\n                renderIcon = false;\n            }\n        });\n\n        $(document).on('click', '.js-select--reset', function (e) {\n            var $parent = void 0,\n                $select = void 0;\n\n            if ($(this).siblings('.js-select-born').length) {\n                $select = $(this).siblings('.js-select-born');\n                $parent = $(this).closest('.bb-input-born__select');\n            } else {\n                $select = $(this).siblings('.js-select-native');\n                $parent = $(this).closest('.bb-input');\n\n                if ($parent.hasClass('bb-input--transform')) {\n                    $newOption.prependTo($select);\n                }\n            }\n\n            $select.val($parent.find('option:first-child').val()).blur();\n\n            $parent.removeClass('is-focus');\n\n            $(this).remove();\n\n            if ($parent.hasClass('bb-input-born__select--year')) {\n                $parent.next('.bb-input-born__btn').show();\n                $parent.hide();\n            }\n\n            renderIcon = true;\n\n            e.stopPropagation();\n            e.preventDefault();\n        });\n    }\n\n    function _initPhoneCode() {\n        //Change select results to option value\n        function selectCodeSelection(opt) {\n            var optVal = $(opt.element).val();\n\n            return $('<span class=custom-select__results>' + optVal + '</span>');\n        }\n\n        //Add city name to option\n        function selectCodeResult(opt) {\n            var country = $(opt.element).data('country'),\n                optVal = $(opt.element).val();\n\n            return $('<div class=custom-select__results>' + '<span>' + country + '</span>' + '<span>' + optVal + '</span>' + '</div>');\n        }\n\n        var $phoneCodeBox = $(document).find('.js-input-phone-code');\n\n        if ($phoneCodeBox.length) {\n            $phoneCodeBox.each(function () {\n                var $select = $(this).find('.select-value');\n                var $parent = $(this).parent();\n                var $input = $(this).find('.bb-input__input');\n\n                if ($(window).width() >= 768) {\n                    $select.select2({\n                        language: 'ru',\n                        templateResult: selectCodeResult,\n                        templateSelection: selectCodeSelection,\n                        dropdownParent: $(this)\n                    }).on('select2:select', function () {\n                        $(this).parent().parent().find('input').focus();\n                    });\n                } else {\n                    $parent.addClass('bb-select').append('<div class=\"bb-input--select-value\"></div>');\n\n                    var optionSelect = $parent.find('option');\n                    var selectValue = $parent.find('.bb-input--select-value');\n\n                    selectValue.text(optionSelect.eq(0).val());\n\n                    $select.change(function () {\n                        var counter = $(this)[0].selectedIndex;\n                        selectValue.text(optionSelect.eq(counter).val());\n\n                        $(this).parent().parent().find('input').focus();\n                    });\n                }\n\n                Inputmask('999-99-99').mask($input);\n\n                $input.on('focus', addFocus).on('blur', removeFocus);\n                $select.on('select2:open', addFocus).on('select2:close', removeFocus);\n\n                function addFocus() {\n                    $(this).closest('.js-input-phone-code').addClass('is-focus');\n                }\n\n                function removeFocus() {\n                    if ($(this).val() == '') {\n                        $(this).closest('.js-input-phone-code').removeClass('is-focus');\n                    }\n                }\n            });\n        }\n    }\n\n    function _initMobile() {\n        var $select = $(document).find('.js-move-select');\n\n        $select.each(function () {\n            var $inputSearch = $(this).find('.move-select__field');\n            var $resultItem = $(this).find('.move-select__result');\n            var $item = $(this).find('.move-select__result');\n            var $btnClose = $(this).find('.js-move-select--close');\n\n            $(this).on('click', function () {\n                $(this).addClass('is-active');\n                $inputSearch.blur();\n                $('html, body').animate({\n                    scrollTop: 0\n                });\n            });\n\n            $item.on('click', function (e) {\n                var $name = $(this).find('.user__name').text().trim();\n\n                var $service = $(this).find('.item-info__title span').text().trim().split(' ').join(' + ');\n\n                $inputSearch.val($name || $service);\n\n                $(this).closest('.js-move-select').removeClass('is-active').closest('.bb-input--transform').addClass('is-focus');\n\n                // e.stopPropagation();\n                e.preventDefault();\n            });\n\n            $btnClose.on('click', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                $(this).closest('.js-move-select').removeClass('is-active');\n                $inputSearch.blur();\n            });\n\n            $(document).on('click', '.move-select__result', function () {\n                $resultItem.removeClass('is-selected');\n                $(this).addClass('is-selected');\n            });\n        });\n    }\n\n    function _initInputCounter() {\n        var inputCustom = document.querySelectorAll('.js-bb-input-custom');\n        var height = $(window).height();\n        var centerHeight = height / 2;\n        var defaultPosition = void 0;\n\n        if (inputCustom.length) {\n            var _loop = function _loop(i) {\n                var inputValue = inputCustom[i].querySelector('.bb-input-custom__value');\n\n                inputCustom[i].onclick = function (e) {\n                    e.preventDefault();\n                };\n\n                inputValue.onclick = function (event) {\n                    event.preventDefault();\n                    var target = event.target;\n\n                    if (!target.closest('.bb-input-custom').classList.contains('is-open')) {\n                        for (var j = 0; j < inputCustom.length; j++) {\n                            inputCustom[j].classList.remove('is-open');\n                        }\n\n                        inputCustom[i].classList.add('is-open');\n\n                        var list = $(document).find('.bb-input-custom__list:visible')[0];\n\n                        if (typeof list === 'undefined') {\n                            return;\n                        }\n\n                        var listPosition = list.getBoundingClientRect();\n\n                        defaultPosition = listPosition.top;\n\n                        if (list.classList.contains('bb-input-custom__list--full-border')) {\n                            list.classList.remove('bb-input-custom__list--full-border');\n                            list.classList.add('bb-input-custom__list');\n                        }\n\n                        $(list).css('top', '100%');\n\n                        var listHeight = $(list).height();\n                        var listOuterHeight = $(list).outerHeight();\n\n                        if (listPosition.top > centerHeight) {\n                            $(list).addClass('bb-input-custom__list--full-border');\n\n                            $(list).offset({\n                                top: $(this).offset().top - listHeight - (listOuterHeight - listHeight) / 2\n                            });\n\n                            $(list).append($($(list).children('li')).get().reverse());\n                        }\n                    } else {\n                        var _list = $(document).find('.bb-input-custom__list:visible')[0];\n\n                        if (defaultPosition > centerHeight) {\n                            $(_list).offset({ top: '100%' });\n                            $(_list).append($($(_list).children('li')).get().reverse());\n                        }\n\n                        inputCustom[i].classList.remove('is-open');\n                    }\n                };\n\n                document.onclick = function (event) {\n                    var target = event.target;\n\n                    if (target.querySelectorAll('.js-bb-input-custom').length || !target.closest('.bb-input-custom__value')) {\n                        var list = $(target).parent().find('.bb-input-custom__list:visible')[0];\n                        if (defaultPosition > centerHeight) {\n                            $(list).append($($(list).children('li')).get().reverse());\n                        }\n                        for (var _i = 0; _i < inputCustom.length; _i++) {\n                            inputCustom[_i].classList.remove('is-open');\n                        }\n                    }\n                };\n            };\n\n            for (var i = 0; i < inputCustom.length; i++) {\n                _loop(i);\n            }\n        }\n    }\n\n    function _initInputCounterControl() {\n        var inputCustom = document.querySelectorAll('.js-bb-input-custom');\n\n        if (inputCustom.length) {\n            var _loop2 = function _loop2(i) {\n                var minus = inputCustom[i].querySelector('.bb-input-custom__minus');\n                var plus = inputCustom[i].querySelector('.bb-input-custom__plus');\n                var input = inputCustom[i].querySelector('.bb-input-custom__input');\n                var item = inputCustom[i].querySelectorAll('.bb-input-custom__item');\n\n                var _loop3 = function _loop3(_i2) {\n                    var offer = item[_i2].querySelector('.bb-input-custom__offer');\n\n                    if (offer != null) {\n                        item[_i2].onclick = function () {\n                            input.value = offer.innerHTML;\n                        };\n                    }\n                };\n\n                for (var _i2 = 0; _i2 < item.length; _i2++) {\n                    _loop3(_i2);\n                }\n\n                if (minus != null && plus != null) {\n                    minus.onclick = function (e) {\n                        var target = e.target;\n\n                        target.closest('.bb-input-custom').classList.remove('is-open');\n\n                        if (input.value > 1) {\n                            input.value--;\n                        } else {\n                            input.value = 1;\n                        }\n\n                        // e.preventDefault();\n                        // e.stopPropagation();\n                    };\n                    plus.onclick = function (e) {\n                        var target = e.target;\n\n                        target.closest('.bb-input-custom').classList.remove('is-open');\n                        input.value++;\n\n                        // e.preventDefault();\n                        // e.stopPropagation();\n                    };\n                }\n            };\n\n            for (var i = 0; i < inputCustom.length; i++) {\n                _loop2(i);\n            }\n        }\n    }\n\n    function _initSelectColor() {\n        var inputCustom = document.querySelectorAll('.js-bb-input-custom');\n        if (inputCustom.length) {\n            var _loop4 = function _loop4(i) {\n                var value = inputCustom[i].querySelector('.bb-input-custom__color');\n                var title = inputCustom[i].querySelector('.bb-input-custom__title');\n\n                if (value != null && title != null) {\n                    var _item = inputCustom[i].querySelectorAll('.bb-input-custom__item');\n\n                    var _loop5 = function _loop5(_i3) {\n                        var color = _item[_i3].querySelector('.bb-input-custom__color');\n                        var titlePick = _item[_i3].querySelector('.bb-input-custom__title').innerHTML;\n                        var data = color.getAttribute('data-color-input');\n\n                        _item[_i3].onclick = function () {\n                            title.innerHTML = titlePick;\n                            value.style.backgroundColor = data;\n                        };\n                    };\n\n                    for (var _i3 = 0; _i3 < _item.length; _i3++) {\n                        _loop5(_i3);\n                    }\n                }\n            };\n\n            for (var i = 0; i < inputCustom.length; i++) {\n                _loop4(i);\n            }\n        }\n    }\n\n    function _initSelectStatus() {\n        var select = document.querySelectorAll('.js-select-status');\n        if (select.length) {\n            var _loop6 = function _loop6(i) {\n                var item = select[i];\n                var bbSelectLable = item.closest('.bb-select');\n                var dataOldStatus = void 0;\n                var selectIndex = item.selectedIndex;\n                var selectOption = item.options[selectIndex];\n                var dataStatus = selectOption.getAttribute('data-status');\n                bbSelectLable.classList.add(dataStatus);\n                dataOldStatus = dataStatus;\n\n                item.addEventListener('change', function (e) {\n                    var selectIndex = item.selectedIndex;\n                    var selectOption = item.options[selectIndex];\n                    var dataStatus = selectOption.getAttribute('data-status');\n                    bbSelectLable.classList.remove(dataOldStatus);\n                    bbSelectLable.classList.add(dataStatus);\n                    dataOldStatus = dataStatus;\n                });\n            };\n\n            for (var i = 0; i < select.length; i++) {\n                _loop6(i);\n            }\n        }\n    }\n\n    return {\n        init: _init,\n        initBase: _initBase,\n        initServices: _initServices,\n        initNative: _initNative,\n        initMultiple: _initMultiple,\n        initColor: _initColor,\n        initIcon: _initIcon,\n        initBorn: _initBorn,\n        initShowYear: _initShowYear,\n        initHideYear: _initHideYear,\n        initPhoneCode: _initPhoneCode,\n        initMobile: _initMobile,\n        initAddEventListener: _initAddEventListener,\n        initInputCounter: _initInputCounter,\n        initInputCustomControl: _initInputCounterControl,\n        initSelectColor: _initSelectColor\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUkVvQzVZRG0uanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvY29tcG9uZW50cy9TZWxlY3QuanM/YzAxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQmFzZS5Db21wb25lbnRzLlNlbGVjdC5qc1xyXG4gKlxyXG4gKiBAYXV0aG9yIEFudG9uIFVzdGlub2ZmIDxhLmEudXN0aW5vZmZAZ21haWwuY29tPlxyXG4gKiBDdXN0b20gU2VsZWN0IGh0dHBzOi8vc2VsZWN0Mi5vcmcvXHJcbiAqL1xyXG5cclxuQkIuZGVmaW5lKCdDb3JlLlNlbGVjdCcpO1xyXG5cclxuaW1wb3J0ICdzZWxlY3QyL2Rpc3QvanMvc2VsZWN0Mi5mdWxsLmpzJztcclxuaW1wb3J0ICdzZWxlY3QyL2Rpc3QvanMvaTE4bi9ydS5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCQi5Db3JlLlNlbGVjdCA9IChmdW5jdGlvbigpIHtcclxuICAgIGZ1bmN0aW9uIF9pbml0KCkge1xyXG4gICAgICAgICQoJy5qcy1zZWxlY3QtLW11bHRpcGxlJykuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgIGxhbmd1YWdlOiAncnUnLFxyXG4gICAgICAgICAgICB0YWdzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuanMtc2VsZWN0LmJiLXNlbGVjdC0tbWV0cm8nKS5zZWxlY3QyKHtcclxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICdydScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0OiBhZGRVc2VyUGljLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcuanMtc2VsZWN0Lm5vLXNlYXJjaCcpLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICBsYW5ndWFnZTogJ3J1JyxcclxuICAgICAgICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IC0xLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL9CU0L7QsdCw0LLQu9GP0LXQvCDQuNC60L7QvdC60YMg0LzQtdGC0YDQviDQsiDRgdC10LvQtdC60YJcclxuICAgICAgICBmdW5jdGlvbiBhZGRVc2VyUGljKG9wdCkge1xyXG4gICAgICAgICAgICBpZiAoIW9wdC5pZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdC50ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBvcHRpbWFnZSA9ICQob3B0LmVsZW1lbnQpLmRhdGEoJ2ltYWdlJyk7XHJcbiAgICAgICAgICAgIGlmICghb3B0aW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHQudGV4dDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciAkb3B0ID0gJChcclxuICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJtZXRyby1pY29uIG1ldHJvLWljb24tLScgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpbWFnZSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChvcHQuZWxlbWVudCkudGV4dCgpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3Bhbj4nXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRvcHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9pbml0QmFzZSgpO1xyXG4gICAgICAgIF9pbml0U2VydmljZXMoKTtcclxuICAgICAgICBfaW5pdE5hdGl2ZSgpO1xyXG4gICAgICAgIF9pbml0TXVsdGlwbGUoKTtcclxuICAgICAgICBfaW5pdENvbG9yKCk7XHJcbiAgICAgICAgX2luaXRJY29uKCk7XHJcbiAgICAgICAgX2luaXRCb3JuKCk7XHJcbiAgICAgICAgX2luaXRTaG93WWVhcigpO1xyXG4gICAgICAgIF9pbml0SGlkZVllYXIoKTtcclxuICAgICAgICBfaW5pdFBob25lQ29kZSgpO1xyXG4gICAgICAgIF9pbml0TW9iaWxlKCk7XHJcbiAgICAgICAgX2luaXRBZGRFdmVudExpc3RlbmVyKCk7XHJcbiAgICAgICAgX2luaXRJbnB1dENvdW50ZXIoKTtcclxuICAgICAgICBfaW5pdElucHV0Q291bnRlckNvbnRyb2woKTtcclxuICAgICAgICBfaW5pdFNlbGVjdENvbG9yKCk7XHJcbiAgICAgICAgX2luaXRTZWxlY3RTdGF0dXMoKTtcclxuXHJcbiAgICAgICAgaWYgKE5PREVfRU5WID09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLSBJTklUIENPUkUgU0VMRUNUJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbml0QmFzZSgpIHtcclxuICAgICAgICBsZXQgJHNlbGVjdCA9ICQoJy5qcy1zZWxlY3QnKTtcclxuXHJcbiAgICAgICAgJHNlbGVjdC5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgJHBhcmVudCA9ICQodGhpcykuY2xvc2VzdCgnLmJiLWlucHV0LS1zZWxlY3QnKTtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ3J1JyxcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duUGFyZW50OiAkcGFyZW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdFNlcnZpY2VzKCkge1xyXG4gICAgICAgIGxldCAkc2VsZWN0U2VydmljZXMgPSAkKCcuanMtc2VsZWN0LS1zZXJ2aWNlcycpO1xyXG5cclxuICAgICAgICAkc2VsZWN0U2VydmljZXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5iYi1pbnB1dC0tc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgICQodGhpcykuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ3J1JyxcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duUGFyZW50OiAkcGFyZW50LFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVTZWxlY3Rpb246IHRpbWVBbmRQcmljZSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0OiB0aW1lQW5kUHJpY2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1NlbGVjdCBBZGQgUHJpY2UgVGltZSAmIFByaWNlXHJcbiAgICAgICAgZnVuY3Rpb24gdGltZUFuZFByaWNlKG9wdCkge1xyXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxUaW1lID0gJChvcHQuZWxlbWVudCkuZGF0YSgndGltZScpO1xyXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxQcmljZSA9ICQob3B0LmVsZW1lbnQpLmRhdGEoJ3ByaWNlJyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJChcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPWN1c3RvbS1zZWxlY3RfX3Jlc3VsdHM+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdC50ZXh0ICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8c3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRpbWUgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJpY2UgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXROYXRpdmUoKSB7XHJcbiAgICAgICAgdmFyICRzZWxlY3ROYXRpdmUgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtc2VsZWN0LW5hdGl2ZScpO1xyXG4gICAgICAgIGlmICgkc2VsZWN0TmF0aXZlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcclxuICAgICAgICAgICAgICAgICRzZWxlY3ROYXRpdmUuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdDItaGlkZGVuLWFjY2Vzc2libGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgJHBhcmVudCA9ICQodGhpcykuY2xvc2VzdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuYmItaW5wdXQtLXNlbGVjdCwgLnByb2ZpbGUtZWRpdG9yX19zZWxlY3QnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ3J1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiAtMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duUGFyZW50OiAkcGFyZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzZWxlY3ROYXRpdmUuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2VsZWN0Mi1oaWRkZW4tYWNjZXNzaWJsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuc2VsZWN0MignZGVzdHJveScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IF90aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgJHBhcmVudCA9IF90aGlzLmNsb3Nlc3QoJy5iYi1pbnB1dCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgJHRpdGxlID0gJHBhcmVudC5maW5kKCcuYmItaW5wdXRfX3RpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRpdGxlVGV4dCA9ICR0aXRsZS50ZXh0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlciA9IF90aGlzLmRhdGEoJ3BsYWNlaG9sZGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0ICRmaXJzdE9wdGlvbiA9IF90aGlzLmZpbmQoJ29wdGlvbjpmaXJzdC1jaGlsZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCAkbmV3T3B0aW9uID0gJCgnPG9wdGlvbj4nKS5hdHRyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICdkaXNhYmxlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAnc2VsZWN0ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gJHBhcmVudC5kYXRhKCd0eXBlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZVRleHQgIT09ICcnIHx8IHRpdGxlVGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRpdGxlVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciAhPT0gJycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBwbGFjZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHBhcmVudC5oYXNDbGFzcygnYmItaW5wdXQtLXRyYW5zZm9ybScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZmlyc3RPcHRpb24uaXMoJzplbXB0eScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmaXJzdE9wdGlvbi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdpcy1mb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZmlyc3RPcHRpb24ucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUF0dHIoJ2RhdGEtcGxhY2Vob2xkZXInKS52YWwodGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRSZXNldEJ0bihfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZpcnN0T3B0aW9uIG5vdCBlbXB0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzZWxlY3RlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdpcy1mb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbmV3T3B0aW9uLnByZXBlbmRUbyhfdGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRSZXNldEJ0bihfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGZpcnN0T3B0aW9uLmlzKCc6ZW1wdHknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpcnN0T3B0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbChwbGFjZWhvbGRlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChwbGFjZWhvbGRlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAnc2VsZWN0ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogJ2Rpc2FibGVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdoYXMtcGxhY2Vob2xkZXInKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXBsYWNlaG9sZGVyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudmFsKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFJlc2V0QnRuKF90aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnaGFzLXBsYWNlaG9sZGVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2hhcy1wbGFjZWhvbGRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgJGZpcnN0T3B0aW9uID0gX3RoaXMuZmluZCgnb3B0aW9uOmZpcnN0LWNoaWxkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcygnaXMtZm9jdXMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGZpcnN0T3B0aW9uLmlzKCc6ZW1wdHknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmaXJzdE9wdGlvbi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2lzLWZvY3VzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS53cmFwKCc8bGFiZWwgY2xhc3M9XCJiYi1zZWxlY3RcIj4nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbml0TXVsdGlwbGUoKSB7XHJcbiAgICAgICAgdmFyICRzZWxlY3RNdWx0aXBsZSA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1zZWxlY3QtLW11bHRpcGxlJyk7XHJcblxyXG4gICAgICAgIGlmICgkc2VsZWN0TXVsdGlwbGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDQ4MCkge1xyXG4gICAgICAgICAgICAgICAgJHNlbGVjdE11bHRpcGxlLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IF90aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgJHBhcmVudCA9IF90aGlzLmNsb3Nlc3QoJy5iYi1pbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogJ3J1JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duUGFyZW50OiAkcGFyZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0TXVsdGlwbGUuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgX3RoaXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgJHBhcmVudCA9IF90aGlzLmNsb3Nlc3QoJy5iYi1pbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCAkc2VsZWN0MklucHV0ID0gJHBhcmVudC5maW5kKCdpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlciA9ICRzZWxlY3QySW5wdXQuYXR0cigncGxhY2Vob2xkZXInKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGlsZHJlbigpLmFkZENsYXNzKCduZWVkc2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAncnUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25QYXJlbnQ6ICRwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdiYi1pbnB1dC0tdHJhbnNmb3JtJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdDJJbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicsICcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vINC+0YLQutCw0YIg0YLQsNC50YLQu9CwXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ3NlbGVjdDI6b3BlbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2hhcy1wbGFjZWhvbGRlcicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaGFzLXBsYWNlaG9sZGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNlbGVjdDItc2VhcmNoX19maWVsZCcpLmF0dHIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZWFkb25seScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2lzLWZvY3VzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdDJJbnB1dC5hdHRyKCdwbGFjZWhvbGRlcicsIHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaXMtZm9jdXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdzZWxlY3QyOmNsb3NlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2lzLWZvY3VzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdDJJbnB1dC5yZW1vdmVBdHRyKCdwbGFjZWhvbGRlcicpLmJsdXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcygnaXMtZm9jdXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdEFkZEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2ZvY3VzJywgJy5zZWxlY3QyLXNlYXJjaF9fZmllbGQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCAkaWNvbiA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1pY29uLXRvZ2dsZScpO1xyXG4gICAgICAgICRpY29uLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBfdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGxldCAkc2VsZWN0ID0gX3RoaXMuZmluZCgnLmpzLXNlbGVjdC1uYXRpdmUnKTtcclxuICAgICAgICAgICAgbGV0ICRvcHRpb25TZWxlY3RlZCA9IF90aGlzXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmpzLXNlbGVjdC1uYXRpdmUgOnNlbGVjdGVkJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKCdpY29uJyk7XHJcbiAgICAgICAgICAgIGxldCAkaWNvbiA9IF90aGlzLmZpbmQoJy5pY29uJyk7XHJcbiAgICAgICAgICAgICRpY29uLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgJGRhdGFJbkljb24gPSAkKHRoaXMpLmRhdGEoJ2ljb24nKTtcclxuICAgICAgICAgICAgICAgIGlmICgkZGF0YUluSWNvbiAhPSAkb3B0aW9uU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkc2VsZWN0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCAkc2VsZWN0Q2hhbmdlID0gX3RoaXNcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmpzLXNlbGVjdC1uYXRpdmUgOnNlbGVjdGVkJylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YSgnaWNvbicpO1xyXG4gICAgICAgICAgICAgICAgJGljb24uZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgJGRhdGFJbkljb24gPSAkKHRoaXMpLmRhdGEoJ2ljb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGRhdGFJbkljb24gIT0gJHNlbGVjdENoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRJY29uKCkge1xyXG4gICAgICAgIGxldCAkaWNvblNlbGVjdCA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1zZWxlY3QtLWljb24nKTtcclxuXHJcbiAgICAgICAgJGljb25TZWxlY3QuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5iYi1pbnB1dC0tc2VsZWN0Jyk7XHJcblxyXG4gICAgICAgICAgICAkKHRoaXMpLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdydScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVNlbGVjdGlvbjogaWZvcm1hdCxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0OiBpZm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25QYXJlbnQ6ICRwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogLTEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0ljb24gZm9udGF3ZXNvbWUgaW5zaWRlIHNlbGVjdFxyXG4gICAgICAgIGZ1bmN0aW9uIGlmb3JtYXQoaWNvbikge1xyXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxPcHRpb24gPSBpY29uLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHJldHVybiAkKFxyXG4gICAgICAgICAgICAgICAgJzxzcGFuPjxpIGNsYXNzPVwic2VsZWN0Ml9faWNvbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJChvcmlnaW5hbE9wdGlvbikuZGF0YSgnaWNvbicpICtcclxuICAgICAgICAgICAgICAgICAgICAnXCI+PC9pPiAnICtcclxuICAgICAgICAgICAgICAgICAgICBpY29uLnRleHQgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8L3NwYW4+J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdENvbG9yKCkge1xyXG4gICAgICAgIGxldCAkY29sb3JTZWxlY3QgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtc2VsZWN0LS1jb2xvcicpO1xyXG4gICAgICAgIGlmICgkY29sb3JTZWxlY3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICRjb2xvclNlbGVjdC5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JDdXN0b20odGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29sb3JOYXRpdmUoZWxlbSkge1xyXG4gICAgICAgICAgICBsZXQgX3RoaXMgPSAkKGVsZW0pO1xyXG4gICAgICAgICAgICBsZXQgJHBhcmVudCA9IF90aGlzLmNsb3Nlc3QoJy5iYi1pbnB1dCcpO1xyXG5cclxuICAgICAgICAgICAgbGV0ICR0aXRsZSA9ICRwYXJlbnQuZmluZCgnLmJiLWlucHV0X190aXRsZScpO1xyXG4gICAgICAgICAgICBsZXQgdGl0bGVUZXh0ID0gJHRpdGxlLnRleHQoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwbGFjZWhvbGRlciA9IF90aGlzLmRhdGEoJ3BsYWNlaG9sZGVyJyk7XHJcbiAgICAgICAgICAgIGxldCAkZmlyc3RPcHRpb24gPSBfdGhpcy5maW5kKCdvcHRpb246Zmlyc3QtY2hpbGQnKTtcclxuICAgICAgICAgICAgbGV0ICRuZXdPcHRpb24gPSAkKCc8b3B0aW9uPicpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICdkaXNhYmxlZCcsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogJ3NlbGVjdGVkJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxldCB0eXBlID0gJHBhcmVudC5kYXRhKCd0eXBlJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGV4dDtcclxuICAgICAgICAgICAgaWYgKHRpdGxlVGV4dCAhPT0gJycgfHwgdHlwZW9mIHRpdGxlVGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0aXRsZVRleHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciAhPT0gJycgfHxcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBwbGFjZWhvbGRlciAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gcGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdiYi1pbnB1dC0tdHJhbnNmb3JtJykpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkZmlyc3RPcHRpb24uaXMoJzplbXB0eScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzZWxlY3RlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGZpcnN0T3B0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdpcy1mb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaXJzdE9wdGlvbi5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUF0dHIoJ2RhdGEtcGxhY2Vob2xkZXInKS52YWwodGV4dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkUmVzZXRCdG4oX3RoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2ZpcnN0T3B0aW9uIG5vdCBlbXB0eVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdpcy1mb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRuZXdPcHRpb24ucHJlcGVuZFRvKF90aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRSZXNldEJ0bihfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRmaXJzdE9wdGlvbi5pcygnOmVtcHR5JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZmlyc3RPcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLnZhbChwbGFjZWhvbGRlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQocGxhY2Vob2xkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAnc2VsZWN0ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICdkaXNhYmxlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaGFzLXBsYWNlaG9sZGVyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2RhdGEtcGxhY2Vob2xkZXInKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudmFsKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJChlbGVtKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJChlbGVtKS5oYXNDbGFzcygnaGFzLXBsYWNlaG9sZGVyJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGVsZW0pLnJlbW92ZUNsYXNzKCdoYXMtcGxhY2Vob2xkZXInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgJGZpcnN0T3B0aW9uID0gX3RoaXMuZmluZCgnb3B0aW9uOmZpcnN0LWNoaWxkJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJChlbGVtKS52YWwoKSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdpcy1mb2N1cycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGZpcnN0T3B0aW9uLmlzKCc6ZW1wdHknKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmlyc3RPcHRpb24ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpcy1mb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoZWxlbSkud3JhcCgnPGxhYmVsIGNsYXNzPVwiYmItc2VsZWN0XCI+Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb2xvckN1c3RvbShlbGVtKSB7XHJcbiAgICAgICAgICAgIGxldCAkcGFyZW50ID0gJChlbGVtKS5jbG9zZXN0KCcuc2VsZWN0LWNvbG9yJyk7XHJcbiAgICAgICAgICAgIGlmICgkKGVsZW0pLmhhc0NsYXNzKCdzZWFyY2gtZW5hYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAkKGVsZW0pLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAncnUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlU2VsZWN0aW9uOiBpQmFsbCxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVJlc3VsdDogaUJhbGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25QYXJlbnQ6ICRwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoZWxlbSkuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdydScsXHJcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlU2VsZWN0aW9uOiBpQmFsbCxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVJlc3VsdDogaUJhbGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25QYXJlbnQ6ICRwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaUJhbGwoY29sb3IpIHtcclxuICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkKGNvbG9yLmVsZW1lbnQpLmNsb3Nlc3QoJy5zZWxlY3QtY29sb3InKTtcclxuICAgICAgICAgICAgbGV0ICRvcmlnaW5hbE9wdGlvbiA9IGNvbG9yLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBjb2xvckJhbGwgPSAkKCRvcmlnaW5hbE9wdGlvbikuZGF0YSgnY29sb3InKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29sb3JCYWxsICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sb3IudGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdzZWxlY3QtY29sb3ItLXBhbGV0dGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPXNlbGVjdC1jb2xvcl9faXRlbT4gPHNwYW4gY2xhc3M9XCJzZWxlY3QtY29sb3JfX21hcmtlclwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvckJhbGx9XCI+PC9zcGFuPjxwPiAke2NvbG9yLnRleHR9IDwvcD48L2Rpdj5gXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcygnc2VsZWN0LWNvbG9yLS1wYWxldHRlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz1zZWxlY3QtY29sb3JfX2l0ZW0+IDxzcGFuIGNsYXNzPVwic2VsZWN0LWNvbG9yX19iYWxsXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9yQmFsbH0gXCI+IDwvc3Bhbj4gPC9kaXY+YFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJChgPGRpdiBjbGFzcz1zZWxlY3QtY29sb3JfX2l0ZW0+ICR7Y29sb3IudGV4dH0gPC9kaXY+YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRCb3JuKCkge1xyXG4gICAgICAgIGxldCAkYm9yblNlbGVjdCA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1zZWxlY3QtYm9ybicpO1xyXG5cclxuICAgICAgICBpZiAoJGJvcm5TZWxlY3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDQ4MCkge1xyXG4gICAgICAgICAgICAgICAgJGJvcm5TZWxlY3QuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdDItaGlkZGVuLWFjY2Vzc2libGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdydScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaDogLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRib3JuU2VsZWN0LmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdDItaGlkZGVuLWFjY2Vzc2libGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNlbGVjdDIoJ2Rlc3Ryb3knKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5iYi1pbnB1dC0tYm9ybicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCAkc2VsZWN0ID0gJCh0aGlzKS5jbG9zZXN0KCcuYmItaW5wdXQtYm9ybl9fc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYWNlaG9sZGVyID0gJCh0aGlzKS5kYXRhKCdwbGFjZWhvbGRlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCAkZmlyc3RPcHRpb24gPSAkKHRoaXMpLmZpbmQoJ29wdGlvbjpmaXJzdC1jaGlsZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHBhcmVudC5oYXNDbGFzcygnYmItaW5wdXQtLXRyYW5zZm9ybScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmJiLWlucHV0X190aXRsZScpLmRldGFjaCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5iYi1pbnB1dC1ib3JuJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnYmItaW5wdXQtYm9ybi0tdHJhbnNmb3JtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkZmlyc3RPcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQocGxhY2Vob2xkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC52YWwocGxhY2Vob2xkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUF0dHIoJ2RhdGEtcGxhY2Vob2xkZXInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS53cmFwKCc8bGFiZWwgY2xhc3M9XCJiYi1zZWxlY3RcIj4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbGVjdC5hZGRDbGFzcygnaXMtZm9jdXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3QucmVtb3ZlQ2xhc3MoJ2lzLWZvY3VzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gY2hlY2tGb2N1cygpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKCQodGhpcykudmFsKCkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAkc2VsZWN0LmFkZENsYXNzKCdpcy1mb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgJHNlbGVjdC5yZW1vdmVDbGFzcygnaXMtZm9jdXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVja0ZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9hZGRSZXNldEJ0bigkKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbml0U2hvd1llYXIoKSB7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1zZXQteWVhcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLnByZXYoKVxyXG4gICAgICAgICAgICAgICAgLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdEhpZGVZZWFyKCkge1xyXG4gICAgICAgIGxldCAkeWVhclNlbGVjdCA9ICQoJy5qcy1zZWxlY3QtYm9ybi0tY2xlYXInKTtcclxuXHJcbiAgICAgICAgJHllYXJTZWxlY3RcclxuICAgICAgICAgICAgLm9uKCdzZWxlY3QyOnVuc2VsZWN0aW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm9uKCdzZWxlY3QyOm9wZW5pbmcnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignc2VsZWN0Mjp1bnNlbGVjdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5vZmYoJ3NlbGVjdDI6b3BlbmluZycpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnZhbCgpID09ICcnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWJvcm4nKSA9PT0gJ3llYXInXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuanMtc2V0LXllYXInKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmpzLXNldC15ZWFyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnByZXYoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfYWRkUmVzZXRCdG4oZWwpIHtcclxuICAgICAgICBsZXQgcmVuZGVySWNvbiA9IHRydWU7XHJcbiAgICAgICAgbGV0ICRzZWxlY3QgPSBlbDtcclxuICAgICAgICBsZXQgJHBhcmVudCA9ICRzZWxlY3QuY2xvc2VzdCgnLmJiLWlucHV0Jyk7XHJcbiAgICAgICAgbGV0IHJlc2V0QnRuID0gYDxidXR0b24gY2xhc3M9XCJiYi1zZWxlY3RfX3Jlc2V0IGpzLXNlbGVjdC0tcmVzZXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD1cIjAgMCA0Ny45NzEgNDcuOTcxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yOC4yMjgsMjMuOTg2TDQ3LjA5Miw1LjEyMmMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyYy0xLjE3Mi0xLjE3Mi0zLjA3LTEuMTcyLTQuMjQyLDBMMjMuOTg2LDE5Ljc0NEw1LjEyMSwwLjg4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMtMS4xNzItMS4xNzItMy4wNy0xLjE3Mi00LjI0MiwwYy0xLjE3MiwxLjE3MS0xLjE3MiwzLjA3MSwwLDQuMjQybDE4Ljg2NSwxOC44NjRMMC44NzksNDIuODVjLTEuMTcyLDEuMTcxLTEuMTcyLDMuMDcxLDAsNC4yNDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQzEuNDY1LDQ3LjY3NywyLjIzMyw0Ny45NywzLDQ3Ljk3czEuNTM1LTAuMjkzLDIuMTIxLTAuODc5bDE4Ljg2NS0xOC44NjRMNDIuODUsNDcuMDkxYzAuNTg2LDAuNTg2LDEuMzU0LDAuODc5LDIuMTIxLDAuODc5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMxLjUzNS0wLjI5MywyLjEyMS0wLjg3OWMxLjE3Mi0xLjE3MSwxLjE3Mi0zLjA3MSwwLTQuMjQyTDI4LjIyOCwyMy45ODZ6XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5gO1xyXG5cclxuICAgICAgICBsZXQgJG5ld09wdGlvbiA9ICQoJzxvcHRpb24+JykuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc2FibGVkOiAnZGlzYWJsZWQnLFxyXG4gICAgICAgICAgICBzZWxlY3RlZDogJ3NlbGVjdGVkJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHNlbGVjdC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoJy5iYi1zZWxlY3QsIC5iYi1pbnB1dC1ib3JuX19zZWxlY3QnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZW5kZXJJY29uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLnNlbGVjdDItc2VsZWN0aW9uX19jbGVhcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHJlc2V0QnRuKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5hcHBlbmQocmVzZXRCdG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVuZGVySWNvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtc2VsZWN0LS1yZXNldCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgbGV0ICRwYXJlbnQsICRzZWxlY3Q7XHJcblxyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5zaWJsaW5ncygnLmpzLXNlbGVjdC1ib3JuJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0ID0gJCh0aGlzKS5zaWJsaW5ncygnLmpzLXNlbGVjdC1ib3JuJyk7XHJcbiAgICAgICAgICAgICAgICAkcGFyZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcuYmItaW5wdXQtYm9ybl9fc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0ID0gJCh0aGlzKS5zaWJsaW5ncygnLmpzLXNlbGVjdC1uYXRpdmUnKTtcclxuICAgICAgICAgICAgICAgICRwYXJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5iYi1pbnB1dCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdiYi1pbnB1dC0tdHJhbnNmb3JtJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbmV3T3B0aW9uLnByZXBlbmRUbygkc2VsZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNlbGVjdC52YWwoJHBhcmVudC5maW5kKCdvcHRpb246Zmlyc3QtY2hpbGQnKS52YWwoKSkuYmx1cigpO1xyXG5cclxuICAgICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaXMtZm9jdXMnKTtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJHBhcmVudC5oYXNDbGFzcygnYmItaW5wdXQtYm9ybl9fc2VsZWN0LS15ZWFyJykpIHtcclxuICAgICAgICAgICAgICAgICRwYXJlbnQubmV4dCgnLmJiLWlucHV0LWJvcm5fX2J0bicpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICRwYXJlbnQuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZW5kZXJJY29uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdFBob25lQ29kZSgpIHtcclxuICAgICAgICAvL0NoYW5nZSBzZWxlY3QgcmVzdWx0cyB0byBvcHRpb24gdmFsdWVcclxuICAgICAgICBmdW5jdGlvbiBzZWxlY3RDb2RlU2VsZWN0aW9uKG9wdCkge1xyXG4gICAgICAgICAgICB2YXIgb3B0VmFsID0gJChvcHQuZWxlbWVudCkudmFsKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJChcclxuICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1jdXN0b20tc2VsZWN0X19yZXN1bHRzPicgKyBvcHRWYWwgKyAnPC9zcGFuPidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQWRkIGNpdHkgbmFtZSB0byBvcHRpb25cclxuICAgICAgICBmdW5jdGlvbiBzZWxlY3RDb2RlUmVzdWx0KG9wdCkge1xyXG4gICAgICAgICAgICB2YXIgY291bnRyeSA9ICQob3B0LmVsZW1lbnQpLmRhdGEoJ2NvdW50cnknKSxcclxuICAgICAgICAgICAgICAgIG9wdFZhbCA9ICQob3B0LmVsZW1lbnQpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICQoXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1jdXN0b20tc2VsZWN0X19yZXN1bHRzPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8c3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudHJ5ICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8c3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICBvcHRWYWwgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCAkcGhvbmVDb2RlQm94ID0gJChkb2N1bWVudCkuZmluZCgnLmpzLWlucHV0LXBob25lLWNvZGUnKTtcclxuXHJcbiAgICAgICAgaWYgKCRwaG9uZUNvZGVCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICRwaG9uZUNvZGVCb3guZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCAkc2VsZWN0ID0gJCh0aGlzKS5maW5kKCcuc2VsZWN0LXZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgJGlucHV0ID0gJCh0aGlzKS5maW5kKCcuYmItaW5wdXRfX2lucHV0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdydScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVJlc3VsdDogc2VsZWN0Q29kZVJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlU2VsZWN0aW9uOiBzZWxlY3RDb2RlU2VsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25QYXJlbnQ6ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignc2VsZWN0MjpzZWxlY3QnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnaW5wdXQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2JiLXNlbGVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJiYi1pbnB1dC0tc2VsZWN0LXZhbHVlXCI+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvcHRpb25TZWxlY3QgPSAkcGFyZW50LmZpbmQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3RWYWx1ZSA9ICRwYXJlbnQuZmluZCgnLmJiLWlucHV0LS1zZWxlY3QtdmFsdWUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VmFsdWUudGV4dChvcHRpb25TZWxlY3QuZXEoMCkudmFsKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ZXIgPSAkKHRoaXMpWzBdLnNlbGVjdGVkSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFZhbHVlLnRleHQob3B0aW9uU2VsZWN0LmVxKGNvdW50ZXIpLnZhbCgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnaW5wdXQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgSW5wdXRtYXNrKCc5OTktOTktOTknKS5tYXNrKCRpbnB1dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGlucHV0Lm9uKCdmb2N1cycsIGFkZEZvY3VzKS5vbignYmx1cicsIHJlbW92ZUZvY3VzKTtcclxuICAgICAgICAgICAgICAgICRzZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAub24oJ3NlbGVjdDI6b3BlbicsIGFkZEZvY3VzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbignc2VsZWN0MjpjbG9zZScsIHJlbW92ZUZvY3VzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRGb2N1cygpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuanMtaW5wdXQtcGhvbmUtY29kZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtZm9jdXMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVGb2N1cygpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLWlucHV0LXBob25lLWNvZGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdpcy1mb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbml0TW9iaWxlKCkge1xyXG4gICAgICAgIGxldCAkc2VsZWN0ID0gJChkb2N1bWVudCkuZmluZCgnLmpzLW1vdmUtc2VsZWN0Jyk7XHJcblxyXG4gICAgICAgICRzZWxlY3QuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0ICRpbnB1dFNlYXJjaCA9ICQodGhpcykuZmluZCgnLm1vdmUtc2VsZWN0X19maWVsZCcpO1xyXG4gICAgICAgICAgICBsZXQgJHJlc3VsdEl0ZW0gPSAkKHRoaXMpLmZpbmQoJy5tb3ZlLXNlbGVjdF9fcmVzdWx0Jyk7XHJcbiAgICAgICAgICAgIGxldCAkaXRlbSA9ICQodGhpcykuZmluZCgnLm1vdmUtc2VsZWN0X19yZXN1bHQnKTtcclxuICAgICAgICAgICAgbGV0ICRidG5DbG9zZSA9ICQodGhpcykuZmluZCgnLmpzLW1vdmUtc2VsZWN0LS1jbG9zZScpO1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJGlucHV0U2VhcmNoLmJsdXIoKTtcclxuICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDAsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkaXRlbS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgJG5hbWUgPSAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy51c2VyX19uYW1lJylcclxuICAgICAgICAgICAgICAgICAgICAudGV4dCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgJHNlcnZpY2UgPSAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5pdGVtLWluZm9fX3RpdGxlIHNwYW4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KClcclxuICAgICAgICAgICAgICAgICAgICAudHJpbSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcgJylcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignICsgJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGlucHV0U2VhcmNoLnZhbCgkbmFtZSB8fCAkc2VydmljZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuanMtbW92ZS1zZWxlY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmJiLWlucHV0LS10cmFuc2Zvcm0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtZm9jdXMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICRidG5DbG9zZS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLW1vdmUtc2VsZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJGlucHV0U2VhcmNoLmJsdXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLm1vdmUtc2VsZWN0X19yZXN1bHQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRyZXN1bHRJdGVtLnJlbW92ZUNsYXNzKCdpcy1zZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRJbnB1dENvdW50ZXIoKSB7XHJcbiAgICAgICAgbGV0IGlucHV0Q3VzdG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWJiLWlucHV0LWN1c3RvbScpO1xyXG4gICAgICAgIGxldCBoZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcbiAgICAgICAgbGV0IGNlbnRlckhlaWdodCA9IGhlaWdodCAvIDI7XHJcbiAgICAgICAgbGV0IGRlZmF1bHRQb3NpdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0Q3VzdG9tLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Q3VzdG9tLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IGlucHV0Q3VzdG9tW2ldLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX3ZhbHVlJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbnB1dEN1c3RvbVtpXS5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgaW5wdXRWYWx1ZS5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsb3Nlc3QoJy5iYi1pbnB1dC1jdXN0b20nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzTGlzdC5jb250YWlucygnaXMtb3BlbicpXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5wdXRDdXN0b20ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Q3VzdG9tW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDdXN0b21baV0uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSAkKGRvY3VtZW50KS5maW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX2xpc3Q6dmlzaWJsZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3RQb3NpdGlvbiA9IGxpc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UG9zaXRpb24gPSBsaXN0UG9zaXRpb24udG9wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JiLWlucHV0LWN1c3RvbV9fbGlzdC0tZnVsbC1ib3JkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiYi1pbnB1dC1jdXN0b21fX2xpc3QtLWZ1bGwtYm9yZGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZCgnYmItaW5wdXQtY3VzdG9tX19saXN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQobGlzdCkuY3NzKCd0b3AnLCAnMTAwJScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3RIZWlnaHQgPSAkKGxpc3QpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdE91dGVySGVpZ2h0ID0gJChsaXN0KS5vdXRlckhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RQb3NpdGlvbi50b3AgPiBjZW50ZXJIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobGlzdCkuYWRkQ2xhc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JiLWlucHV0LWN1c3RvbV9fbGlzdC0tZnVsbC1ib3JkZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobGlzdCkub2Zmc2V0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykub2Zmc2V0KCkudG9wIC1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEhlaWdodCAtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsaXN0T3V0ZXJIZWlnaHQgLSBsaXN0SGVpZ2h0KSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGxpc3QpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCQobGlzdCkuY2hpbGRyZW4oJ2xpJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSAkKGRvY3VtZW50KS5maW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX2xpc3Q6dmlzaWJsZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UG9zaXRpb24gPiBjZW50ZXJIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobGlzdCkub2Zmc2V0KHsgdG9wOiAnMTAwJScgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGxpc3QpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCQobGlzdCkuY2hpbGRyZW4oJ2xpJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEN1c3RvbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYmItaW5wdXQtY3VzdG9tJykubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICF0YXJnZXQuY2xvc2VzdCgnLmJiLWlucHV0LWN1c3RvbV9fdmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9ICQodGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmJiLWlucHV0LWN1c3RvbV9fbGlzdDp2aXNpYmxlJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UG9zaXRpb24gPiBjZW50ZXJIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobGlzdCkuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJChsaXN0KS5jaGlsZHJlbignbGknKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dEN1c3RvbS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRDdXN0b21baV0uY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdElucHV0Q291bnRlckNvbnRyb2woKSB7XHJcbiAgICAgICAgbGV0IGlucHV0Q3VzdG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWJiLWlucHV0LWN1c3RvbScpO1xyXG5cclxuICAgICAgICBpZiAoaW5wdXRDdXN0b20ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRDdXN0b20ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBtaW51cyA9IGlucHV0Q3VzdG9tW2ldLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX21pbnVzJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbHVzID0gaW5wdXRDdXN0b21baV0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgICAgICAgICAgICAnLmJiLWlucHV0LWN1c3RvbV9fcGx1cydcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBpbnB1dEN1c3RvbVtpXS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICcuYmItaW5wdXQtY3VzdG9tX19pbnB1dCdcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGlucHV0Q3VzdG9tW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX2l0ZW0nXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvZmZlciA9IGl0ZW1baV0ucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX29mZmVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1baV0ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBvZmZlci5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtaW51cyAhPSBudWxsICYmIHBsdXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbnVzLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsb3Nlc3QoJy5iYi1pbnB1dC1jdXN0b20nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZSA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdXMub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmJiLWlucHV0LWN1c3RvbScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSsrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRTZWxlY3RDb2xvcigpIHtcclxuICAgICAgICBsZXQgaW5wdXRDdXN0b20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYmItaW5wdXQtY3VzdG9tJyk7XHJcbiAgICAgICAgaWYgKGlucHV0Q3VzdG9tLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Q3VzdG9tLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dEN1c3RvbVtpXS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICcuYmItaW5wdXQtY3VzdG9tX19jb2xvcidcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBpbnB1dEN1c3RvbVtpXS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICcuYmItaW5wdXQtY3VzdG9tX190aXRsZSdcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdGl0bGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gaW5wdXRDdXN0b21baV0ucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX2l0ZW0nXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gaXRlbVtpXS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX2NvbG9yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGVQaWNrID0gaXRlbVtpXS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5iYi1pbnB1dC1jdXN0b21fX3RpdGxlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBjb2xvci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3ItaW5wdXQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1baV0ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUuaW5uZXJIVE1MID0gdGl0bGVQaWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRTZWxlY3RTdGF0dXMoKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1zZWxlY3Qtc3RhdHVzJyk7XHJcbiAgICAgICAgaWYgKHNlbGVjdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gc2VsZWN0W2ldO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJiU2VsZWN0TGFibGUgPSBpdGVtLmNsb3Nlc3QoJy5iYi1zZWxlY3QnKTtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRhT2xkU3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdEluZGV4ID0gaXRlbS5zZWxlY3RlZEluZGV4O1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdE9wdGlvbiA9IGl0ZW0ub3B0aW9uc1tzZWxlY3RJbmRleF07XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YVN0YXR1cyA9IHNlbGVjdE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJyk7XHJcbiAgICAgICAgICAgICAgICBiYlNlbGVjdExhYmxlLmNsYXNzTGlzdC5hZGQoZGF0YVN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2xkU3RhdHVzID0gZGF0YVN0YXR1cztcclxuXHJcbiAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0SW5kZXggPSBpdGVtLnNlbGVjdGVkSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdE9wdGlvbiA9IGl0ZW0ub3B0aW9uc1tzZWxlY3RJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFTdGF0dXMgPSBzZWxlY3RPcHRpb24uZ2V0QXR0cmlidXRlKCdkYXRhLXN0YXR1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJiU2VsZWN0TGFibGUuY2xhc3NMaXN0LnJlbW92ZShkYXRhT2xkU3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICBiYlNlbGVjdExhYmxlLmNsYXNzTGlzdC5hZGQoZGF0YVN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YU9sZFN0YXR1cyA9IGRhdGFTdGF0dXM7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXQ6IF9pbml0LFxyXG4gICAgICAgIGluaXRCYXNlOiBfaW5pdEJhc2UsXHJcbiAgICAgICAgaW5pdFNlcnZpY2VzOiBfaW5pdFNlcnZpY2VzLFxyXG4gICAgICAgIGluaXROYXRpdmU6IF9pbml0TmF0aXZlLFxyXG4gICAgICAgIGluaXRNdWx0aXBsZTogX2luaXRNdWx0aXBsZSxcclxuICAgICAgICBpbml0Q29sb3I6IF9pbml0Q29sb3IsXHJcbiAgICAgICAgaW5pdEljb246IF9pbml0SWNvbixcclxuICAgICAgICBpbml0Qm9ybjogX2luaXRCb3JuLFxyXG4gICAgICAgIGluaXRTaG93WWVhcjogX2luaXRTaG93WWVhcixcclxuICAgICAgICBpbml0SGlkZVllYXI6IF9pbml0SGlkZVllYXIsXHJcbiAgICAgICAgaW5pdFBob25lQ29kZTogX2luaXRQaG9uZUNvZGUsXHJcbiAgICAgICAgaW5pdE1vYmlsZTogX2luaXRNb2JpbGUsXHJcbiAgICAgICAgaW5pdEFkZEV2ZW50TGlzdGVuZXI6IF9pbml0QWRkRXZlbnRMaXN0ZW5lcixcclxuICAgICAgICBpbml0SW5wdXRDb3VudGVyOiBfaW5pdElucHV0Q291bnRlcixcclxuICAgICAgICBpbml0SW5wdXRDdXN0b21Db250cm9sOiBfaW5pdElucHV0Q291bnRlckNvbnRyb2wsXHJcbiAgICAgICAgaW5pdFNlbGVjdENvbG9yOiBfaW5pdFNlbGVjdENvbG9yLFxyXG4gICAgfTtcclxufSkoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUZBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFGQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQURBO0FBQ0E7QUFNQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5R0E7QUFDQTtBQUFBO0FBQUE7QUE4R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQVpBO0FBZ0JBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEJBO0FBQ0E7QUFjQTtBQUFBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkRBO0FBQ0E7QUFBQTtBQUFBO0FBdURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQkE7QUFDQTtBQUdBO0FBQUE7QUFhQTtBQUNBO0FBM0JBO0FBQ0E7QUFBQTtBQUFBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBQ0E7QUFBQTtBQUFBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQWtCQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///REoC5YDm\n");

/***/ }),

/***/ "Ufu4dwzv":
/*!**********************************!*\
  !*** ./core/components/Popup.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var bootstrap_js_dist_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bootstrap/js/dist/util */ \"/vdTBLfO\");\n/* harmony import */ var bootstrap_js_dist_util__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_dist_util__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bootstrap_js_dist_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bootstrap/js/dist/modal */ \"AZ1MUSbx\");\n/* harmony import */ var bootstrap_js_dist_modal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bootstrap_js_dist_modal__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _fancyapps_fancybox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fancyapps/fancybox */ \"fo+rJtpG\");\n/* harmony import */ var _fancyapps_fancybox__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_fancyapps_fancybox__WEBPACK_IMPORTED_MODULE_2__);\n/**\r\n * BB.Components.Popup.js\r\n *\r\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\r\n *\r\n * Modal FancyBox 3 use for image preview https://fancyapps.com/fancybox/3/\r\n * For the rest bootstrap modal https://getbootstrap.com/docs/4.0/components/modal/\r\n */\n\nBB.define('Core.Popup');\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Core.Popup = function () {\n    function _init() {\n        _initFancyBox();\n        _whoIs();\n        _changeFormTitle();\n        // _reinit();\n\n        if (true) {\n            console.log('--- INIT CORE POPUP');\n        }\n    }\n\n    //Modal FancyBox 3 https://fancyapps.com/fancybox/3/\n    function _initFancyBox() {\n        var $fancyImagePopup = $(document).find('[data-fancybox=\"images\"]');\n        if ($fancyImagePopup.length) {\n            $fancyImagePopup.fancybox({\n                baseClass: 'fancybox-container--image',\n                toolbar: true,\n                smallBtn: true,\n                closeClickOutside: true,\n                mobile: {\n                    clickContent: 'close',\n                    clickSlide: 'close'\n                }\n            });\n        }\n    }\n\n    //Form Who Is?\n    function _whoIs() {\n        $('.js-whois').on('click', function () {\n            var whois = $(this).data('whois');\n            var form = $('#auth-form').find('.form');\n            if (whois === 'master') {\n                form.addClass('is-master');\n            } else if (whois === 'studio') {\n                form.addClass('is-studio');\n            } else {\n                form.addClass('is-client');\n            }\n        });\n    }\n\n    //Dunamicly change form title\n    function _changeFormTitle() {\n        var $formTitle = $(document).find('.js-form-title');\n        $('.js-form-title').on('click', function () {\n            var text = $(this).data('title');\n\n            $formTitle.not($(this)).removeClass('is-active');\n\n            $(this).addClass('is-active').closest('.form').find('.form__btn').text(text);\n        });\n    }\n\n    //Reinit components when open modal window\n    function _reinit() {\n        // $(document).on('show.bs.modal', '.modal', function() {\n        //     console.log(10);\n        //     BB.Fronted.Main.initMapMarketDeliveryModal();\n        // });\n    }\n\n    return {\n        init: _init,\n        initFancyBox: _initFancyBox,\n        whoIs: _whoIs,\n        changeFormTitle: _changeFormTitle,\n        reinit: _reinit\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVWZ1NGR3enYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvY29tcG9uZW50cy9Qb3B1cC5qcz8wMjVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCQi5Db21wb25lbnRzLlBvcHVwLmpzXHJcbiAqXHJcbiAqIEBhdXRob3IgQW50b24gVXN0aW5vZmYgPGEuYS51c3Rpbm9mZkBnbWFpbC5jb20+XHJcbiAqXHJcbiAqIE1vZGFsIEZhbmN5Qm94IDMgdXNlIGZvciBpbWFnZSBwcmV2aWV3IGh0dHBzOi8vZmFuY3lhcHBzLmNvbS9mYW5jeWJveC8zL1xyXG4gKiBGb3IgdGhlIHJlc3QgYm9vdHN0cmFwIG1vZGFsIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS9kb2NzLzQuMC9jb21wb25lbnRzL21vZGFsL1xyXG4gKi9cclxuXHJcbkJCLmRlZmluZSgnQ29yZS5Qb3B1cCcpO1xyXG5cclxuaW1wb3J0ICdib290c3RyYXAvanMvZGlzdC91dGlsJztcclxuaW1wb3J0ICdib290c3RyYXAvanMvZGlzdC9tb2RhbCc7XHJcbmltcG9ydCAnQGZhbmN5YXBwcy9mYW5jeWJveCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCQi5Db3JlLlBvcHVwID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgZnVuY3Rpb24gX2luaXQoKSB7XHJcbiAgICAgICAgX2luaXRGYW5jeUJveCgpO1xyXG4gICAgICAgIF93aG9JcygpO1xyXG4gICAgICAgIF9jaGFuZ2VGb3JtVGl0bGUoKTtcclxuICAgICAgICAvLyBfcmVpbml0KCk7XHJcblxyXG4gICAgICAgIGlmIChOT0RFX0VOViA9PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0gSU5JVCBDT1JFIFBPUFVQJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vTW9kYWwgRmFuY3lCb3ggMyBodHRwczovL2ZhbmN5YXBwcy5jb20vZmFuY3lib3gvMy9cclxuICAgIGZ1bmN0aW9uIF9pbml0RmFuY3lCb3goKSB7XHJcbiAgICAgICAgbGV0ICRmYW5jeUltYWdlUG9wdXAgPSAkKGRvY3VtZW50KS5maW5kKCdbZGF0YS1mYW5jeWJveD1cImltYWdlc1wiXScpO1xyXG4gICAgICAgIGlmICgkZmFuY3lJbWFnZVBvcHVwLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkZmFuY3lJbWFnZVBvcHVwLmZhbmN5Ym94KHtcclxuICAgICAgICAgICAgICAgIGJhc2VDbGFzczogJ2ZhbmN5Ym94LWNvbnRhaW5lci0taW1hZ2UnLFxyXG4gICAgICAgICAgICAgICAgdG9vbGJhcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNtYWxsQnRuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY2xvc2VDbGlja091dHNpZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtb2JpbGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja0NvbnRlbnQ6ICdjbG9zZScsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tTbGlkZTogJ2Nsb3NlJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0Zvcm0gV2hvIElzP1xyXG4gICAgZnVuY3Rpb24gX3dob0lzKCkge1xyXG4gICAgICAgICQoJy5qcy13aG9pcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgd2hvaXMgPSAkKHRoaXMpLmRhdGEoJ3dob2lzJyk7XHJcbiAgICAgICAgICAgIGxldCBmb3JtID0gJCgnI2F1dGgtZm9ybScpLmZpbmQoJy5mb3JtJyk7XHJcbiAgICAgICAgICAgIGlmICh3aG9pcyA9PT0gJ21hc3RlcicpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0uYWRkQ2xhc3MoJ2lzLW1hc3RlcicpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdob2lzID09PSAnc3R1ZGlvJykge1xyXG4gICAgICAgICAgICAgICAgZm9ybS5hZGRDbGFzcygnaXMtc3R1ZGlvJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmFkZENsYXNzKCdpcy1jbGllbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRHVuYW1pY2x5IGNoYW5nZSBmb3JtIHRpdGxlXHJcbiAgICBmdW5jdGlvbiBfY2hhbmdlRm9ybVRpdGxlKCkge1xyXG4gICAgICAgIGxldCAkZm9ybVRpdGxlID0gJChkb2N1bWVudCkuZmluZCgnLmpzLWZvcm0tdGl0bGUnKTtcclxuICAgICAgICAkKCcuanMtZm9ybS10aXRsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgdGV4dCA9ICQodGhpcykuZGF0YSgndGl0bGUnKTtcclxuXHJcbiAgICAgICAgICAgICRmb3JtVGl0bGUubm90KCQodGhpcykpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuZm9ybScpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmZvcm1fX2J0bicpXHJcbiAgICAgICAgICAgICAgICAudGV4dCh0ZXh0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL1JlaW5pdCBjb21wb25lbnRzIHdoZW4gb3BlbiBtb2RhbCB3aW5kb3dcclxuICAgIGZ1bmN0aW9uIF9yZWluaXQoKSB7XHJcbiAgICAgICAgLy8gJChkb2N1bWVudCkub24oJ3Nob3cuYnMubW9kYWwnLCAnLm1vZGFsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKDEwKTtcclxuICAgICAgICAvLyAgICAgQkIuRnJvbnRlZC5NYWluLmluaXRNYXBNYXJrZXREZWxpdmVyeU1vZGFsKCk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0OiBfaW5pdCxcclxuICAgICAgICBpbml0RmFuY3lCb3g6IF9pbml0RmFuY3lCb3gsXHJcbiAgICAgICAgd2hvSXM6IF93aG9JcyxcclxuICAgICAgICBjaGFuZ2VGb3JtVGl0bGU6IF9jaGFuZ2VGb3JtVGl0bGUsXHJcbiAgICAgICAgcmVpbml0OiBfcmVpbml0LFxyXG4gICAgfTtcclxufSkoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///Ufu4dwzv\n");

/***/ }),

/***/ "UwsA97VU":
/*!****************************!*\
  !*** ./core/components.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var jquery_ui_ui_widget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery-ui/ui/widget */ \"vB/yqzK0\");\n/* harmony import */ var jquery_ui_ui_widget__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery_ui_ui_widget__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jquery_ui_ui_keycode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery-ui/ui/keycode */ \"0fyS9TDF\");\n/* harmony import */ var jquery_ui_ui_keycode__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery_ui_ui_keycode__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jquery_ui_ui_unique_id__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery-ui/ui/unique-id */ \"ePECsF62\");\n/* harmony import */ var jquery_ui_ui_unique_id__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery_ui_ui_unique_id__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jquery_ui_ui_widgets_mouse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery-ui/ui/widgets/mouse */ \"fo0wH5G7\");\n/* harmony import */ var jquery_ui_ui_widgets_mouse__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery_ui_ui_widgets_mouse__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jquery_ui_ui_widgets_tabs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery-ui/ui/widgets/tabs */ \"MCs8hTCw\");\n/* harmony import */ var jquery_ui_ui_widgets_tabs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery_ui_ui_widgets_tabs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var jquery_ui_touch_punch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jquery-ui-touch-punch */ \"QH4Zqd+9\");\n/* harmony import */ var jquery_ui_touch_punch__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jquery_ui_touch_punch__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _js_lib_stickyBlockResizeSensor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/js/_lib/stickyBlockResizeSensor */ \"baVHU8iN\");\n/* harmony import */ var _js_lib_stickyBlockResizeSensor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_js_lib_stickyBlockResizeSensor__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _js_lib_stickyBlock__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/js/_lib/stickyBlock */ \"pTebvTgf\");\n/* harmony import */ var _js_lib_stickyBlock__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_js_lib_stickyBlock__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _js_components_AddForm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/js/components/AddForm */ \"/6AmEcru\");\n/* harmony import */ var _js_components_Accordeon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/js/components/Accordeon */ \"ybvwehb/\");\n/* harmony import */ var _js_components_BoxColor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/js/components/BoxColor */ \"J+/0136V\");\n/* harmony import */ var _js_components_CheckBox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/js/components/CheckBox */ \"dOuSRFLb\");\n/* harmony import */ var _js_components_CopyBox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/js/components/CopyBox */ \"h2g7fv8v\");\n/* harmony import */ var _js_components_Dropdown__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/js/components/Dropdown */ \"cD6eWrej\");\n/* harmony import */ var _js_components_ParallaxBlock__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/js/components/ParallaxBlock */ \"CxWtN+fR\");\n/* harmony import */ var _js_components_SlideLine__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/js/components/SlideLine */ \"Oqt4qBVp\");\n/* harmony import */ var _js_components_VideoLoader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/js/components/VideoLoader */ \"WShAcHPv\");\n/* harmony import */ var _js_components_Viewer__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/js/components/Viewer */ \"CoitQNvT\");\n/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/Button */ \"zONryQ4G\");\n/* harmony import */ var _components_Input__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/Input */ \"jTtAotVx\");\n/* harmony import */ var _components_Popup__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/Popup */ \"Ufu4dwzv\");\n/* harmony import */ var _components_Select__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/Select */ \"REoC5YDm\");\n/* harmony import */ var _components_Slider__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/Slider */ \"/BqqaMG3\");\n/**\n * BB.Components.js\n * Здесь инициализируем те компоненты которые могуть быть использованы хотябы в 2-х точках входа\n *\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\n */\n\nBB.define('Core.Component');\n\n/* node_modules */\n //Need for tabs ui & touch-punch\n //Need for tabs ui\n //Need for tabs ui\n //Need for touch-punch\n\n\n// import ElementQueries from 'css-element-queries/src/ElementQueries';\n// import StickySidebar from 'sticky-sidebar';\n\n\n\n\n/* Our components */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Core.Component = function () {\n    function _init() {\n        // ElementQueries.init();\n        _initCheckBox();\n        _initCheckBoxSelectAll();\n        _initTab();\n        _initChanger();\n        _initBoxColor();\n        _initParallaxBlock();\n        _initAccordeon();\n        _initProgressLine();\n        _initCopyBox();\n        _initViewer();\n        _initVideoLoader();\n        _initSlideLine();\n        _initStickyBlock();\n        // _initServicesBtnInfo();\n        _initAddForm();\n        _initFieldEdit();\n        _initTimer();\n        _initControlBox();\n\n        _components_Button__WEBPACK_IMPORTED_MODULE_18__[\"default\"].init();\n        _js_components_Dropdown__WEBPACK_IMPORTED_MODULE_13__[\"default\"].init(document.body);\n        _components_Input__WEBPACK_IMPORTED_MODULE_19__[\"default\"].init();\n        _components_Popup__WEBPACK_IMPORTED_MODULE_20__[\"default\"].init();\n        _components_Select__WEBPACK_IMPORTED_MODULE_21__[\"default\"].init();\n        _components_Slider__WEBPACK_IMPORTED_MODULE_22__[\"default\"].init();\n    }\n\n    function _initCheckBox() {\n        new _js_components_CheckBox__WEBPACK_IMPORTED_MODULE_11__[\"CheckBox\"]({ selector: '.js-bb-checkbox' }).init();\n        new _js_components_CheckBox__WEBPACK_IMPORTED_MODULE_11__[\"Radio\"]({ selector: '.js-bb-radio' });\n    }\n\n    function _initCheckBoxSelectAll() {\n        var allChangeControl = $('.js-bb-checkbox--select-all');\n        var changeControlInput = allChangeControl.find('input');\n        var checkBox = allChangeControl.closest('div').find('.js-bb-checkbox').not('.js-bb-checkbox--select-all');\n        changeControlInput.on('change', function () {\n            var $this = $(this);\n            var parentCheckAll = $this.closest('.js-bb-checkbox--select-all');\n\n            if (this.checked) {\n                parentCheckAll.addClass('is-checked');\n                var $checkboxs = parentCheckAll.closest('div').find('.js-bb-checkbox');\n                $checkboxs.each(function () {\n                    if (!$(this).hasClass('js-no-all-check')) {\n                        this.querySelector('input').checked = true;\n                        $(this).addClass('is-checked');\n                    }\n                });\n            } else {\n                parentCheckAll.removeClass('is-checked');\n                var _$checkboxs = parentCheckAll.closest('div').find('.js-bb-checkbox');\n                _$checkboxs.each(function () {\n                    if (!$(this).hasClass('js-no-all-check')) {\n                        this.querySelector('input').checked = false;\n                        $(this).removeClass('is-checked');\n                    }\n                });\n            }\n            // return false;\n        });\n\n        checkBox.on('change', function () {\n            var thisChangeControl = $(this).closest('div').find('.js-bb-checkbox--select-all');\n            thisChangeControl.removeClass('is-checked').find('input').prop('checked', false);\n        });\n    }\n\n    function _initTab() {\n        var $tabs = $('.js-bb-tab');\n\n        if ($tabs.length) {\n            $tabs.tabs();\n        }\n    }\n\n    function _initChanger() {\n        var $changer = $(document).find('.js-changer');\n        var CHECKED_CLASS = 'is-checked';\n\n        if ($changer.length) {\n            $changer.each(function () {\n                var $item = $(this).find('.changer__item');\n                var $btnReset = $(this).find('.changer__reset');\n\n                $item.on('click', function (e) {\n                    $item.not($(this)).removeClass(CHECKED_CLASS);\n                    $(this).addClass(CHECKED_CLASS);\n\n                    // e.stopPropagation(); Не раскоментировать\n                    // e.preventDefault(); Не раскоментировать\n                });\n\n                $btnReset.on('click', function (e) {\n                    var $parent = $(this).closest('.changer__item');\n\n                    $parent.removeClass(CHECKED_CLASS);\n                    // e.stopPropagation(); Не раскоментировать\n                });\n            });\n        }\n    }\n\n    function _initBoxColor() {\n        new _js_components_BoxColor__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n    }\n\n    function _initParallaxBlock() {\n        var paralaxBlock = '.js-parallax';\n        if (document.querySelectorAll(paralaxBlock)) {\n            new _js_components_ParallaxBlock__WEBPACK_IMPORTED_MODULE_14__[\"default\"]({\n                selector: paralaxBlock,\n                transform: true\n            }).init();\n        }\n    }\n\n    function _initProgressLine() {\n        var elements = document.querySelectorAll('[data-progress]');\n        if (elements.length) {\n            setTimeout(function () {\n                elements.forEach(function (elem) {\n                    var data = elem.getAttribute('data-progress');\n                    if (data > 100) return;\n                    if (data < 90) {\n                        elem.style.width = parseInt(data) + 5 + '%';\n                        setTimeout(function () {\n                            elem.style.width = parseInt(data) + '%';\n                        }, 1000);\n                    } else {\n                        elem.style.width = parseInt(data) + '%';\n                    }\n                });\n            }, 1000);\n        }\n    }\n\n    function _initAccordeon() {\n        var accordeon = '.js-bb-accordeon';\n        if (document.querySelectorAll(accordeon)) {\n            new _js_components_Accordeon__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({ selector: accordeon }).init();\n        }\n    }\n\n    function _initCopyBox() {\n        new _js_components_CopyBox__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({ selector: '.js-copy-box' }).init();\n    }\n\n    function _initViewer() {\n        var vieverClass = '.js-viewer';\n        if (document.querySelector(vieverClass)) {\n            new _js_components_Viewer__WEBPACK_IMPORTED_MODULE_17__[\"default\"]({ selector: vieverClass }).init();\n        }\n    }\n\n    function _initVideoLoader() {\n        new _js_components_VideoLoader__WEBPACK_IMPORTED_MODULE_16__[\"default\"]().init();\n    }\n\n    function _initStickyBlock() {\n        var stickyBlock = '[data-sticky]';\n        var $stickyBlock = $(stickyBlock);\n        var stickyBlockContainer = '[data-sticky-container]';\n        var stickyBlockInner = '[data-sticky-inner]';\n        var maxWindowWidth = $stickyBlock.data('sticky-width') || 768;\n        var stickyBlockTopSpasing = $stickyBlock.data('sticky-top-spacing') || 10;\n        var stickyBlockBottomSpasing = $stickyBlock.data('sticky-bottom-spacing') || 10;\n\n        if ($stickyBlock.length && $(window).width() > maxWindowWidth) {\n            new _js_lib_stickyBlock__WEBPACK_IMPORTED_MODULE_7___default.a(stickyBlock, {\n                topSpacing: stickyBlockTopSpasing,\n                bottomSpacing: stickyBlockBottomSpasing,\n                containerSelector: stickyBlockContainer,\n                innerWrapperSelector: stickyBlockInner\n            });\n        }\n    }\n\n    function _initAddForm() {\n        new _js_components_AddForm__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({ selector: 'js-add-form' }).init();\n    }\n\n    function _initSlideLine() {\n        var slideLine = document.querySelector('[data-slide-line]');\n\n        if (slideLine) {\n            new _js_components_SlideLine__WEBPACK_IMPORTED_MODULE_15__[\"default\"]({ selector: '[data-slide-line]' }).init();\n        }\n    }\n\n    function _initFieldEdit() {\n        var fieldEdit = '.js-field-edit';\n        var $fieldEdit = $(document).find('.js-field-edit');\n\n        if ($fieldEdit.length) {\n            $fieldEdit.each(function () {\n                var $fieldEditInput = $(this).find('.field-edit__input');\n                var $fieldEditBtn = $(this).find('.field-edit__btn');\n\n                $fieldEditBtn.on('click', function () {\n                    var $fieldEditInput = $(this).closest(fieldEdit).find('.field-edit__input');\n\n                    var $fieldEditText = $(this).closest(fieldEdit).find('.field-edit__text');\n\n                    var fieldEditText = $fieldEditText.text();\n\n                    $(this).hide();\n                    $fieldEditText.hide();\n\n                    $fieldEditInput.val(fieldEditText).show().select();\n                });\n\n                $fieldEditInput.blur(function () {\n                    var $fieldEditText = $(this).closest(fieldEdit).find('.field-edit__text');\n\n                    if ($.trim(this.value) == '') {\n                        this.value = this.defaultValue ? this.defaultValue : '';\n                    } else {\n                        $fieldEditText.html(this.value);\n                    }\n\n                    $(this).hide();\n                    $fieldEditBtn.show();\n                    $fieldEditText.show();\n                }).keypress(function (event) {\n                    var $fieldEditText = $(this).closest(fieldEdit).find('.field-edit__text');\n\n                    if (event.keyCode == '13') {\n                        if ($.trim(this.value) == '') {\n                            this.value = this.defaultValue ? this.defaultValue : '';\n                        } else {\n                            $fieldEditText.html(this.value);\n                        }\n\n                        $(this).hide();\n                        $fieldEditBtn.removeAttr('style');\n                        $fieldEditText.show();\n                    }\n                });\n            });\n\n            $(document).on('touchstart', function (e) {\n                if ($(e.target).closest(fieldEdit).length) return;\n                var $input = $fieldEdit.find('input');\n                var $text = $fieldEdit.find('.field-edit__text');\n                var $btn = $fieldEdit.find('.field-edit__btn');\n\n                if ($.trim($input.value) == '') {\n                    $input.value = $input.defaultValue ? $input.defaultValue : '';\n                } else {\n                    $text.html($input.value);\n                }\n\n                $fieldEdit.find('input').hide();\n                $fieldEdit.find('.field-edit__text').show();\n                $fieldEdit.find('.field-edit__btn').show();\n            });\n        }\n    }\n\n    function _initTimer() {\n        $('.js-timer-bnt--repeat').on('click', function (e) {\n            $(this).css('display', 'none').closest('.js-timer').find('.js-timer-text').removeAttr('style');\n            phoneConfirmTimer();\n        });\n\n        //Timer function\n        function phoneConfirmTimer() {\n            var $timer = $(document).find('.js-timer');\n\n            $timer.each(function () {\n                var $timerBtnRepeat = $(this).find('.js-timer-bnt--repeat');\n                var $timerBtnSkip = $(this).find('.js-timer-bnt--skip');\n                var $text = $(this).find('.js-timer-text');\n                var $time = $(this).find('[data-timer-time]');\n\n                var timer = function timer() {\n                    setTimeout(function () {\n                        var time = $time.data('timer-time');\n\n                        $time.text(time);\n\n                        var int = setInterval(function () {\n                            time--;\n                            if (time == -1) {\n                                clearInterval(int);\n\n                                $text.css('display', 'none');\n                                $timerBtnRepeat.removeAttr('style');\n                                $timerBtnSkip.removeAttr('style');\n                            } else {\n                                $time.text(time);\n                            }\n                        }, 1000);\n\n                        $timerBtnRepeat.on('click', function (e) {\n                            clearInterval(int);\n                            timer();\n                        });\n                    });\n                };\n                timer();\n            });\n        }\n        phoneConfirmTimer();\n    }\n\n    function _initControlBox() {\n        var controlBox = '.js-control-box';\n        var controlContainer = '.js-control-box-container';\n        var controlBtn = document.querySelectorAll('.js-control-box-btn');\n\n        if (controlBtn) {\n            var _controlBoxHendler = function _controlBoxHendler(e) {\n                $(e.target).closest(controlContainer).find(controlBox).slideToggle();\n\n                e.preventDefault();\n                e.stopPropagation();\n            };\n\n            controlBtn.forEach(function (btn) {\n                btn.removeEventListener('click', _controlBoxHendler);\n                btn.addEventListener('click', _controlBoxHendler);\n            });\n        }\n    }\n\n    return {\n        init: _init,\n        initCheckBox: _initCheckBox,\n        initCheckBoxSelectAll: _initCheckBoxSelectAll,\n        initTab: _initTab,\n        initChanger: _initChanger,\n        initBoxColor: _initBoxColor,\n        initParallaxBlock: _initParallaxBlock,\n        initProgressLine: _initProgressLine,\n        initAccordeon: _initAccordeon,\n        initCopyBox: _initCopyBox,\n        initSlideLine: _initSlideLine,\n        initViewer: _initViewer,\n        initVideoLoader: _initVideoLoader,\n        initStickyBlock: _initStickyBlock,\n        initAddForm: _initAddForm,\n        initFieldEdit: _initFieldEdit,\n        initTimer: _initTimer,\n        initControlBox: _initControlBox\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXdzQTk3VlUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvY29tcG9uZW50cy5qcz81YWI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQkIuQ29tcG9uZW50cy5qc1xuICog0JfQtNC10YHRjCDQuNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdC8INGC0LUg0LrQvtC80L/QvtC90LXQvdGC0Ysg0LrQvtGC0L7RgNGL0LUg0LzQvtCz0YPRgtGMINCx0YvRgtGMINC40YHQv9C+0LvRjNC30L7QstCw0L3RiyDRhdC+0YLRj9Cx0Ysg0LIgMi3RhSDRgtC+0YfQutCw0YUg0LLRhdC+0LTQsFxuICpcbiAqIEBhdXRob3IgQW50b24gVXN0aW5vZmYgPGEuYS51c3Rpbm9mZkBnbWFpbC5jb20+XG4gKi9cblxuQkIuZGVmaW5lKCdDb3JlLkNvbXBvbmVudCcpO1xuXG4vKiBub2RlX21vZHVsZXMgKi9cbmltcG9ydCAnanF1ZXJ5LXVpL3VpL3dpZGdldCc7IC8vTmVlZCBmb3IgdGFicyB1aSAmIHRvdWNoLXB1bmNoXG5pbXBvcnQgJ2pxdWVyeS11aS91aS9rZXljb2RlJzsgLy9OZWVkIGZvciB0YWJzIHVpXG5pbXBvcnQgJ2pxdWVyeS11aS91aS91bmlxdWUtaWQnOyAvL05lZWQgZm9yIHRhYnMgdWlcbmltcG9ydCAnanF1ZXJ5LXVpL3VpL3dpZGdldHMvbW91c2UnOyAvL05lZWQgZm9yIHRvdWNoLXB1bmNoXG5pbXBvcnQgJ2pxdWVyeS11aS91aS93aWRnZXRzL3RhYnMnO1xuaW1wb3J0ICdqcXVlcnktdWktdG91Y2gtcHVuY2gnO1xuLy8gaW1wb3J0IEVsZW1lbnRRdWVyaWVzIGZyb20gJ2Nzcy1lbGVtZW50LXF1ZXJpZXMvc3JjL0VsZW1lbnRRdWVyaWVzJztcbi8vIGltcG9ydCBTdGlja3lTaWRlYmFyIGZyb20gJ3N0aWNreS1zaWRlYmFyJztcblxuaW1wb3J0ICdAL2pzL19saWIvc3RpY2t5QmxvY2tSZXNpemVTZW5zb3InO1xuaW1wb3J0IFN0aWNreVNpZGViYXIgZnJvbSAnQC9qcy9fbGliL3N0aWNreUJsb2NrJztcblxuLyogT3VyIGNvbXBvbmVudHMgKi9cbmltcG9ydCBBZGRGb3JtIGZyb20gJ0AvanMvY29tcG9uZW50cy9BZGRGb3JtJztcbmltcG9ydCBBY2NvcmRlb24gZnJvbSAnQC9qcy9jb21wb25lbnRzL0FjY29yZGVvbic7XG5pbXBvcnQgQm94Q29sb3IgZnJvbSAnQC9qcy9jb21wb25lbnRzL0JveENvbG9yJztcbmltcG9ydCB7IENoZWNrQm94LCBSYWRpbyB9IGZyb20gJ0AvanMvY29tcG9uZW50cy9DaGVja0JveCc7XG5pbXBvcnQgQ29weUJveCBmcm9tICdAL2pzL2NvbXBvbmVudHMvQ29weUJveCc7XG5pbXBvcnQgRHJvcGRvd24gZnJvbSAnQC9qcy9jb21wb25lbnRzL0Ryb3Bkb3duJztcbmltcG9ydCBQYXJhbGxheEJsb2NrIGZyb20gJ0AvanMvY29tcG9uZW50cy9QYXJhbGxheEJsb2NrJztcbmltcG9ydCBTbGlkZUxpbmUgZnJvbSAnQC9qcy9jb21wb25lbnRzL1NsaWRlTGluZSc7XG5pbXBvcnQgVmlkZW9Mb2FkZXIgZnJvbSAnQC9qcy9jb21wb25lbnRzL1ZpZGVvTG9hZGVyJztcbmltcG9ydCBWaWV3ZXIgZnJvbSAnQC9qcy9jb21wb25lbnRzL1ZpZXdlcic7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vY29tcG9uZW50cy9CdXR0b24nO1xuaW1wb3J0IElucHV0IGZyb20gJy4vY29tcG9uZW50cy9JbnB1dCc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9jb21wb25lbnRzL1BvcHVwJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi9jb21wb25lbnRzL1NlbGVjdCc7XG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vY29tcG9uZW50cy9TbGlkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBCQi5Db3JlLkNvbXBvbmVudCA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgICAgLy8gRWxlbWVudFF1ZXJpZXMuaW5pdCgpO1xuICAgICAgICBfaW5pdENoZWNrQm94KCk7XG4gICAgICAgIF9pbml0Q2hlY2tCb3hTZWxlY3RBbGwoKTtcbiAgICAgICAgX2luaXRUYWIoKTtcbiAgICAgICAgX2luaXRDaGFuZ2VyKCk7XG4gICAgICAgIF9pbml0Qm94Q29sb3IoKTtcbiAgICAgICAgX2luaXRQYXJhbGxheEJsb2NrKCk7XG4gICAgICAgIF9pbml0QWNjb3JkZW9uKCk7XG4gICAgICAgIF9pbml0UHJvZ3Jlc3NMaW5lKCk7XG4gICAgICAgIF9pbml0Q29weUJveCgpO1xuICAgICAgICBfaW5pdFZpZXdlcigpO1xuICAgICAgICBfaW5pdFZpZGVvTG9hZGVyKCk7XG4gICAgICAgIF9pbml0U2xpZGVMaW5lKCk7XG4gICAgICAgIF9pbml0U3RpY2t5QmxvY2soKTtcbiAgICAgICAgLy8gX2luaXRTZXJ2aWNlc0J0bkluZm8oKTtcbiAgICAgICAgX2luaXRBZGRGb3JtKCk7XG4gICAgICAgIF9pbml0RmllbGRFZGl0KCk7XG4gICAgICAgIF9pbml0VGltZXIoKTtcbiAgICAgICAgX2luaXRDb250cm9sQm94KCk7XG5cbiAgICAgICAgQnV0dG9uLmluaXQoKTtcbiAgICAgICAgRHJvcGRvd24uaW5pdChkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgSW5wdXQuaW5pdCgpO1xuICAgICAgICBQb3B1cC5pbml0KCk7XG4gICAgICAgIFNlbGVjdC5pbml0KCk7XG4gICAgICAgIFNsaWRlci5pbml0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRDaGVja0JveCgpIHtcbiAgICAgICAgbmV3IENoZWNrQm94KHsgc2VsZWN0b3I6ICcuanMtYmItY2hlY2tib3gnIH0pLmluaXQoKTtcbiAgICAgICAgbmV3IFJhZGlvKHsgc2VsZWN0b3I6ICcuanMtYmItcmFkaW8nIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0Q2hlY2tCb3hTZWxlY3RBbGwoKSB7XG4gICAgICAgIGxldCBhbGxDaGFuZ2VDb250cm9sID0gJCgnLmpzLWJiLWNoZWNrYm94LS1zZWxlY3QtYWxsJyk7XG4gICAgICAgIGxldCBjaGFuZ2VDb250cm9sSW5wdXQgPSBhbGxDaGFuZ2VDb250cm9sLmZpbmQoJ2lucHV0Jyk7XG4gICAgICAgIGxldCBjaGVja0JveCA9IGFsbENoYW5nZUNvbnRyb2xcbiAgICAgICAgICAgIC5jbG9zZXN0KCdkaXYnKVxuICAgICAgICAgICAgLmZpbmQoJy5qcy1iYi1jaGVja2JveCcpXG4gICAgICAgICAgICAubm90KCcuanMtYmItY2hlY2tib3gtLXNlbGVjdC1hbGwnKTtcbiAgICAgICAgY2hhbmdlQ29udHJvbElucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICBsZXQgcGFyZW50Q2hlY2tBbGwgPSAkdGhpcy5jbG9zZXN0KCcuanMtYmItY2hlY2tib3gtLXNlbGVjdC1hbGwnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudENoZWNrQWxsLmFkZENsYXNzKCdpcy1jaGVja2VkJyk7XG4gICAgICAgICAgICAgICAgbGV0ICRjaGVja2JveHMgPSBwYXJlbnRDaGVja0FsbFxuICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnZGl2JylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5qcy1iYi1jaGVja2JveCcpO1xuICAgICAgICAgICAgICAgICRjaGVja2JveHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdqcy1uby1hbGwtY2hlY2snKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtY2hlY2tlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudENoZWNrQWxsLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XG4gICAgICAgICAgICAgICAgbGV0ICRjaGVja2JveHMgPSBwYXJlbnRDaGVja0FsbFxuICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnZGl2JylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5qcy1iYi1jaGVja2JveCcpO1xuICAgICAgICAgICAgICAgICRjaGVja2JveHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdqcy1uby1hbGwtY2hlY2snKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBjaGVja0JveC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgdGhpc0NoYW5nZUNvbnRyb2wgPSAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLmNsb3Nlc3QoJ2RpdicpXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5qcy1iYi1jaGVja2JveC0tc2VsZWN0LWFsbCcpO1xuICAgICAgICAgICAgdGhpc0NoYW5nZUNvbnRyb2xcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2lzLWNoZWNrZWQnKVxuICAgICAgICAgICAgICAgIC5maW5kKCdpbnB1dCcpXG4gICAgICAgICAgICAgICAgLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0VGFiKCkge1xuICAgICAgICBsZXQgJHRhYnMgPSAkKCcuanMtYmItdGFiJyk7XG5cbiAgICAgICAgaWYgKCR0YWJzLmxlbmd0aCkge1xuICAgICAgICAgICAgJHRhYnMudGFicygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRDaGFuZ2VyKCkge1xuICAgICAgICBsZXQgJGNoYW5nZXIgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtY2hhbmdlcicpO1xuICAgICAgICBsZXQgQ0hFQ0tFRF9DTEFTUyA9ICdpcy1jaGVja2VkJztcblxuICAgICAgICBpZiAoJGNoYW5nZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAkY2hhbmdlci5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxldCAkaXRlbSA9ICQodGhpcykuZmluZCgnLmNoYW5nZXJfX2l0ZW0nKTtcbiAgICAgICAgICAgICAgICBsZXQgJGJ0blJlc2V0ID0gJCh0aGlzKS5maW5kKCcuY2hhbmdlcl9fcmVzZXQnKTtcblxuICAgICAgICAgICAgICAgICRpdGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJGl0ZW0ubm90KCQodGhpcykpLnJlbW92ZUNsYXNzKENIRUNLRURfQ0xBU1MpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKENIRUNLRURfQ0xBU1MpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGUuc3RvcFByb3BhZ2F0aW9uKCk7INCd0LUg0YDQsNGB0LrQvtC80LXQvdGC0LjRgNC+0LLQsNGC0YxcbiAgICAgICAgICAgICAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpOyDQndC1INGA0LDRgdC60L7QvNC10L3RgtC40YDQvtCy0LDRgtGMXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkYnRuUmVzZXQub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgJHBhcmVudCA9ICQodGhpcykuY2xvc2VzdCgnLmNoYW5nZXJfX2l0ZW0nKTtcblxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKENIRUNLRURfQ0xBU1MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpOyDQndC1INGA0LDRgdC60L7QvNC10L3RgtC40YDQvtCy0LDRgtGMXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0Qm94Q29sb3IoKSB7XG4gICAgICAgIG5ldyBCb3hDb2xvcigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0UGFyYWxsYXhCbG9jaygpIHtcbiAgICAgICAgbGV0IHBhcmFsYXhCbG9jayA9ICcuanMtcGFyYWxsYXgnO1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJhbGF4QmxvY2spKSB7XG4gICAgICAgICAgICBuZXcgUGFyYWxsYXhCbG9jayh7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6IHBhcmFsYXhCbG9jayxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRydWUsXG4gICAgICAgICAgICB9KS5pbml0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdFByb2dyZXNzTGluZSgpIHtcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcHJvZ3Jlc3NdJyk7XG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPiAxMDApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgPCA5MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS53aWR0aCA9IHBhcnNlSW50KGRhdGEpICsgNSArICclJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUud2lkdGggPSBwYXJzZUludChkYXRhKSArICclJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS53aWR0aCA9IHBhcnNlSW50KGRhdGEpICsgJyUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0QWNjb3JkZW9uKCkge1xuICAgICAgICBsZXQgYWNjb3JkZW9uID0gJy5qcy1iYi1hY2NvcmRlb24nO1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhY2NvcmRlb24pKSB7XG4gICAgICAgICAgICBuZXcgQWNjb3JkZW9uKHsgc2VsZWN0b3I6IGFjY29yZGVvbiB9KS5pbml0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdENvcHlCb3goKSB7XG4gICAgICAgIG5ldyBDb3B5Qm94KHsgc2VsZWN0b3I6ICcuanMtY29weS1ib3gnIH0pLmluaXQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdFZpZXdlcigpIHtcbiAgICAgICAgY29uc3QgdmlldmVyQ2xhc3MgPSAnLmpzLXZpZXdlcic7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZpZXZlckNsYXNzKSkge1xuICAgICAgICAgICAgbmV3IFZpZXdlcih7IHNlbGVjdG9yOiB2aWV2ZXJDbGFzcyB9KS5pbml0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdFZpZGVvTG9hZGVyKCkge1xuICAgICAgICBuZXcgVmlkZW9Mb2FkZXIoKS5pbml0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRTdGlja3lCbG9jaygpIHtcbiAgICAgICAgbGV0IHN0aWNreUJsb2NrID0gJ1tkYXRhLXN0aWNreV0nO1xuICAgICAgICBsZXQgJHN0aWNreUJsb2NrID0gJChzdGlja3lCbG9jayk7XG4gICAgICAgIGxldCBzdGlja3lCbG9ja0NvbnRhaW5lciA9ICdbZGF0YS1zdGlja3ktY29udGFpbmVyXSc7XG4gICAgICAgIGxldCBzdGlja3lCbG9ja0lubmVyID0gJ1tkYXRhLXN0aWNreS1pbm5lcl0nO1xuICAgICAgICBsZXQgbWF4V2luZG93V2lkdGggPSAkc3RpY2t5QmxvY2suZGF0YSgnc3RpY2t5LXdpZHRoJykgfHwgNzY4O1xuICAgICAgICBsZXQgc3RpY2t5QmxvY2tUb3BTcGFzaW5nID1cbiAgICAgICAgICAgICRzdGlja3lCbG9jay5kYXRhKCdzdGlja3ktdG9wLXNwYWNpbmcnKSB8fCAxMDtcbiAgICAgICAgbGV0IHN0aWNreUJsb2NrQm90dG9tU3Bhc2luZyA9XG4gICAgICAgICAgICAkc3RpY2t5QmxvY2suZGF0YSgnc3RpY2t5LWJvdHRvbS1zcGFjaW5nJykgfHwgMTA7XG5cbiAgICAgICAgaWYgKCRzdGlja3lCbG9jay5sZW5ndGggJiYgJCh3aW5kb3cpLndpZHRoKCkgPiBtYXhXaW5kb3dXaWR0aCkge1xuICAgICAgICAgICAgbmV3IFN0aWNreVNpZGViYXIoc3RpY2t5QmxvY2ssIHtcbiAgICAgICAgICAgICAgICB0b3BTcGFjaW5nOiBzdGlja3lCbG9ja1RvcFNwYXNpbmcsXG4gICAgICAgICAgICAgICAgYm90dG9tU3BhY2luZzogc3RpY2t5QmxvY2tCb3R0b21TcGFzaW5nLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclNlbGVjdG9yOiBzdGlja3lCbG9ja0NvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBpbm5lcldyYXBwZXJTZWxlY3Rvcjogc3RpY2t5QmxvY2tJbm5lcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRBZGRGb3JtKCkge1xuICAgICAgICBuZXcgQWRkRm9ybSh7IHNlbGVjdG9yOiAnanMtYWRkLWZvcm0nIH0pLmluaXQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdFNsaWRlTGluZSgpIHtcbiAgICAgICAgbGV0IHNsaWRlTGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNsaWRlLWxpbmVdJyk7XG5cbiAgICAgICAgaWYgKHNsaWRlTGluZSkge1xuICAgICAgICAgICAgbmV3IFNsaWRlTGluZSh7IHNlbGVjdG9yOiAnW2RhdGEtc2xpZGUtbGluZV0nIH0pLmluaXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0RmllbGRFZGl0KCkge1xuICAgICAgICBsZXQgZmllbGRFZGl0ID0gJy5qcy1maWVsZC1lZGl0JztcbiAgICAgICAgbGV0ICRmaWVsZEVkaXQgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtZmllbGQtZWRpdCcpO1xuXG4gICAgICAgIGlmICgkZmllbGRFZGl0Lmxlbmd0aCkge1xuICAgICAgICAgICAgJGZpZWxkRWRpdC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxldCAkZmllbGRFZGl0SW5wdXQgPSAkKHRoaXMpLmZpbmQoJy5maWVsZC1lZGl0X19pbnB1dCcpO1xuICAgICAgICAgICAgICAgIGxldCAkZmllbGRFZGl0QnRuID0gJCh0aGlzKS5maW5kKCcuZmllbGQtZWRpdF9fYnRuJyk7XG5cbiAgICAgICAgICAgICAgICAkZmllbGRFZGl0QnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgJGZpZWxkRWRpdElucHV0ID0gJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNsb3Nlc3QoZmllbGRFZGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5maWVsZC1lZGl0X19pbnB1dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCAkZmllbGRFZGl0VGV4dCA9ICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KGZpZWxkRWRpdClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuZmllbGQtZWRpdF9fdGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZEVkaXRUZXh0ID0gJGZpZWxkRWRpdFRleHQudGV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkZmllbGRFZGl0VGV4dC5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGZpZWxkRWRpdElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAudmFsKGZpZWxkRWRpdFRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkZmllbGRFZGl0SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgLmJsdXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgJGZpZWxkRWRpdFRleHQgPSAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsb3Nlc3QoZmllbGRFZGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuZmllbGQtZWRpdF9fdGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJC50cmltKHRoaXMudmFsdWUpID09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5kZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpZWxkRWRpdFRleHQuaHRtbCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZmllbGRFZGl0QnRuLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWVsZEVkaXRUZXh0LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgJGZpZWxkRWRpdFRleHQgPSAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsb3Nlc3QoZmllbGRFZGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuZmllbGQtZWRpdF9fdGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAnMTMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQudHJpbSh0aGlzLnZhbHVlKSA9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5kZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5kZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpZWxkRWRpdFRleHQuaHRtbCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZmllbGRFZGl0QnRuLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpZWxkRWRpdFRleHQuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoJChlLnRhcmdldCkuY2xvc2VzdChmaWVsZEVkaXQpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGxldCAkaW5wdXQgPSAkZmllbGRFZGl0LmZpbmQoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgbGV0ICR0ZXh0ID0gJGZpZWxkRWRpdC5maW5kKCcuZmllbGQtZWRpdF9fdGV4dCcpO1xuICAgICAgICAgICAgICAgIGxldCAkYnRuID0gJGZpZWxkRWRpdC5maW5kKCcuZmllbGQtZWRpdF9fYnRuJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoJC50cmltKCRpbnB1dC52YWx1ZSkgPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbHVlID0gJGlucHV0LmRlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAkaW5wdXQuZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICR0ZXh0Lmh0bWwoJGlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkZmllbGRFZGl0LmZpbmQoJ2lucHV0JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICRmaWVsZEVkaXQuZmluZCgnLmZpZWxkLWVkaXRfX3RleHQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJGZpZWxkRWRpdC5maW5kKCcuZmllbGQtZWRpdF9fYnRuJykuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdFRpbWVyKCkge1xuICAgICAgICAkKCcuanMtdGltZXItYm50LS1yZXBlYXQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsICdub25lJylcbiAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLXRpbWVyJylcbiAgICAgICAgICAgICAgICAuZmluZCgnLmpzLXRpbWVyLXRleHQnKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgcGhvbmVDb25maXJtVGltZXIoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9UaW1lciBmdW5jdGlvblxuICAgICAgICBmdW5jdGlvbiBwaG9uZUNvbmZpcm1UaW1lcigpIHtcbiAgICAgICAgICAgIGxldCAkdGltZXIgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtdGltZXInKTtcblxuICAgICAgICAgICAgJHRpbWVyLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGV0ICR0aW1lckJ0blJlcGVhdCA9ICQodGhpcykuZmluZCgnLmpzLXRpbWVyLWJudC0tcmVwZWF0Jyk7XG4gICAgICAgICAgICAgICAgbGV0ICR0aW1lckJ0blNraXAgPSAkKHRoaXMpLmZpbmQoJy5qcy10aW1lci1ibnQtLXNraXAnKTtcbiAgICAgICAgICAgICAgICBsZXQgJHRleHQgPSAkKHRoaXMpLmZpbmQoJy5qcy10aW1lci10ZXh0Jyk7XG4gICAgICAgICAgICAgICAgbGV0ICR0aW1lID0gJCh0aGlzKS5maW5kKCdbZGF0YS10aW1lci10aW1lXScpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHRpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lID0gJHRpbWUuZGF0YSgndGltZXItdGltZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZS50ZXh0KHRpbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRleHQuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVyQnRuUmVwZWF0LnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lckJ0blNraXAucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZS50ZXh0KHRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZXJCdG5SZXBlYXQub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGltZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHBob25lQ29uZmlybVRpbWVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXRDb250cm9sQm94KCkge1xuICAgICAgICBjb25zdCBjb250cm9sQm94ID0gJy5qcy1jb250cm9sLWJveCc7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xDb250YWluZXIgPSAnLmpzLWNvbnRyb2wtYm94LWNvbnRhaW5lcic7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtY29udHJvbC1ib3gtYnRuJyk7XG5cbiAgICAgICAgaWYgKGNvbnRyb2xCdG4pIHtcbiAgICAgICAgICAgIGNvbnRyb2xCdG4uZm9yRWFjaChidG4gPT4ge1xuICAgICAgICAgICAgICAgIGJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9jb250cm9sQm94SGVuZGxlcik7XG4gICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NvbnRyb2xCb3hIZW5kbGVyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBfY29udHJvbEJveEhlbmRsZXIoZSkge1xuICAgICAgICAgICAgICAgICQoZS50YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KGNvbnRyb2xDb250YWluZXIpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKGNvbnRyb2xCb3gpXG4gICAgICAgICAgICAgICAgICAgIC5zbGlkZVRvZ2dsZSgpO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBfaW5pdCxcbiAgICAgICAgaW5pdENoZWNrQm94OiBfaW5pdENoZWNrQm94LFxuICAgICAgICBpbml0Q2hlY2tCb3hTZWxlY3RBbGw6IF9pbml0Q2hlY2tCb3hTZWxlY3RBbGwsXG4gICAgICAgIGluaXRUYWI6IF9pbml0VGFiLFxuICAgICAgICBpbml0Q2hhbmdlcjogX2luaXRDaGFuZ2VyLFxuICAgICAgICBpbml0Qm94Q29sb3I6IF9pbml0Qm94Q29sb3IsXG4gICAgICAgIGluaXRQYXJhbGxheEJsb2NrOiBfaW5pdFBhcmFsbGF4QmxvY2ssXG4gICAgICAgIGluaXRQcm9ncmVzc0xpbmU6IF9pbml0UHJvZ3Jlc3NMaW5lLFxuICAgICAgICBpbml0QWNjb3JkZW9uOiBfaW5pdEFjY29yZGVvbixcbiAgICAgICAgaW5pdENvcHlCb3g6IF9pbml0Q29weUJveCxcbiAgICAgICAgaW5pdFNsaWRlTGluZTogX2luaXRTbGlkZUxpbmUsXG4gICAgICAgIGluaXRWaWV3ZXI6IF9pbml0Vmlld2VyLFxuICAgICAgICBpbml0VmlkZW9Mb2FkZXI6IF9pbml0VmlkZW9Mb2FkZXIsXG4gICAgICAgIGluaXRTdGlja3lCbG9jazogX2luaXRTdGlja3lCbG9jayxcbiAgICAgICAgaW5pdEFkZEZvcm06IF9pbml0QWRkRm9ybSxcbiAgICAgICAgaW5pdEZpZWxkRWRpdDogX2luaXRGaWVsZEVkaXQsXG4gICAgICAgIGluaXRUaW1lcjogX2luaXRUaW1lcixcbiAgICAgICAgaW5pdENvbnRyb2xCb3g6IF9pbml0Q29udHJvbEJveCxcbiAgICB9O1xufSkoKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBb0JBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///UwsA97VU\n");

/***/ }),

/***/ "WShAcHPv":
/*!***********************************!*\
  !*** ./components/VideoLoader.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* <div class=\"video__wrap\">\r\n<div class=\"video\">\r\n    <a class=\"video__link\" href=\"https://youtu.be/vU3dN_qcLLo\">\r\n        <picture>\r\n            <source\r\n                srcset=\"https://i.ytimg.com/vi_webp/vU3dN_qcLLo/maxresdefault.webp\"\r\n                type=\"image/webp\"\r\n            />            <img\r\n                class=\"video__media\"\r\n                src=\"https://i.ytimg.com/vi/vU3dN_qcLLo/maxresdefault.jpg\"\r\n                alt=\"Ведущая Татьяна Скоцкая\"\r\n            />\r\n        </picture>\r\n    </a>\r\n    <button\r\n        class=\"video__button\"\r\n        type=\"button\"\r\n        aria-label=\"Запустить видео\"\r\n    >\r\n        <svg width=\"68\" height=\"48\" viewBox=\"0 0 68 48\">\r\n            <path\r\n                class=\"video__button-shape\"\r\n                d=\"M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z\"\r\n            ></path>\r\n            <path class=\"video__button-icon\" d=\"M 45,24 27,14 27,34\"></path>\r\n        </svg>\r\n    </button>\r\n</div>\r\n</div> */\n\n// .video {\n//     position: relative;\n//     width: 100%;\n//     height: 0;\n//     padding-bottom: 56.25%;\n//     background-color: #000000;\n\n//     &--enabled {\n//         cursor: pointer;\n\n//         & .video__button {\n//             display: block;\n//         }\n//     }\n\n//     &__link {\n//         position: absolute;\n//         top: 0;\n//         left: 0;\n//         width: 100%;\n//         height: 100%;\n//     }\n\n//     &__media {\n//         position: absolute;\n//         top: 0;\n//         left: 0;\n//         width: 100%;\n//         height: 100%;\n//         border: none;\n//     }\n\n//     &__button {\n//         position: absolute;\n//         top: 50%;\n//         left: 50%;\n//         z-index: 1;\n//         display: none;\n//         padding: 0;\n//         width: 68px;\n//         height: 48px;\n//         border: none;\n//         background-color: transparent;\n//         transform: translate(-50%, -50%);\n//         cursor: pointer;\n\n//         &:focus {\n//             outline: none;\n//         }\n//     }\n\n//     &__button-shape {\n//         fill: #212121;\n//         fill-opacity: 0.8;\n//     }\n\n//     &__button-icon {\n//         fill: #ffffff;\n//     }\n\n//     &__wrap {\n//         margin: 100px auto;\n//         width: 50vw;\n//         display: flex;\n//         justify-content: center;\n//         align-items: center;\n\n//         @include xs-block {\n//             width: 90vw;\n//         }\n//     }\n\n//     .video:hover .video__button-shape,\n//     .video__button:focus .video__button-shape {\n//         fill: #ff0000;\n//         fill-opacity: 1;\n//     }\n// }\n\nvar VideoLoader = function () {\n    function VideoLoader() {\n        _classCallCheck(this, VideoLoader);\n\n        this.videos = document.querySelectorAll('.video');\n    }\n\n    _createClass(VideoLoader, [{\n        key: 'init',\n        value: function init() {\n            if (this.videos.length) this.findVideos();\n        }\n    }, {\n        key: 'findVideos',\n        value: function findVideos() {\n            for (var i = 0; i < this.videos.length; i++) {\n                this.setupVideo(this.videos[i]);\n            }\n        }\n    }, {\n        key: 'setupVideo',\n        value: function setupVideo(video) {\n            var _this = this;\n\n            var link = video.querySelector('.video__link');\n            var media = video.querySelector('.video__media');\n            var button = video.querySelector('.video__button');\n            var id = this.parseMediaURL(media);\n\n            video.addEventListener('click', function () {\n                var iframe = _this.createIframe(id);\n\n                link.remove();\n                button.remove();\n                video.appendChild(iframe);\n            });\n\n            link.removeAttribute('href');\n            video.classList.add('video--enabled');\n        }\n    }, {\n        key: 'parseMediaURL',\n        value: function parseMediaURL(media) {\n            var regexp = /https:\\/\\/i\\.ytimg\\.com\\/vi\\/([a-zA-Z0-9_-]+)\\/maxresdefault\\.jpg/i;\n            var url = media.src;\n            var match = url.match(regexp);\n\n            return match[1];\n        }\n    }, {\n        key: 'createIframe',\n        value: function createIframe(id) {\n            var iframe = document.createElement('iframe');\n\n            iframe.setAttribute('allowfullscreen', '');\n            iframe.setAttribute('allow', 'autoplay');\n            iframe.setAttribute('src', this.generateURL(id));\n            iframe.classList.add('video__media');\n\n            return iframe;\n        }\n    }, {\n        key: 'generateURL',\n        value: function generateURL(id) {\n            var query = '?rel=0&showinfo=0&autoplay=1';\n\n            return 'https://www.youtube.com/embed/' + id + query;\n        }\n    }]);\n\n    return VideoLoader;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (VideoLoader);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV1NoQWNIUHYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvVmlkZW9Mb2FkZXIuanM/OWMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiA8ZGl2IGNsYXNzPVwidmlkZW9fX3dyYXBcIj5cclxuPGRpdiBjbGFzcz1cInZpZGVvXCI+XHJcbiAgICA8YSBjbGFzcz1cInZpZGVvX19saW5rXCIgaHJlZj1cImh0dHBzOi8veW91dHUuYmUvdlUzZE5fcWNMTG9cIj5cclxuICAgICAgICA8cGljdHVyZT5cclxuICAgICAgICAgICAgPHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgc3Jjc2V0PVwiaHR0cHM6Ly9pLnl0aW1nLmNvbS92aV93ZWJwL3ZVM2ROX3FjTExvL21heHJlc2RlZmF1bHQud2VicFwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiaW1hZ2Uvd2VicFwiXHJcbiAgICAgICAgICAgIC8+ICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ2aWRlb19fbWVkaWFcIlxyXG4gICAgICAgICAgICAgICAgc3JjPVwiaHR0cHM6Ly9pLnl0aW1nLmNvbS92aS92VTNkTl9xY0xMby9tYXhyZXNkZWZhdWx0LmpwZ1wiXHJcbiAgICAgICAgICAgICAgICBhbHQ9XCLQktC10LTRg9GJ0LDRjyDQotCw0YLRjNGP0L3QsCDQodC60L7RhtC60LDRj1wiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9waWN0dXJlPlxyXG4gICAgPC9hPlxyXG4gICAgPGJ1dHRvblxyXG4gICAgICAgIGNsYXNzPVwidmlkZW9fX2J1dHRvblwiXHJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgYXJpYS1sYWJlbD1cItCX0LDQv9GD0YHRgtC40YLRjCDQstC40LTQtdC+XCJcclxuICAgID5cclxuICAgICAgICA8c3ZnIHdpZHRoPVwiNjhcIiBoZWlnaHQ9XCI0OFwiIHZpZXdCb3g9XCIwIDAgNjggNDhcIj5cclxuICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwidmlkZW9fX2J1dHRvbi1zaGFwZVwiXHJcbiAgICAgICAgICAgICAgICBkPVwiTTY2LjUyLDcuNzRjLTAuNzgtMi45My0yLjQ5LTUuNDEtNS40Mi02LjE5QzU1Ljc5LC4xMywzNCwwLDM0LDBTMTIuMjEsLjEzLDYuOSwxLjU1IEMzLjk3LDIuMzMsMi4yNyw0LjgxLDEuNDgsNy43NEMwLjA2LDEzLjA1LDAsMjQsMCwyNHMwLjA2LDEwLjk1LDEuNDgsMTYuMjZjMC43OCwyLjkzLDIuNDksNS40MSw1LjQyLDYuMTkgQzEyLjIxLDQ3Ljg3LDM0LDQ4LDM0LDQ4czIxLjc5LTAuMTMsMjcuMS0xLjU1YzIuOTMtMC43OCw0LjY0LTMuMjYsNS40Mi02LjE5QzY3Ljk0LDM0Ljk1LDY4LDI0LDY4LDI0UzY3Ljk0LDEzLjA1LDY2LjUyLDcuNzR6XCJcclxuICAgICAgICAgICAgPjwvcGF0aD5cclxuICAgICAgICAgICAgPHBhdGggY2xhc3M9XCJ2aWRlb19fYnV0dG9uLWljb25cIiBkPVwiTSA0NSwyNCAyNywxNCAyNywzNFwiPjwvcGF0aD5cclxuICAgICAgICA8L3N2Zz5cclxuICAgIDwvYnV0dG9uPlxyXG48L2Rpdj5cclxuPC9kaXY+ICovXHJcblxyXG4vLyAudmlkZW8ge1xyXG4vLyAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4vLyAgICAgd2lkdGg6IDEwMCU7XHJcbi8vICAgICBoZWlnaHQ6IDA7XHJcbi8vICAgICBwYWRkaW5nLWJvdHRvbTogNTYuMjUlO1xyXG4vLyAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDtcclxuXHJcbi8vICAgICAmLS1lbmFibGVkIHtcclxuLy8gICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4vLyAgICAgICAgICYgLnZpZGVvX19idXR0b24ge1xyXG4vLyAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJl9fbGluayB7XHJcbi8vICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgICAgIHRvcDogMDtcclxuLy8gICAgICAgICBsZWZ0OiAwO1xyXG4vLyAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4vLyAgICAgICAgIGhlaWdodDogMTAwJTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAmX19tZWRpYSB7XHJcbi8vICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgICAgIHRvcDogMDtcclxuLy8gICAgICAgICBsZWZ0OiAwO1xyXG4vLyAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4vLyAgICAgICAgIGhlaWdodDogMTAwJTtcclxuLy8gICAgICAgICBib3JkZXI6IG5vbmU7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJl9fYnV0dG9uIHtcclxuLy8gICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbi8vICAgICAgICAgdG9wOiA1MCU7XHJcbi8vICAgICAgICAgbGVmdDogNTAlO1xyXG4vLyAgICAgICAgIHotaW5kZXg6IDE7XHJcbi8vICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuLy8gICAgICAgICBwYWRkaW5nOiAwO1xyXG4vLyAgICAgICAgIHdpZHRoOiA2OHB4O1xyXG4vLyAgICAgICAgIGhlaWdodDogNDhweDtcclxuLy8gICAgICAgICBib3JkZXI6IG5vbmU7XHJcbi8vICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbi8vICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbi8vICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuLy8gICAgICAgICAmOmZvY3VzIHtcclxuLy8gICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJl9fYnV0dG9uLXNoYXBlIHtcclxuLy8gICAgICAgICBmaWxsOiAjMjEyMTIxO1xyXG4vLyAgICAgICAgIGZpbGwtb3BhY2l0eTogMC44O1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgICZfX2J1dHRvbi1pY29uIHtcclxuLy8gICAgICAgICBmaWxsOiAjZmZmZmZmO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgICZfX3dyYXAge1xyXG4vLyAgICAgICAgIG1hcmdpbjogMTAwcHggYXV0bztcclxuLy8gICAgICAgICB3aWR0aDogNTB2dztcclxuLy8gICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4vLyAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4vLyAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4vLyAgICAgICAgIEBpbmNsdWRlIHhzLWJsb2NrIHtcclxuLy8gICAgICAgICAgICAgd2lkdGg6IDkwdnc7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC52aWRlbzpob3ZlciAudmlkZW9fX2J1dHRvbi1zaGFwZSxcclxuLy8gICAgIC52aWRlb19fYnV0dG9uOmZvY3VzIC52aWRlb19fYnV0dG9uLXNoYXBlIHtcclxuLy8gICAgICAgICBmaWxsOiAjZmYwMDAwO1xyXG4vLyAgICAgICAgIGZpbGwtb3BhY2l0eTogMTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlkZW9Mb2FkZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy52aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmlkZW8nKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZGVvcy5sZW5ndGgpIHRoaXMuZmluZFZpZGVvcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRWaWRlb3MoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZpZGVvcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwVmlkZW8odGhpcy52aWRlb3NbaV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFZpZGVvKHZpZGVvKSB7XHJcbiAgICAgICAgbGV0IGxpbmsgPSB2aWRlby5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX2xpbmsnKTtcclxuICAgICAgICBsZXQgbWVkaWEgPSB2aWRlby5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX21lZGlhJyk7XHJcbiAgICAgICAgbGV0IGJ1dHRvbiA9IHZpZGVvLnF1ZXJ5U2VsZWN0b3IoJy52aWRlb19fYnV0dG9uJyk7XHJcbiAgICAgICAgbGV0IGlkID0gdGhpcy5wYXJzZU1lZGlhVVJMKG1lZGlhKTtcclxuXHJcbiAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpZnJhbWUgPSB0aGlzLmNyZWF0ZUlmcmFtZShpZCk7XHJcblxyXG4gICAgICAgICAgICBsaW5rLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGlmcmFtZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgdmlkZW8uY2xhc3NMaXN0LmFkZCgndmlkZW8tLWVuYWJsZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZU1lZGlhVVJMKG1lZGlhKSB7XHJcbiAgICAgICAgbGV0IHJlZ2V4cCA9IC9odHRwczpcXC9cXC9pXFwueXRpbWdcXC5jb21cXC92aVxcLyhbYS16QS1aMC05Xy1dKylcXC9tYXhyZXNkZWZhdWx0XFwuanBnL2k7XHJcbiAgICAgICAgbGV0IHVybCA9IG1lZGlhLnNyYztcclxuICAgICAgICBsZXQgbWF0Y2ggPSB1cmwubWF0Y2gocmVnZXhwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1hdGNoWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUlmcmFtZShpZCkge1xyXG4gICAgICAgIGxldCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcclxuXHJcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYWxsb3dmdWxsc2NyZWVuJywgJycpO1xyXG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FsbG93JywgJ2F1dG9wbGF5Jyk7XHJcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5nZW5lcmF0ZVVSTChpZCkpO1xyXG4gICAgICAgIGlmcmFtZS5jbGFzc0xpc3QuYWRkKCd2aWRlb19fbWVkaWEnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlmcmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZVVSTChpZCkge1xyXG4gICAgICAgIGxldCBxdWVyeSA9ICc/cmVsPTAmc2hvd2luZm89MCZhdXRvcGxheT0xJztcclxuXHJcbiAgICAgICAgcmV0dXJuICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICsgaWQgKyBxdWVyeTtcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQXhEQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///WShAcHPv\n");

/***/ }),

/***/ "baVHU8iN":
/*!*****************************************!*\
  !*** ./_lib/stickyBlockResizeSensor.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(jQuery) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n/**\n * Copyright Marc J. Schmidt. See the LICENSE file at the top-level\n * directory of this distribution and at\n * https://github.com/marcj/css-element-queries/blob/master/LICENSE.\n */\n(function(root, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n})(typeof window !== 'undefined' ? window : this, function() {\n    // Make sure it does not throw in a SSR (Server Side Rendering) situation\n    if (typeof window === 'undefined') {\n        return null;\n    }\n    // Only used for the dirty checking, so the event callback count is limited to max 1 call per fps per sensor.\n    // In combination with the event based resize sensor this saves cpu time, because the sensor is too fast and\n    // would generate too many unnecessary events.\n    var requestAnimationFrame =\n        window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        function(fn) {\n            return window.setTimeout(fn, 20);\n        };\n\n    /**\n     * Iterate over each of the provided element(s).\n     *\n     * @param {HTMLElement|HTMLElement[]} elements\n     * @param {Function}                  callback\n     */\n    function forEachElement(elements, callback) {\n        var elementsType = Object.prototype.toString.call(elements);\n        var isCollectionTyped =\n            '[object Array]' === elementsType ||\n            '[object NodeList]' === elementsType ||\n            '[object HTMLCollection]' === elementsType ||\n            '[object Object]' === elementsType ||\n            ('undefined' !== typeof jQuery && elements instanceof jQuery) || //jquery\n            ('undefined' !== typeof Elements && elements instanceof Elements); //mootools\n        var i = 0,\n            j = elements.length;\n        if (isCollectionTyped) {\n            for (; i < j; i++) {\n                callback(elements[i]);\n            }\n        } else {\n            callback(elements);\n        }\n    }\n\n    /**\n     * Get element size\n     * @param {HTMLElement} element\n     * @returns {Object} {width, height}\n     */\n    function getElementSize(element) {\n        if (!element.getBoundingClientRect) {\n            return {\n                width: element.offsetWidth,\n                height: element.offsetHeight,\n            };\n        }\n\n        var rect = element.getBoundingClientRect();\n        return {\n            width: Math.round(rect.width),\n            height: Math.round(rect.height),\n        };\n    }\n\n    /**\n     * Class for dimension change detection.\n     *\n     * @param {Element|Element[]|Elements|jQuery} element\n     * @param {Function} callback\n     *\n     * @constructor\n     */\n    var ResizeSensor = function(element, callback) {\n        var observer;\n\n        /**\n         *\n         * @constructor\n         */\n        function EventQueue() {\n            var q = [];\n            this.add = function(ev) {\n                q.push(ev);\n            };\n\n            var i, j;\n            this.call = function(sizeInfo) {\n                for (i = 0, j = q.length; i < j; i++) {\n                    q[i].call(this, sizeInfo);\n                }\n            };\n\n            this.remove = function(ev) {\n                var newQueue = [];\n                for (i = 0, j = q.length; i < j; i++) {\n                    if (q[i] !== ev) newQueue.push(q[i]);\n                }\n                q = newQueue;\n            };\n\n            this.length = function() {\n                return q.length;\n            };\n        }\n\n        /**\n         *\n         * @param {HTMLElement} element\n         * @param {Function}    resized\n         */\n        function attachResizeEvent(element, resized) {\n            if (!element) return;\n            if (element.resizedAttached) {\n                element.resizedAttached.add(resized);\n                return;\n            }\n\n            element.resizedAttached = new EventQueue();\n            element.resizedAttached.add(resized);\n\n            element.resizeSensor = document.createElement('div');\n            element.resizeSensor.dir = 'ltr';\n            element.resizeSensor.className = 'resize-sensor';\n            var style =\n                'position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;';\n            var styleChild =\n                'position: absolute; left: 0; top: 0; transition: 0s;';\n\n            element.resizeSensor.style.cssText = style;\n            element.resizeSensor.innerHTML =\n                '<div class=\"resize-sensor-expand\" style=\"' +\n                style +\n                '\">' +\n                '<div style=\"' +\n                styleChild +\n                '\"></div>' +\n                '</div>' +\n                '<div class=\"resize-sensor-shrink\" style=\"' +\n                style +\n                '\">' +\n                '<div style=\"' +\n                styleChild +\n                ' width: 200%; height: 200%\"></div>' +\n                '</div>';\n            element.appendChild(element.resizeSensor);\n\n            var position = window\n                .getComputedStyle(element)\n                .getPropertyValue('position');\n            if (\n                'absolute' !== position &&\n                'relative' !== position &&\n                'fixed' !== position\n            ) {\n                element.style.position = 'relative';\n            }\n\n            var expand = element.resizeSensor.childNodes[0];\n            var expandChild = expand.childNodes[0];\n            var shrink = element.resizeSensor.childNodes[1];\n\n            var dirty, rafId;\n            var size = getElementSize(element);\n            var lastWidth = size.width;\n            var lastHeight = size.height;\n            var initialHiddenCheck = true,\n                resetRAF_id;\n\n            var resetExpandShrink = function() {\n                expandChild.style.width = '100000px';\n                expandChild.style.height = '100000px';\n\n                expand.scrollLeft = 100000;\n                expand.scrollTop = 100000;\n\n                shrink.scrollLeft = 100000;\n                shrink.scrollTop = 100000;\n            };\n\n            var reset = function() {\n                // Check if element is hidden\n                if (initialHiddenCheck) {\n                    if (!expand.scrollTop && !expand.scrollLeft) {\n                        // reset\n                        resetExpandShrink();\n\n                        // Check in next frame\n                        if (!resetRAF_id) {\n                            resetRAF_id = requestAnimationFrame(function() {\n                                resetRAF_id = 0;\n\n                                reset();\n                            });\n                        }\n\n                        return;\n                    } else {\n                        // Stop checking\n                        initialHiddenCheck = false;\n                    }\n                }\n\n                resetExpandShrink();\n            };\n            element.resizeSensor.resetSensor = reset;\n\n            var onResized = function() {\n                rafId = 0;\n\n                if (!dirty) return;\n\n                lastWidth = size.width;\n                lastHeight = size.height;\n\n                if (element.resizedAttached) {\n                    element.resizedAttached.call(size);\n                }\n            };\n\n            var onScroll = function() {\n                size = getElementSize(element);\n                dirty = size.width !== lastWidth || size.height !== lastHeight;\n\n                if (dirty && !rafId) {\n                    rafId = requestAnimationFrame(onResized);\n                }\n\n                reset();\n            };\n\n            var addEvent = function(el, name, cb) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + name, cb);\n                } else {\n                    el.addEventListener(name, cb);\n                }\n            };\n\n            addEvent(expand, 'scroll', onScroll);\n            addEvent(shrink, 'scroll', onScroll);\n\n            // Fix for custom Elements\n            requestAnimationFrame(reset);\n        }\n\n        if (typeof ResizeObserver !== 'undefined') {\n            observer = new ResizeObserver(function(element) {\n                forEachElement(element, function(elem) {\n                    callback.call(this, {\n                        width: elem.contentRect.width,\n                        height: elem.contentRect.height,\n                    });\n                });\n            });\n            if (element !== undefined) {\n                forEachElement(element, function(elem) {\n                    observer.observe(elem);\n                });\n            }\n        } else {\n            forEachElement(element, function(elem) {\n                attachResizeEvent(elem, callback);\n            });\n        }\n\n        this.detach = function(ev) {\n            if (typeof ResizeObserver != 'undefined') {\n                forEachElement(element, function(elem) {\n                    observer.unobserve(elem);\n                });\n            } else {\n                ResizeSensor.detach(element, ev);\n            }\n        };\n\n        this.reset = function() {\n            element.resizeSensor.resetSensor();\n        };\n    };\n\n    ResizeSensor.reset = function(element, ev) {\n        forEachElement(element, function(elem) {\n            elem.resizeSensor.resetSensor();\n        });\n    };\n\n    ResizeSensor.detach = function(element, ev) {\n        forEachElement(element, function(elem) {\n            if (!elem) return;\n            if (elem.resizedAttached && typeof ev === 'function') {\n                elem.resizedAttached.remove(ev);\n                if (elem.resizedAttached.length()) return;\n            }\n            if (elem.resizeSensor) {\n                if (elem.contains(elem.resizeSensor)) {\n                    elem.removeChild(elem.resizeSensor);\n                }\n                delete elem.resizeSensor;\n                delete elem.resizedAttached;\n            }\n        });\n    };\n\n    return ResizeSensor;\n});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFWSFU4aU4uanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fbGliL3N0aWNreUJsb2NrUmVzaXplU2Vuc29yLmpzPzZkYTUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCBNYXJjIEouIFNjaG1pZHQuIFNlZSB0aGUgTElDRU5TRSBmaWxlIGF0IHRoZSB0b3AtbGV2ZWxcbiAqIGRpcmVjdG9yeSBvZiB0aGlzIGRpc3RyaWJ1dGlvbiBhbmQgYXRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJjai9jc3MtZWxlbWVudC1xdWVyaWVzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UuXG4gKi9cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5SZXNpemVTZW5zb3IgPSBmYWN0b3J5KCk7XG4gICAgfVxufSkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigpIHtcbiAgICAvLyBNYWtlIHN1cmUgaXQgZG9lcyBub3QgdGhyb3cgaW4gYSBTU1IgKFNlcnZlciBTaWRlIFJlbmRlcmluZykgc2l0dWF0aW9uXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBPbmx5IHVzZWQgZm9yIHRoZSBkaXJ0eSBjaGVja2luZywgc28gdGhlIGV2ZW50IGNhbGxiYWNrIGNvdW50IGlzIGxpbWl0ZWQgdG8gbWF4IDEgY2FsbCBwZXIgZnBzIHBlciBzZW5zb3IuXG4gICAgLy8gSW4gY29tYmluYXRpb24gd2l0aCB0aGUgZXZlbnQgYmFzZWQgcmVzaXplIHNlbnNvciB0aGlzIHNhdmVzIGNwdSB0aW1lLCBiZWNhdXNlIHRoZSBzZW5zb3IgaXMgdG9vIGZhc3QgYW5kXG4gICAgLy8gd291bGQgZ2VuZXJhdGUgdG9vIG1hbnkgdW5uZWNlc3NhcnkgZXZlbnRzLlxuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPVxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICBmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZuLCAyMCk7XG4gICAgICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIG92ZXIgZWFjaCBvZiB0aGUgcHJvdmlkZWQgZWxlbWVudChzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8SFRNTEVsZW1lbnRbXX0gZWxlbWVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICAgICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaEVsZW1lbnQoZWxlbWVudHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBlbGVtZW50c1R5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZWxlbWVudHMpO1xuICAgICAgICB2YXIgaXNDb2xsZWN0aW9uVHlwZWQgPVxuICAgICAgICAgICAgJ1tvYmplY3QgQXJyYXldJyA9PT0gZWxlbWVudHNUeXBlIHx8XG4gICAgICAgICAgICAnW29iamVjdCBOb2RlTGlzdF0nID09PSBlbGVtZW50c1R5cGUgfHxcbiAgICAgICAgICAgICdbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXScgPT09IGVsZW1lbnRzVHlwZSB8fFxuICAgICAgICAgICAgJ1tvYmplY3QgT2JqZWN0XScgPT09IGVsZW1lbnRzVHlwZSB8fFxuICAgICAgICAgICAgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgalF1ZXJ5ICYmIGVsZW1lbnRzIGluc3RhbmNlb2YgalF1ZXJ5KSB8fCAvL2pxdWVyeVxuICAgICAgICAgICAgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgRWxlbWVudHMgJiYgZWxlbWVudHMgaW5zdGFuY2VvZiBFbGVtZW50cyk7IC8vbW9vdG9vbHNcbiAgICAgICAgdmFyIGkgPSAwLFxuICAgICAgICAgICAgaiA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgaWYgKGlzQ29sbGVjdGlvblR5cGVkKSB7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVsZW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBlbGVtZW50IHNpemVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge09iamVjdH0ge3dpZHRoLCBoZWlnaHR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudFNpemUoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQocmVjdC53aWR0aCksXG4gICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQocmVjdC5oZWlnaHQpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsYXNzIGZvciBkaW1lbnNpb24gY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W118RWxlbWVudHN8alF1ZXJ5fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIHZhciBSZXNpemVTZW5zb3IgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgb2JzZXJ2ZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gRXZlbnRRdWV1ZSgpIHtcbiAgICAgICAgICAgIHZhciBxID0gW107XG4gICAgICAgICAgICB0aGlzLmFkZCA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICAgICAgcS5wdXNoKGV2KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBpLCBqO1xuICAgICAgICAgICAgdGhpcy5jYWxsID0gZnVuY3Rpb24oc2l6ZUluZm8pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBqID0gcS5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcVtpXS5jYWxsKHRoaXMsIHNpemVJbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1F1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaiA9IHEubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChxW2ldICE9PSBldikgbmV3UXVldWUucHVzaChxW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcSA9IG5ld1F1ZXVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcS5sZW5ndGg7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gICAgcmVzaXplZFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYXR0YWNoUmVzaXplRXZlbnQoZWxlbWVudCwgcmVzaXplZCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5yZXNpemVkQXR0YWNoZWQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlc2l6ZWRBdHRhY2hlZC5hZGQocmVzaXplZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGVtZW50LnJlc2l6ZWRBdHRhY2hlZCA9IG5ldyBFdmVudFF1ZXVlKCk7XG4gICAgICAgICAgICBlbGVtZW50LnJlc2l6ZWRBdHRhY2hlZC5hZGQocmVzaXplZCk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQucmVzaXplU2Vuc29yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBlbGVtZW50LnJlc2l6ZVNlbnNvci5kaXIgPSAnbHRyJztcbiAgICAgICAgICAgIGVsZW1lbnQucmVzaXplU2Vuc29yLmNsYXNzTmFtZSA9ICdyZXNpemUtc2Vuc29yJztcbiAgICAgICAgICAgIHZhciBzdHlsZSA9XG4gICAgICAgICAgICAgICAgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTEwcHg7IHRvcDogLTEwcHg7IHJpZ2h0OiAwOyBib3R0b206IDA7IG92ZXJmbG93OiBoaWRkZW47IHotaW5kZXg6IC0xOyB2aXNpYmlsaXR5OiBoaWRkZW47JztcbiAgICAgICAgICAgIHZhciBzdHlsZUNoaWxkID1cbiAgICAgICAgICAgICAgICAncG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHRyYW5zaXRpb246IDBzOyc7XG5cbiAgICAgICAgICAgIGVsZW1lbnQucmVzaXplU2Vuc29yLnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVzaXplU2Vuc29yLmlubmVySFRNTCA9XG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZXNpemUtc2Vuc29yLWV4cGFuZFwiIHN0eWxlPVwiJyArXG4gICAgICAgICAgICAgICAgc3R5bGUgK1xuICAgICAgICAgICAgICAgICdcIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cIicgK1xuICAgICAgICAgICAgICAgIHN0eWxlQ2hpbGQgK1xuICAgICAgICAgICAgICAgICdcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJyZXNpemUtc2Vuc29yLXNocmlua1wiIHN0eWxlPVwiJyArXG4gICAgICAgICAgICAgICAgc3R5bGUgK1xuICAgICAgICAgICAgICAgICdcIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cIicgK1xuICAgICAgICAgICAgICAgIHN0eWxlQ2hpbGQgK1xuICAgICAgICAgICAgICAgICcgd2lkdGg6IDIwMCU7IGhlaWdodDogMjAwJVwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50LnJlc2l6ZVNlbnNvcik7XG5cbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHdpbmRvd1xuICAgICAgICAgICAgICAgIC5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoJ3Bvc2l0aW9uJyk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgJ2Fic29sdXRlJyAhPT0gcG9zaXRpb24gJiZcbiAgICAgICAgICAgICAgICAncmVsYXRpdmUnICE9PSBwb3NpdGlvbiAmJlxuICAgICAgICAgICAgICAgICdmaXhlZCcgIT09IHBvc2l0aW9uXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGV4cGFuZCA9IGVsZW1lbnQucmVzaXplU2Vuc29yLmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgICB2YXIgZXhwYW5kQ2hpbGQgPSBleHBhbmQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgIHZhciBzaHJpbmsgPSBlbGVtZW50LnJlc2l6ZVNlbnNvci5jaGlsZE5vZGVzWzFdO1xuXG4gICAgICAgICAgICB2YXIgZGlydHksIHJhZklkO1xuICAgICAgICAgICAgdmFyIHNpemUgPSBnZXRFbGVtZW50U2l6ZShlbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBsYXN0V2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICAgICAgdmFyIGxhc3RIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICAgICAgICAgIHZhciBpbml0aWFsSGlkZGVuQ2hlY2sgPSB0cnVlLFxuICAgICAgICAgICAgICAgIHJlc2V0UkFGX2lkO1xuXG4gICAgICAgICAgICB2YXIgcmVzZXRFeHBhbmRTaHJpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBleHBhbmRDaGlsZC5zdHlsZS53aWR0aCA9ICcxMDAwMDBweCc7XG4gICAgICAgICAgICAgICAgZXhwYW5kQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gJzEwMDAwMHB4JztcblxuICAgICAgICAgICAgICAgIGV4cGFuZC5zY3JvbGxMZWZ0ID0gMTAwMDAwO1xuICAgICAgICAgICAgICAgIGV4cGFuZC5zY3JvbGxUb3AgPSAxMDAwMDA7XG5cbiAgICAgICAgICAgICAgICBzaHJpbmsuc2Nyb2xsTGVmdCA9IDEwMDAwMDtcbiAgICAgICAgICAgICAgICBzaHJpbmsuc2Nyb2xsVG9wID0gMTAwMDAwO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZWxlbWVudCBpcyBoaWRkZW5cbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbEhpZGRlbkNoZWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXhwYW5kLnNjcm9sbFRvcCAmJiAhZXhwYW5kLnNjcm9sbExlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldEV4cGFuZFNocmluaygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpbiBuZXh0IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc2V0UkFGX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRSQUZfaWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0UkFGX2lkID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIGNoZWNraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsSGlkZGVuQ2hlY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc2V0RXhwYW5kU2hyaW5rKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZWxlbWVudC5yZXNpemVTZW5zb3IucmVzZXRTZW5zb3IgPSByZXNldDtcblxuICAgICAgICAgICAgdmFyIG9uUmVzaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJhZklkID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICghZGlydHkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGxhc3RXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgICAgICAgICAgbGFzdEhlaWdodCA9IHNpemUuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQucmVzaXplZEF0dGFjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVzaXplZEF0dGFjaGVkLmNhbGwoc2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG9uU2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IGdldEVsZW1lbnRTaXplKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGRpcnR5ID0gc2l6ZS53aWR0aCAhPT0gbGFzdFdpZHRoIHx8IHNpemUuaGVpZ2h0ICE9PSBsYXN0SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpcnR5ICYmICFyYWZJZCkge1xuICAgICAgICAgICAgICAgICAgICByYWZJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShvblJlc2l6ZWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgYWRkRXZlbnQgPSBmdW5jdGlvbihlbCwgbmFtZSwgY2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIG5hbWUsIGNiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGNiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhZGRFdmVudChleHBhbmQsICdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgICAgICBhZGRFdmVudChzaHJpbmssICdzY3JvbGwnLCBvblNjcm9sbCk7XG5cbiAgICAgICAgICAgIC8vIEZpeCBmb3IgY3VzdG9tIEVsZW1lbnRzXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBmb3JFYWNoRWxlbWVudChlbGVtZW50LCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGVsZW0uY29udGVudFJlY3Qud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGVsZW0uY29udGVudFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZvckVhY2hFbGVtZW50KGVsZW1lbnQsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvckVhY2hFbGVtZW50KGVsZW1lbnQsIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgICAgICBhdHRhY2hSZXNpemVFdmVudChlbGVtLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBmb3JFYWNoRWxlbWVudChlbGVtZW50LCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgUmVzaXplU2Vuc29yLmRldGFjaChlbGVtZW50LCBldik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZXNpemVTZW5zb3IucmVzZXRTZW5zb3IoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgUmVzaXplU2Vuc29yLnJlc2V0ID0gZnVuY3Rpb24oZWxlbWVudCwgZXYpIHtcbiAgICAgICAgZm9yRWFjaEVsZW1lbnQoZWxlbWVudCwgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgZWxlbS5yZXNpemVTZW5zb3IucmVzZXRTZW5zb3IoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFJlc2l6ZVNlbnNvci5kZXRhY2ggPSBmdW5jdGlvbihlbGVtZW50LCBldikge1xuICAgICAgICBmb3JFYWNoRWxlbWVudChlbGVtZW50LCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICBpZiAoIWVsZW0pIHJldHVybjtcbiAgICAgICAgICAgIGlmIChlbGVtLnJlc2l6ZWRBdHRhY2hlZCAmJiB0eXBlb2YgZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBlbGVtLnJlc2l6ZWRBdHRhY2hlZC5yZW1vdmUoZXYpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtLnJlc2l6ZWRBdHRhY2hlZC5sZW5ndGgoKSkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW0ucmVzaXplU2Vuc29yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW0uY29udGFpbnMoZWxlbS5yZXNpemVTZW5zb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2hpbGQoZWxlbS5yZXNpemVTZW5zb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgZWxlbS5yZXNpemVTZW5zb3I7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGVsZW0ucmVzaXplZEF0dGFjaGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlc2l6ZVNlbnNvcjtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0EsYUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///baVHU8iN\n");

/***/ }),

/***/ "cD6eWrej":
/*!********************************!*\
  !*** ./components/Dropdown.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* html example\r\n<div\r\n    class=\"bb-dropdown bb-dropdown--small bb-dropdown--transform bb-dropdown--hover js-bb-dropdown\"\r\n    data-dropdown-position=\"right\"\r\n>\r\n\t<div class=\"bb-dropdown__list\">\r\n\t</div>\r\n</div>\r\n*/\n\nBB.define('Component.Dropdown');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Component.Dropdown = function () {\n    var dropdown = void 0,\n        list = void 0,\n        _this = void 0,\n        wrapper = void 0,\n        overlay = void 0;\n\n    var ACTIVE_CLASS = 'is-active';\n    var VISIBLE_CLASS = 'is-visible';\n    var DROPDOWN_OWERLAY_CLASS = 'overlay--dropdown';\n    var open = false;\n\n    var btnDropdownClose = '<button class=\"btn-icon btn-icon--close js-bb-dropdown--close\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"icon icon-close\" viewBox=\"0 0 512 512\"><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249\\n        C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306\\n        C514.019,27.23,514.019,14.135,505.943,6.058z\"/>\\n            <path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636\\n        c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></svg></button>';\n\n    var styleTransformMenu = 'display: block; position: fixed; top: auto; bottom: 10px; left: 10px; right: 10px; z-index: 9999';\n\n    var styleTransformInfo = 'display: block; position: fixed; bottom: 0; left: 0; right: 0; z-index: 9999';\n\n    /**\r\n     * Функция инициализации dropdown\r\n     * @param node DOM элемен в котором нужно инициализировать dropdown\r\n     */\n\n    function _init(node) {\n        var element = void 0;\n        if (typeof node == 'undefined') {\n            element = document.body;\n        } else {\n            element = node;\n        }\n\n        // dropdown = element.querySelectorAll('.js-bb-dropdown');\n        wrapper = document.querySelector('.wrapper');\n        overlay = document.querySelector('.js-overlay');\n\n        _initSetPosition(element);\n        _addEventListener(element);\n        _transform(element, _render);\n    }\n\n    /**\r\n     * Метод устанавливающий позицию отображения dropdown\r\n     * @param element DOM елемент содержащий dropdown у которого нужно установить позицию отображения\r\n     */\n    function _initSetPosition(element) {\n        element.querySelectorAll('.js-bb-dropdown').forEach(function (block) {\n            _setPosition(block);\n            /**\r\n             * Проверка и установка слушателей наведения\r\n             */\n            if (block.classList.contains('bb-dropdown--hover') && document.documentElement.offsetWidth > 768) {\n                block.removeEventListener('mouseover', _mouseoverDropdown);\n                block.addEventListener('mouseover', _mouseoverDropdown);\n\n                block.removeEventListener('mouseout', _mouseoutDropdown);\n                block.addEventListener('mouseout', _mouseoutDropdown);\n            } else {\n                block.classList.remove('bb-dropdown--hover');\n            }\n        });\n    }\n\n    /**\r\n     * Метод для события mouseover на dropdown\r\n     * @param e event события mouseover\r\n     */\n    function _mouseoverDropdown(e) {\n        var dropdownHover = e.target.closest('.js-bb-dropdown');\n        _setPosition(dropdownHover, function () {\n            dropdownHover.classList.add('hover');\n        });\n        dropdownHover.querySelectorAll('.info-block__item').forEach(function (item) {\n            item.removeEventListener('click', _close);\n            item.addEventListener('click', _close);\n        });\n    }\n\n    /**\r\n     * Метод для события mouseout на dropdown\r\n     * @param e event события mouseout\r\n     */\n    function _mouseoutDropdown(e) {\n        e.target.closest('.js-bb-dropdown').classList.remove('hover');\n    }\n\n    /**\r\n     * Метод добавления и отрисовки мобильного dropdown\r\n     * @param arg Строка с уникальным селектором или DOM элемент где нужно произвести рендер\r\n     */\n    function _render(arg) {\n        var dropdown = void 0;\n        var element = void 0;\n\n        if (typeof arg == 'string') {\n            element = document.querySelector(arg);\n        }\n        {\n            element = arg;\n        }\n\n        if (element.classList) {\n            if (document.documentElement.offsetWidth <= 768) {\n                if (element.classList.contains('.js-bb-dropdown.bb-dropdown--transform')) {\n                    dropdown = element;\n                    var btnClose = '<button class=\"bb-dropdown__close js-bb-dropdown--close\">Закрыть</button>';\n                    var dropdownOverlay = '<div class=\"bb-dropdown__overlay\">';\n\n                    var dropdownList = dropdown.querySelector('.bb-dropdown__list');\n                    dropdownList.querySelectorAll('.info-block__icon').forEach(function (block) {\n                        block.remove();\n                    });\n                    dropdownList.insertAdjacentHTML('beforeEnd', btnClose);\n                    dropdownList.insertAdjacentHTML('afterEnd', dropdownOverlay);\n                } else {\n                    dropdown = element.querySelectorAll('.js-bb-dropdown.bb-dropdown--transform');\n                    dropdown.forEach(function (block) {\n                        var btnClose = '<button class=\"bb-dropdown__close js-bb-dropdown--close\">Закрыть</button>';\n                        var dropdownOverlay = '<div class=\"bb-dropdown__overlay\">';\n\n                        var dropdownList = block.querySelector('.bb-dropdown__list');\n                        dropdownList.querySelectorAll('.info-block__icon').forEach(function (block) {\n                            block.remove();\n                        });\n                        dropdownList.insertAdjacentHTML('beforeEnd', btnClose);\n                        dropdownList.insertAdjacentHTML('afterEnd', dropdownOverlay);\n                    });\n                }\n            }\n        } else {\n            if (true) {\n                console.error('Ошибка аргумента переданом в Dropdown.render(). Передаваемый параметр должен быть DOM елементом или строкой с УНИКАЛЬНЫМ селектором');\n            }\n            return;\n        }\n    }\n\n    /**\r\n     * Эвенты кликов по основным элементам\r\n     * @param element DOM элемент в котором нужно проинициальзировать прослушку событий dropdown\r\n     */\n    function _addEventListener(element) {\n        element.querySelectorAll('.js-bb-dropdown').forEach(function (block) {\n            block.removeEventListener('click', _dropdownOpen);\n            block.addEventListener('click', _dropdownOpen);\n        });\n\n        //Скрываем дропдаун по клику в не блока\n\n        // let link = document.querySelectorAll(\n        //     '.bb-dropdown__list .info-block__item, .bb-dropdown__list .info-block__link'\n        // );\n        // link.forEach(block => {\n        //     block.removeEventListener('click', _closeHard);\n        //     block.addEventListener('click', _closeHard);\n        // });\n\n        //Скрываем dropdown по клику на кнопку\n        element.querySelectorAll('.js-bb-dropdown--close').forEach(function (block) {\n            block.removeEventListener('click', _close);\n            block.addEventListener('click', _close);\n        });\n    }\n\n    /**\r\n     * Метод закрытия dropdown по клику вне dropdown\r\n     * @param e event\r\n     */\n    function _dropdownClickOutClose(e) {\n        if (e.target.closest('.js-bb-dropdown')) return;\n        document.querySelectorAll('.js-bb-dropdown.is-active').forEach(function (block) {\n            block.classList.remove(ACTIVE_CLASS);\n        });\n        document.removeEventListener('click', _dropdownClickOutClose);\n        open = false;\n    }\n\n    /**\r\n     * Метод закрытия dropdown по клику на overlay\r\n     * @param e event\r\n     */\n    function _overlayClickDropdownClose(e) {\n        open = false;\n        document.querySelectorAll('.js-bb-dropdown.is-active').forEach(function (block) {\n            block.classList.remove(ACTIVE_CLASS);\n        });\n        _close(e);\n    }\n\n    /**\r\n     * Метод открытия dropdown\r\n     * @param e event\r\n     */\n    function _dropdownOpen(e) {\n        // e.stopPropagation()\n        _this = e.target.closest('.js-bb-dropdown');\n        list = _this.querySelector('.bb-dropdown__list');\n\n        document.querySelectorAll('.js-bb-dropdown.is-active').forEach(function (block) {\n            block.classList.remove(ACTIVE_CLASS);\n        });\n\n        if (document.documentElement.offsetWidth > 768) {\n            _toggle(_this);\n        } else {\n            if (!_this.classList.contains('bb-dropdown--another')) {\n                wrapper.setAttribute('inert', '');\n                wrapper.setAttribute('tabindex', '-1');\n                document.documentElement.style.overflowY = 'hidden';\n                document.body.style.overflowY = 'hidden';\n                open = true;\n\n                //Анимация выпадающего списка\n                if (_this.classList.contains('bb-dropdown--transform')) {\n                    list.style.cssText = styleTransformMenu;\n                    list.classList.add('_transform');\n                } else {\n                    list.insertAdjacentHTML('afterBegin', btnDropdownClose);\n                    list.style.cssText = styleTransformInfo;\n                    list.classList.add('_transform_info');\n                }\n                wrapper.after(list);\n\n                var link = list.querySelectorAll('.bb-dropdown__list .info-block__item, .bb-dropdown__list .info-block__link');\n\n                link.forEach(function (block) {\n                    block.removeEventListener('click', _close);\n                    block.addEventListener('click', _close);\n                });\n\n                list.querySelectorAll('.js-bb-dropdown--close').forEach(function (block) {\n                    block.removeEventListener('click', _close);\n                    block.addEventListener('click', _close);\n                });\n\n                overlay.classList.add(DROPDOWN_OWERLAY_CLASS);\n\n                setTimeout(function () {\n                    list.classList.add(VISIBLE_CLASS);\n                }, 200);\n            } else {\n                _toggle(_this);\n            }\n        }\n\n        if (_this.classList.contains('request-info')) {\n            if (document.documentElement.offsetWidth <= 480) {\n                if (!open) {\n                    wrapper.setAttribute('inert', '');\n                    wrapper.setAttribute('tabindex', '-1');\n                    document.documentElement.style.overflowY = 'hidden';\n                    document.body.style.overflowY = 'hidden';\n                    open = true;\n                } else {\n                    wrapper.removeAttribute('inert');\n                    wrapper.removeAttribute('tabindex');\n                    wrapper.focus();\n                    document.body.removeAttribute('style');\n                    document.documentElement.removeAttribute('style');\n                    open = false;\n                }\n            }\n        }\n        document.querySelectorAll('.overlay--dropdown').forEach(function (block) {\n            block.removeEventListener('click', _overlayClickDropdownClose);\n            block.addEventListener('click', _overlayClickDropdownClose);\n        });\n\n        document.removeEventListener('click', _dropdownClickOutClose);\n        document.addEventListener('click', _dropdownClickOutClose);\n        document.addEventListener('scroll', _close);\n    }\n\n    /**\r\n     * Метод трансформации dropdown под мобильные устройства\r\n     * @param element должени быть DOM элемент в котором находится dropdown\r\n     * @param callback (Не обязательный параметр) Функция которая выполнится после завершения\r\n     */\n    function _transform(element, callback) {\n        var dropdown = element.querySelectorAll('.js-bb-dropdown[data-dropdown-transform]');\n        if (document.documentElement.offsetWidth <= 480) {\n            dropdown.forEach(function (block) {\n                // if (block.hasAttribute('data-dropdown-transform')) {\n                var list = block.querySelector('.bb-dropdown__list');\n                block.classList.remove('bb-dropdown--another');\n                block.classList.add('bb-dropdown--transform');\n\n                list.querySelectorAll('ul').forEach(function (el) {\n                    el.classList.add('info-block__list');\n                });\n                list.querySelectorAll('li').forEach(function (el) {\n                    el.classList.add('info-block__item');\n                });\n                list.querySelectorAll('a').forEach(function (el) {\n                    el.classList.add('info-block__link');\n                });\n                // }\n            });\n        }\n\n        if (typeof callback == 'function') callback(element);\n    }\n\n    /**\r\n     * Метод установки позтции открытого dropdown\r\n     * @param element должени быть элемент dropdown в виде DOM элемента\r\n     * @param callback (Не обязательный параметр) Функция которая выполнится после завершения\r\n     */\n    function _setPosition(element, callback) {\n        var screenWidth = document.documentElement.offsetWidth;\n        var screenHeight = document.documentElement.offsetHeight;\n        var pos = element.getBoundingClientRect();\n        if (pos.left > screenWidth / 2) {\n            if (pos.top > screenHeight / 2) {\n                element.setAttribute('data-dropdown-position', 'top-right');\n            } else {\n                element.setAttribute('data-dropdown-position', 'right');\n            }\n        } else if (pos.top > screenHeight / 2) {\n            if (pos.left > screenWidth / 2) {\n                element.setAttribute('data-dropdown-position', 'top-right');\n            } else {\n                element.setAttribute('data-dropdown-position', 'top');\n            }\n        } else {\n            element.removeAttribute('data-dropdown-position');\n        }\n\n        if (typeof callback == 'function') callback();\n    }\n\n    /**\r\n     *  Метод переключатель открытия и закрытия dropdown\r\n     * @param el должени быть элемент dropdown в виде DOM элемента\r\n     */\n    function _toggle(el) {\n        var link = list.querySelectorAll('.bb-dropdown__list .info-block__item, .bb-dropdown__list .info-block__link');\n        if (!el.classList.contains(ACTIVE_CLASS)) {\n            el.classList.add(ACTIVE_CLASS);\n            link.forEach(function (block) {\n                block.removeEventListener('click', _close);\n                block.addEventListener('click', _close);\n            });\n\n            open = true;\n        } else {\n            el.classList.remove(ACTIVE_CLASS);\n            link.forEach(function (block) {\n                block.removeEventListener('click', _close);\n            });\n            open = false;\n        }\n    }\n\n    /**\r\n     * Метод закрытия dropdown\r\n     */\n    function _close(e) {\n        if (e.target.closest) {\n            var dropdownHover = e.target.closest('.bb-dropdown--hover');\n            if (dropdownHover) {\n                dropdownHover.classList.remove('hover');\n                dropdownHover.classList.remove('is-active');\n            }\n        }\n\n        document.removeEventListener('scroll', _close);\n        document.removeEventListener('click', _dropdownClickOutClose);\n        if (!BB.Utils.ArrayActiveBlock.length) {\n            wrapper.removeAttribute('inert');\n            wrapper.removeAttribute('tabindex');\n            document.body.removeAttribute('style');\n            document.documentElement.removeAttribute('style');\n        }\n\n        setTimeout(function () {\n            list.classList.remove(VISIBLE_CLASS);\n            _this.classList.remove(ACTIVE_CLASS);\n            wrapper.focus();\n        }, 100);\n\n        setTimeout(function () {\n            list.removeAttribute('style');\n            list.classList.remove('_transform');\n            list.classList.remove('_transform_info');\n            _this.append(list);\n            document.querySelectorAll('.js-overlay').forEach(function (item) {\n                item.classList.remove(DROPDOWN_OWERLAY_CLASS);\n                item.removeEventListener('click', _overlayClickDropdownClose);\n            });\n        }, 300);\n    }\n\n    /**\r\n     * Возвращение объекта с методами для глобального использования\r\n     */\n    return {\n        init: _init,\n        render: _render,\n        transform: _transform,\n        addEvent: _addEventListener,\n        close: _close\n    };\n}());\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY0Q2ZVdyZWouanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvRHJvcGRvd24uanM/NTI0MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBodG1sIGV4YW1wbGVcclxuPGRpdlxyXG4gICAgY2xhc3M9XCJiYi1kcm9wZG93biBiYi1kcm9wZG93bi0tc21hbGwgYmItZHJvcGRvd24tLXRyYW5zZm9ybSBiYi1kcm9wZG93bi0taG92ZXIganMtYmItZHJvcGRvd25cIlxyXG4gICAgZGF0YS1kcm9wZG93bi1wb3NpdGlvbj1cInJpZ2h0XCJcclxuPlxyXG5cdDxkaXYgY2xhc3M9XCJiYi1kcm9wZG93bl9fbGlzdFwiPlxyXG5cdDwvZGl2PlxyXG48L2Rpdj5cclxuKi9cclxuXHJcbkJCLmRlZmluZSgnQ29tcG9uZW50LkRyb3Bkb3duJyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCQi5Db21wb25lbnQuRHJvcGRvd24gPSAoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgZHJvcGRvd24sIGxpc3QsIF90aGlzLCB3cmFwcGVyLCBvdmVybGF5O1xyXG5cclxuICAgIGxldCBBQ1RJVkVfQ0xBU1MgPSAnaXMtYWN0aXZlJztcclxuICAgIGxldCBWSVNJQkxFX0NMQVNTID0gJ2lzLXZpc2libGUnO1xyXG4gICAgbGV0IERST1BET1dOX09XRVJMQVlfQ0xBU1MgPSAnb3ZlcmxheS0tZHJvcGRvd24nO1xyXG4gICAgbGV0IG9wZW4gPSBmYWxzZTtcclxuXHJcbiAgICBsZXQgYnRuRHJvcGRvd25DbG9zZSA9IGA8YnV0dG9uIGNsYXNzPVwiYnRuLWljb24gYnRuLWljb24tLWNsb3NlIGpzLWJiLWRyb3Bkb3duLS1jbG9zZVwiPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIGNsYXNzPVwiaWNvbiBpY29uLWNsb3NlXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCI+PHBhdGggZD1cIk01MDUuOTQzLDYuMDU4Yy04LjA3Ny04LjA3Ny0yMS4xNzItOC4wNzctMjkuMjQ5LDBMNi4wNTgsNDc2LjY5M2MtOC4wNzcsOC4wNzctOC4wNzcsMjEuMTcyLDAsMjkuMjQ5XHJcbiAgICAgICAgQzEwLjA5Niw1MDkuOTgyLDE1LjM5LDUxMiwyMC42ODMsNTEyYzUuMjkzLDAsMTAuNTg2LTIuMDE5LDE0LjYyNS02LjA1OUw1MDUuOTQzLDM1LjMwNlxyXG4gICAgICAgIEM1MTQuMDE5LDI3LjIzLDUxNC4wMTksMTQuMTM1LDUwNS45NDMsNi4wNTh6XCIvPlxyXG4gICAgICAgICAgICA8cGF0aCBkPVwiTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNlxyXG4gICAgICAgIGM0LjAzOCw0LjAzOSw5LjMzMiw2LjA1OCwxNC42MjUsNi4wNThjNS4yOTMsMCwxMC41ODctMi4wMTksMTQuNjI0LTYuMDU3QzUxNC4wMTgsNDk3Ljg2Niw1MTQuMDE4LDQ4NC43NzEsNTA1Ljk0Miw0NzYuNjk0elwiLz48L3N2Zz48L2J1dHRvbj5gO1xyXG5cclxuICAgIGxldCBzdHlsZVRyYW5zZm9ybU1lbnUgPSBgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBmaXhlZDsgdG9wOiBhdXRvOyBib3R0b206IDEwcHg7IGxlZnQ6IDEwcHg7IHJpZ2h0OiAxMHB4OyB6LWluZGV4OiA5OTk5YDtcclxuXHJcbiAgICBsZXQgc3R5bGVUcmFuc2Zvcm1JbmZvID0gYGRpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogZml4ZWQ7IGJvdHRvbTogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IHotaW5kZXg6IDk5OTlgO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTRg9C90LrRhtC40Y8g0LjQvdC40YbQuNCw0LvQuNC30LDRhtC40LggZHJvcGRvd25cclxuICAgICAqIEBwYXJhbSBub2RlIERPTSDRjdC70LXQvNC10L0g0LIg0LrQvtGC0L7RgNC+0Lwg0L3Rg9C20L3QviDQuNC90LjRhtC40LDQu9C40LfQuNGA0L7QstCw0YLRjCBkcm9wZG93blxyXG4gICAgICovXHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXQobm9kZSkge1xyXG4gICAgICAgIGxldCBlbGVtZW50O1xyXG4gICAgICAgIGlmICh0eXBlb2Ygbm9kZSA9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gbm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRyb3Bkb3duID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYmItZHJvcGRvd24nKTtcclxuICAgICAgICB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXInKTtcclxuICAgICAgICBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW92ZXJsYXknKTtcclxuXHJcbiAgICAgICAgX2luaXRTZXRQb3NpdGlvbihlbGVtZW50KTtcclxuICAgICAgICBfYWRkRXZlbnRMaXN0ZW5lcihlbGVtZW50KTtcclxuICAgICAgICBfdHJhbnNmb3JtKGVsZW1lbnQsIF9yZW5kZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JzQtdGC0L7QtCDRg9GB0YLQsNC90LDQstC70LjQstCw0Y7RidC40Lkg0L/QvtC30LjRhtC40Y4g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyBkcm9wZG93blxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgRE9NINC10LvQtdC80LXQvdGCINGB0L7QtNC10YDQttCw0YnQuNC5IGRyb3Bkb3duINGDINC60L7RgtC+0YDQvtCz0L4g0L3Rg9C20L3QviDRg9GB0YLQsNC90L7QstC40YLRjCDQv9C+0LfQuNGG0LjRjiDQvtGC0L7QsdGA0LDQttC10L3QuNGPXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIF9pbml0U2V0UG9zaXRpb24oZWxlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWJiLWRyb3Bkb3duJykuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgIF9zZXRQb3NpdGlvbihibG9jayk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiDQn9GA0L7QstC10YDQutCwINC4INGD0YHRgtCw0L3QvtCy0LrQsCDRgdC70YPRiNCw0YLQtdC70LXQuSDQvdCw0LLQtdC00LXQvdC40Y9cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNsYXNzTGlzdC5jb250YWlucygnYmItZHJvcGRvd24tLWhvdmVyJykgJiZcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCA+IDc2OFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIF9tb3VzZW92ZXJEcm9wZG93bik7XHJcbiAgICAgICAgICAgICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBfbW91c2VvdmVyRHJvcGRvd24pO1xyXG5cclxuICAgICAgICAgICAgICAgIGJsb2NrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgX21vdXNlb3V0RHJvcGRvd24pO1xyXG4gICAgICAgICAgICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBfbW91c2VvdXREcm9wZG93bik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBibG9jay5jbGFzc0xpc3QucmVtb3ZlKCdiYi1kcm9wZG93bi0taG92ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JzQtdGC0L7QtCDQtNC70Y8g0YHQvtCx0YvRgtC40Y8gbW91c2VvdmVyINC90LAgZHJvcGRvd25cclxuICAgICAqIEBwYXJhbSBlIGV2ZW50INGB0L7QsdGL0YLQuNGPIG1vdXNlb3ZlclxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBfbW91c2VvdmVyRHJvcGRvd24oZSkge1xyXG4gICAgICAgIGxldCBkcm9wZG93bkhvdmVyID0gZS50YXJnZXQuY2xvc2VzdCgnLmpzLWJiLWRyb3Bkb3duJyk7XHJcbiAgICAgICAgX3NldFBvc2l0aW9uKGRyb3Bkb3duSG92ZXIsICgpID0+IHtcclxuICAgICAgICAgICAgZHJvcGRvd25Ib3Zlci5jbGFzc0xpc3QuYWRkKCdob3ZlcicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRyb3Bkb3duSG92ZXIucXVlcnlTZWxlY3RvckFsbCgnLmluZm8tYmxvY2tfX2l0ZW0nKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpdGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2Nsb3NlKTtcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbG9zZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQnNC10YLQvtC0INC00LvRjyDRgdC+0LHRi9GC0LjRjyBtb3VzZW91dCDQvdCwIGRyb3Bkb3duXHJcbiAgICAgKiBAcGFyYW0gZSBldmVudCDRgdC+0LHRi9GC0LjRjyBtb3VzZW91dFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBfbW91c2VvdXREcm9wZG93bihlKSB7XHJcbiAgICAgICAgZS50YXJnZXQuY2xvc2VzdCgnLmpzLWJiLWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXInKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqINCc0LXRgtC+0LQg0LTQvtCx0LDQstC70LXQvdC40Y8g0Lgg0L7RgtGA0LjRgdC+0LLQutC4INC80L7QsdC40LvRjNC90L7Qs9C+IGRyb3Bkb3duXHJcbiAgICAgKiBAcGFyYW0gYXJnINCh0YLRgNC+0LrQsCDRgSDRg9C90LjQutCw0LvRjNC90YvQvCDRgdC10LvQtdC60YLQvtGA0L7QvCDQuNC70LggRE9NINGN0LvQtdC80LXQvdGCINCz0LTQtSDQvdGD0LbQvdC+INC/0YDQvtC40LfQstC10YHRgtC4INGA0LXQvdC00LXRgFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBfcmVuZGVyKGFyZykge1xyXG4gICAgICAgIGxldCBkcm9wZG93bjtcclxuICAgICAgICBsZXQgZWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gYXJnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGggPD0gNzY4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcuanMtYmItZHJvcGRvd24uYmItZHJvcGRvd24tLXRyYW5zZm9ybSdcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93biA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ0bkNsb3NlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJiYi1kcm9wZG93bl9fY2xvc2UganMtYmItZHJvcGRvd24tLWNsb3NlXCI+0JfQsNC60YDRi9GC0Yw8L2J1dHRvbj4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkcm9wZG93bk92ZXJsYXkgPSAnPGRpdiBjbGFzcz1cImJiLWRyb3Bkb3duX19vdmVybGF5XCI+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRyb3Bkb3duTGlzdCA9IGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcuYmItZHJvcGRvd25fX2xpc3QnXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmZvLWJsb2NrX19pY29uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZUVuZCcsIGJ0bkNsb3NlKTtcclxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWZ0ZXJFbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bk92ZXJsYXlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkcm9wZG93biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJy5qcy1iYi1kcm9wZG93bi5iYi1kcm9wZG93bi0tdHJhbnNmb3JtJ1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidG5DbG9zZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJiLWRyb3Bkb3duX19jbG9zZSBqcy1iYi1kcm9wZG93bi0tY2xvc2VcIj7Ql9Cw0LrRgNGL0YLRjDwvYnV0dG9uPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkcm9wZG93bk92ZXJsYXkgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJiYi1kcm9wZG93bl9fb3ZlcmxheVwiPic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHJvcGRvd25MaXN0ID0gYmxvY2sucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuYmItZHJvcGRvd25fX2xpc3QnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duTGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmZvLWJsb2NrX19pY29uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bkxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVFbmQnLCBidG5DbG9zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duTGlzdC5pbnNlcnRBZGphY2VudEhUTUwoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWZ0ZXJFbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd25PdmVybGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAn0J7RiNC40LHQutCwINCw0YDQs9GD0LzQtdC90YLQsCDQv9C10YDQtdC00LDQvdC+0Lwg0LIgRHJvcGRvd24ucmVuZGVyKCkuINCf0LXRgNC10LTQsNCy0LDQtdC80YvQuSDQv9Cw0YDQsNC80LXRgtGAINC00L7Qu9C20LXQvSDQsdGL0YLRjCBET00g0LXQu9C10LzQtdC90YLQvtC8INC40LvQuCDRgdGC0YDQvtC60L7QuSDRgSDQo9Cd0JjQmtCQ0JvQrNCd0KvQnCDRgdC10LvQtdC60YLQvtGA0L7QvCdcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqINCt0LLQtdC90YLRiyDQutC70LjQutC+0LIg0L/QviDQvtGB0L3QvtCy0L3Ri9C8INGN0LvQtdC80LXQvdGC0LDQvFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgRE9NINGN0LvQtdC80LXQvdGCINCyINC60L7RgtC+0YDQvtC8INC90YPQttC90L4g0L/RgNC+0LjQvdC40YbQuNCw0LvRjNC30LjRgNC+0LLQsNGC0Ywg0L/RgNC+0YHQu9GD0YjQutGDINGB0L7QsdGL0YLQuNC5IGRyb3Bkb3duXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1iYi1kcm9wZG93bicpLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBibG9jay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9kcm9wZG93bk9wZW4pO1xyXG4gICAgICAgICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9kcm9wZG93bk9wZW4pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL9Ch0LrRgNGL0LLQsNC10Lwg0LTRgNC+0L/QtNCw0YPQvSDQv9C+INC60LvQuNC60YMg0LIg0L3QtSDQsdC70L7QutCwXHJcblxyXG4gICAgICAgIC8vIGxldCBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAvLyAgICAgJy5iYi1kcm9wZG93bl9fbGlzdCAuaW5mby1ibG9ja19faXRlbSwgLmJiLWRyb3Bkb3duX19saXN0IC5pbmZvLWJsb2NrX19saW5rJ1xyXG4gICAgICAgIC8vICk7XHJcbiAgICAgICAgLy8gbGluay5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAvLyAgICAgYmxvY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xvc2VIYXJkKTtcclxuICAgICAgICAvLyAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xvc2VIYXJkKTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgLy/QodC60YDRi9Cy0LDQtdC8IGRyb3Bkb3duINC/0L4g0LrQu9C40LrRgyDQvdCwINC60L3QvtC/0LrRg1xyXG4gICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWJiLWRyb3Bkb3duLS1jbG9zZScpLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBibG9jay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbG9zZSk7XHJcbiAgICAgICAgICAgIGJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2Nsb3NlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqINCc0LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyBkcm9wZG93biDQv9C+INC60LvQuNC60YMg0LLQvdC1IGRyb3Bkb3duXHJcbiAgICAgKiBAcGFyYW0gZSBldmVudFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBfZHJvcGRvd25DbGlja091dENsb3NlKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLmpzLWJiLWRyb3Bkb3duJykpIHJldHVybjtcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLmpzLWJiLWRyb3Bkb3duLmlzLWFjdGl2ZScpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZHJvcGRvd25DbGlja091dENsb3NlKTtcclxuICAgICAgICBvcGVuID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQnNC10YLQvtC0INC30LDQutGA0YvRgtC40Y8gZHJvcGRvd24g0L/QviDQutC70LjQutGDINC90LAgb3ZlcmxheVxyXG4gICAgICogQHBhcmFtIGUgZXZlbnRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gX292ZXJsYXlDbGlja0Ryb3Bkb3duQ2xvc2UoZSkge1xyXG4gICAgICAgIG9wZW4gPSBmYWxzZTtcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLmpzLWJiLWRyb3Bkb3duLmlzLWFjdGl2ZScpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgX2Nsb3NlKGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JzQtdGC0L7QtCDQvtGC0LrRgNGL0YLQuNGPIGRyb3Bkb3duXHJcbiAgICAgKiBAcGFyYW0gZSBldmVudFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBfZHJvcGRvd25PcGVuKGUpIHtcclxuICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgX3RoaXMgPSBlLnRhcmdldC5jbG9zZXN0KCcuanMtYmItZHJvcGRvd24nKTtcclxuICAgICAgICBsaXN0ID0gX3RoaXMucXVlcnlTZWxlY3RvcignLmJiLWRyb3Bkb3duX19saXN0Jyk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYmItZHJvcGRvd24uaXMtYWN0aXZlJylcclxuICAgICAgICAgICAgLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkVfQ0xBU1MpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCA+IDc2OCkge1xyXG4gICAgICAgICAgICBfdG9nZ2xlKF90aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLmNsYXNzTGlzdC5jb250YWlucygnYmItZHJvcGRvd24tLWFub3RoZXInKSkge1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2luZXJ0JywgJycpO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgb3BlbiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/QkNC90LjQvNCw0YbQuNGPINCy0YvQv9Cw0LTQsNGO0YnQtdCz0L4g0YHQv9C40YHQutCwXHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdiYi1kcm9wZG93bi0tdHJhbnNmb3JtJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LnN0eWxlLmNzc1RleHQgPSBzdHlsZVRyYW5zZm9ybU1lbnU7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKCdfdHJhbnNmb3JtJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywgYnRuRHJvcGRvd25DbG9zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5zdHlsZS5jc3NUZXh0ID0gc3R5bGVUcmFuc2Zvcm1JbmZvO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZCgnX3RyYW5zZm9ybV9pbmZvJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFmdGVyKGxpc3QpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBsaW5rID0gbGlzdC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgICAgICAgICcuYmItZHJvcGRvd25fX2xpc3QgLmluZm8tYmxvY2tfX2l0ZW0sIC5iYi1kcm9wZG93bl9fbGlzdCAuaW5mby1ibG9ja19fbGluaydcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGluay5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtYmItZHJvcGRvd24tLWNsb3NlJykuZm9yRWFjaChcclxuICAgICAgICAgICAgICAgICAgICBibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2Nsb3NlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKERST1BET1dOX09XRVJMQVlfQ0xBU1MpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZChWSVNJQkxFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdG9nZ2xlKF90aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF90aGlzLmNsYXNzTGlzdC5jb250YWlucygncmVxdWVzdC1pbmZvJykpIHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCA8PSA0ODApIHtcclxuICAgICAgICAgICAgICAgIGlmICghb3Blbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdpbmVydCcsICcnKTtcclxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgICAgICAgICBvcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ2luZXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vdmVybGF5LS1kcm9wZG93bicpLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBibG9jay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9vdmVybGF5Q2xpY2tEcm9wZG93bkNsb3NlKTtcclxuICAgICAgICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfb3ZlcmxheUNsaWNrRHJvcGRvd25DbG9zZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2Ryb3Bkb3duQ2xpY2tPdXRDbG9zZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZHJvcGRvd25DbGlja091dENsb3NlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBfY2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0JzQtdGC0L7QtCDRgtGA0LDQvdGB0YTQvtGA0LzQsNGG0LjQuCBkcm9wZG93biDQv9C+0LQg0LzQvtCx0LjQu9GM0L3Ri9C1INGD0YHRgtGA0L7QudGB0YLQstCwXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCDQtNC+0LvQttC10L3QuCDQsdGL0YLRjCBET00g0Y3Qu9C10LzQtdC90YIg0LIg0LrQvtGC0L7RgNC+0Lwg0L3QsNGF0L7QtNC40YLRgdGPIGRyb3Bkb3duXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgKNCd0LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5INC/0LDRgNCw0LzQtdGC0YApINCk0YPQvdC60YbQuNGPINC60L7RgtC+0YDQsNGPINCy0YvQv9C+0LvQvdC40YLRgdGPINC/0L7RgdC70LUg0LfQsNCy0LXRgNGI0LXQvdC40Y9cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gX3RyYW5zZm9ybShlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBkcm9wZG93biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgJy5qcy1iYi1kcm9wZG93bltkYXRhLWRyb3Bkb3duLXRyYW5zZm9ybV0nXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoIDw9IDQ4MCkge1xyXG4gICAgICAgICAgICBkcm9wZG93bi5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIChibG9jay5oYXNBdHRyaWJ1dGUoJ2RhdGEtZHJvcGRvd24tdHJhbnNmb3JtJykpIHtcclxuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gYmxvY2sucXVlcnlTZWxlY3RvcignLmJiLWRyb3Bkb3duX19saXN0Jyk7XHJcbiAgICAgICAgICAgICAgICBibG9jay5jbGFzc0xpc3QucmVtb3ZlKCdiYi1kcm9wZG93bi0tYW5vdGhlcicpO1xyXG4gICAgICAgICAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZCgnYmItZHJvcGRvd24tLXRyYW5zZm9ybScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxpc3QucXVlcnlTZWxlY3RvckFsbCgndWwnKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdpbmZvLWJsb2NrX19saXN0Jyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxpc3QucXVlcnlTZWxlY3RvckFsbCgnbGknKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdpbmZvLWJsb2NrX19pdGVtJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxpc3QucXVlcnlTZWxlY3RvckFsbCgnYScpLmZvckVhY2goZWwgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2luZm8tYmxvY2tfX2xpbmsnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQnNC10YLQvtC0INGD0YHRgtCw0L3QvtCy0LrQuCDQv9C+0LfRgtGG0LjQuCDQvtGC0LrRgNGL0YLQvtCz0L4gZHJvcGRvd25cclxuICAgICAqIEBwYXJhbSBlbGVtZW50INC00L7Qu9C20LXQvdC4INCx0YvRgtGMINGN0LvQtdC80LXQvdGCIGRyb3Bkb3duINCyINCy0LjQtNC1IERPTSDRjdC70LXQvNC10L3RgtCwXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgKNCd0LUg0L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C5INC/0LDRgNCw0LzQtdGC0YApINCk0YPQvdC60YbQuNGPINC60L7RgtC+0YDQsNGPINCy0YvQv9C+0LvQvdC40YLRgdGPINC/0L7RgdC70LUg0LfQsNCy0LXRgNGI0LXQvdC40Y9cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gX3NldFBvc2l0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IHNjcmVlbldpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIGxldCBzY3JlZW5IZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIGxldCBwb3MgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlmIChwb3MubGVmdCA+IHNjcmVlbldpZHRoIC8gMikge1xyXG4gICAgICAgICAgICBpZiAocG9zLnRvcCA+IHNjcmVlbkhlaWdodCAvIDIpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRyb3Bkb3duLXBvc2l0aW9uJywgJ3RvcC1yaWdodCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZHJvcGRvd24tcG9zaXRpb24nLCAncmlnaHQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocG9zLnRvcCA+IHNjcmVlbkhlaWdodCAvIDIpIHtcclxuICAgICAgICAgICAgaWYgKHBvcy5sZWZ0ID4gc2NyZWVuV2lkdGggLyAyKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kcm9wZG93bi1wb3NpdGlvbicsICd0b3AtcmlnaHQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRyb3Bkb3duLXBvc2l0aW9uJywgJ3RvcCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZHJvcGRvd24tcG9zaXRpb24nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqICDQnNC10YLQvtC0INC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8g0Lgg0LfQsNC60YDRi9GC0LjRjyBkcm9wZG93blxyXG4gICAgICogQHBhcmFtIGVsINC00L7Qu9C20LXQvdC4INCx0YvRgtGMINGN0LvQtdC80LXQvdGCIGRyb3Bkb3duINCyINCy0LjQtNC1IERPTSDRjdC70LXQvNC10L3RgtCwXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIF90b2dnbGUoZWwpIHtcclxuICAgICAgICBsZXQgbGluayA9IGxpc3QucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgJy5iYi1kcm9wZG93bl9fbGlzdCAuaW5mby1ibG9ja19faXRlbSwgLmJiLWRyb3Bkb3duX19saXN0IC5pbmZvLWJsb2NrX19saW5rJ1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoQUNUSVZFX0NMQVNTKSkge1xyXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKEFDVElWRV9DTEFTUyk7XHJcbiAgICAgICAgICAgIGxpbmsuZm9yRWFjaChibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICBibG9jay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbG9zZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgb3BlbiA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkVfQ0xBU1MpO1xyXG4gICAgICAgICAgICBsaW5rLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgYmxvY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xvc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb3BlbiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqINCc0LXRgtC+0LQg0LfQsNC60YDRi9GC0LjRjyBkcm9wZG93blxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBfY2xvc2UoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KSB7XHJcbiAgICAgICAgICAgIGxldCBkcm9wZG93bkhvdmVyID0gZS50YXJnZXQuY2xvc2VzdCgnLmJiLWRyb3Bkb3duLS1ob3ZlcicpO1xyXG4gICAgICAgICAgICBpZiAoZHJvcGRvd25Ib3Zlcikge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25Ib3Zlci5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25Ib3Zlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX2Nsb3NlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9kcm9wZG93bkNsaWNrT3V0Q2xvc2UpO1xyXG4gICAgICAgIGlmICghQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9jay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ2luZXJ0Jyk7XHJcbiAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoVklTSUJMRV9DTEFTUyk7XHJcbiAgICAgICAgICAgIF90aGlzLmNsYXNzTGlzdC5yZW1vdmUoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgd3JhcHBlci5mb2N1cygpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBsaXN0LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdfdHJhbnNmb3JtJyk7XHJcbiAgICAgICAgICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnX3RyYW5zZm9ybV9pbmZvJyk7XHJcbiAgICAgICAgICAgIF90aGlzLmFwcGVuZChsaXN0KTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLW92ZXJsYXknKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKERST1BET1dOX09XRVJMQVlfQ0xBU1MpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9vdmVybGF5Q2xpY2tEcm9wZG93bkNsb3NlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqINCS0L7Qt9Cy0YDQsNGJ0LXQvdC40LUg0L7QsdGK0LXQutGC0LAg0YEg0LzQtdGC0L7QtNCw0LzQuCDQtNC70Y8g0LPQu9C+0LHQsNC70YzQvdC+0LPQviDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjRj1xyXG4gICAgICovXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXQ6IF9pbml0LFxyXG4gICAgICAgIHJlbmRlcjogX3JlbmRlcixcclxuICAgICAgICB0cmFuc2Zvcm06IF90cmFuc2Zvcm0sXHJcbiAgICAgICAgYWRkRXZlbnQ6IF9hZGRFdmVudExpc3RlbmVyLFxyXG4gICAgICAgIGNsb3NlOiBfY2xvc2UsXHJcbiAgICB9O1xyXG59KSgpO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///cD6eWrej\n");

/***/ }),

/***/ "dOuSRFLb":
/*!********************************!*\
  !*** ./components/CheckBox.js ***!
  \********************************/
/*! exports provided: CheckBox, Radio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckBox\", function() { return CheckBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Radio\", function() { return Radio; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* html example\r\n<label class=\"bb-checkbox js-bb-checkbox\">\r\n    <input type=\"checkbox\">\r\n    <span class=\"bb-checkbox__box\"></span>\r\n    <span class=\"bb-checkbox__title\">WhatsApp</span>\r\n</label>\r\n*/\nvar CheckBox = function () {\n    function CheckBox(args) {\n        _classCallCheck(this, CheckBox);\n\n        this.selector = document.querySelectorAll(args.selector);\n\n        if (typeof this.selector == 'undefined') {\n            return;\n        }\n\n        // this.init();\n        this.checkStatus();\n    }\n\n    _createClass(CheckBox, [{\n        key: 'init',\n        value: function init() {\n            var checkbox = this.selector;\n\n            var _loop = function _loop(i) {\n                var label = checkbox[i];\n                var checkboxInput = label.querySelector('input[type=\"checkbox\"]');\n\n                label.addEventListener('click', function (e) {\n                    return e.stopImmediatePropagation();\n                });\n\n                if (checkboxInput) {\n                    checkboxInput.addEventListener('change', function (e) {\n                        var input = e.target;\n\n                        if (input.checked) {\n                            label.classList.add('is-checked');\n                            input.setAttribute('checked', 'checked');\n                        } else {\n                            label.classList.remove('is-checked');\n                            input.removeAttribute('checked');\n                            label.classList.remove('is-checked');\n                            input.removeAttribute('checked');\n                        }\n                    });\n                }\n\n                // checkbox[i].addEventListener('click', function(e) {\n                //     let elem = this;\n                //     let elementToggle = elem.querySelector(\n                //         'input[type=\"checkbox\"]'\n                //     );\n                //     if (elementToggle.checked) {\n                //         elem.classList.remove('is-checked');\n                //         elementToggle.checked = false;\n                //         elementToggle.removeAttribute('checked');\n                //     } else {\n                //         elem.classList.add('is-checked');\n                //         elementToggle.checked = true;\n                //         elementToggle.setAttribute('checked', 'checked');\n                //     }\n                //     e.stopPropagation();\n                //     // e.preventDefault();\n                // });\n            };\n\n            for (var i = 0; i < checkbox.length; i++) {\n                _loop(i);\n            }\n        }\n    }, {\n        key: 'checkStatus',\n        value: function checkStatus() {\n            var check = [];\n            var noCheck = [];\n            var togCheck = [];\n            var togNoCheck = [];\n            var checkbox = this.selector;\n\n            var i = void 0;\n            var len = void 0;\n\n            for (i = 0, len = checkbox.length; i < len; i++) {\n                var elem = checkbox[i];\n                var elementToggle = elem.querySelector('input[type=\"checkbox\"]');\n                if (typeof elementToggle == 'null') {\n                    if (!elementToggle.checked) {\n                        noCheck.push(elem);\n                        togNoCheck.push(elementToggle);\n                    } else {\n                        check.push(elem);\n                        togCheck.push(elementToggle);\n                    }\n                }\n            }\n            for (i = 0, len = check.length; i < len; i++) {\n                check[i].classList.add('is-checked');\n            }\n\n            for (i = 0, len = noCheck.length; i < len; i++) {\n                noCheck[i].classList.remove('is-checked');\n            }\n\n            for (i = 0, len = togNoCheck.length; i < len; i++) {\n                togNoCheck[i].removeAttribute('checked');\n                togNoCheck[i].checked = false;\n            }\n\n            for (i = 0, len = togCheck.length; i < len; i++) {\n                togCheck[i].setAttribute('checked', 'checked');\n                togCheck[i].checked = true;\n            }\n        }\n    }]);\n\n    return CheckBox;\n}();\n\n// html example\n// <label class=\"bb-checkbox bb-checkbox--radio js-bb-radio\">\n//     <input name=\"role\" type=\"radio\">\n//     <span class=\"bb-checkbox__box\"></span>\n//     <span class=\"bb-checkbox__title\">Салон</span>\n// </label>\n\n\nvar Radio = function () {\n    function Radio(args) {\n        _classCallCheck(this, Radio);\n\n        this.selector = args.selector;\n\n        if (typeof this.selector == 'undefined') {\n            return;\n        }\n\n        this.init();\n    }\n\n    _createClass(Radio, [{\n        key: 'init',\n        value: function init() {\n            var mainScope = this;\n            $(this.selector).click(function (event) {\n                var element = $(this),\n                    elementToggle = element.find('input[type=\"radio\"]') || element.find('.bb-checkbox__toggle');\n                var elementToggleName = elementToggle.attr('name');\n                var allElements = $(mainScope.selector, '[name=\"' + elementToggleName + '\"]').prevObject;\n                for (var a = 0; a < allElements.length; a++) {\n                    if (allElements[a] != elementToggle[0]) {\n                        var otherRadio = $(mainScope._getClickElement(mainScope.selector.split('.')[1], allElements[a])),\n                            otherRadioToggle = otherRadio.find('input[type=\"radio\"]');\n                        otherRadioToggle.removeAttr('checked');\n                        otherRadioToggle.prop('checked', false).trigger('change');\n                        otherRadio.removeClass('is-checked');\n                    }\n                }\n                if (!elementToggle.prop('checked')) {\n                    elementToggle.attr('checked', 'checked');\n                    elementToggle.prop('checked', true).trigger('change');\n                    element.addClass('is-checked');\n                }\n            });\n        }\n    }, {\n        key: '_getClickElement',\n        value: function _getClickElement(elementClass, newTarget) {\n            var target = newTarget != undefined ? newTarget : event.target,\n                body = document.querySelector('body');\n            while (!target.classList.contains(elementClass) && target != body) {\n                target = target.parentNode;\n            }\n            return target == body ? undefined : target;\n        }\n    }]);\n\n    return Radio;\n}();\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZE91U1JGTGIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvQ2hlY2tCb3guanM/ZTIyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBodG1sIGV4YW1wbGVcclxuPGxhYmVsIGNsYXNzPVwiYmItY2hlY2tib3gganMtYmItY2hlY2tib3hcIj5cclxuICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj5cclxuICAgIDxzcGFuIGNsYXNzPVwiYmItY2hlY2tib3hfX2JveFwiPjwvc3Bhbj5cclxuICAgIDxzcGFuIGNsYXNzPVwiYmItY2hlY2tib3hfX3RpdGxlXCI+V2hhdHNBcHA8L3NwYW4+XHJcbjwvbGFiZWw+XHJcbiovXHJcbmNsYXNzIENoZWNrQm94IHtcclxuICAgIGNvbnN0cnVjdG9yKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhcmdzLnNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNlbGVjdG9yID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTdGF0dXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGxldCBjaGVja2JveCA9IHRoaXMuc2VsZWN0b3I7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tib3gubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGxhYmVsID0gY2hlY2tib3hbaV07XHJcbiAgICAgICAgICAgIGxldCBjaGVja2JveElucHV0ID0gbGFiZWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XHJcblxyXG4gICAgICAgICAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2hlY2tib3hJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tib3hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlucHV0ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2lzLWNoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1jaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1jaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVja2JveFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBlbGVtID0gdGhpcztcclxuICAgICAgICAgICAgLy8gICAgIGxldCBlbGVtZW50VG9nZ2xlID0gZWxlbS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICAvLyAgICAgICAgICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nXHJcbiAgICAgICAgICAgIC8vICAgICApO1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKGVsZW1lbnRUb2dnbGUuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaXMtY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGVsZW1lbnRUb2dnbGUuY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGVsZW1lbnRUb2dnbGUucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnaXMtY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGVsZW1lbnRUb2dnbGUuY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgZWxlbWVudFRvZ2dsZS5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgLy8gICAgIC8vIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrU3RhdHVzKCkge1xyXG4gICAgICAgIGxldCBjaGVjayA9IFtdO1xyXG4gICAgICAgIGxldCBub0NoZWNrID0gW107XHJcbiAgICAgICAgbGV0IHRvZ0NoZWNrID0gW107XHJcbiAgICAgICAgbGV0IHRvZ05vQ2hlY2sgPSBbXTtcclxuICAgICAgICBsZXQgY2hlY2tib3ggPSB0aGlzLnNlbGVjdG9yO1xyXG5cclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBsZXQgbGVuO1xyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjaGVja2JveC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZWxlbSA9IGNoZWNrYm94W2ldO1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudFRvZ2dsZSA9IGVsZW0ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudFRvZ2dsZSA9PSAnbnVsbCcpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudFRvZ2dsZS5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9DaGVjay5wdXNoKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ05vQ2hlY2sucHVzaChlbGVtZW50VG9nZ2xlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2sucHVzaChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0b2dDaGVjay5wdXNoKGVsZW1lbnRUb2dnbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNoZWNrLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNoZWNrW2ldLmNsYXNzTGlzdC5hZGQoJ2lzLWNoZWNrZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG5vQ2hlY2subGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgbm9DaGVja1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1jaGVja2VkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSB0b2dOb0NoZWNrLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRvZ05vQ2hlY2tbaV0ucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgIHRvZ05vQ2hlY2tbaV0uY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gdG9nQ2hlY2subGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdG9nQ2hlY2tbaV0uc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgdG9nQ2hlY2tbaV0uY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBodG1sIGV4YW1wbGVcclxuLy8gPGxhYmVsIGNsYXNzPVwiYmItY2hlY2tib3ggYmItY2hlY2tib3gtLXJhZGlvIGpzLWJiLXJhZGlvXCI+XHJcbi8vICAgICA8aW5wdXQgbmFtZT1cInJvbGVcIiB0eXBlPVwicmFkaW9cIj5cclxuLy8gICAgIDxzcGFuIGNsYXNzPVwiYmItY2hlY2tib3hfX2JveFwiPjwvc3Bhbj5cclxuLy8gICAgIDxzcGFuIGNsYXNzPVwiYmItY2hlY2tib3hfX3RpdGxlXCI+0KHQsNC70L7QvTwvc3Bhbj5cclxuLy8gPC9sYWJlbD5cclxuY2xhc3MgUmFkaW8ge1xyXG4gICAgY29uc3RydWN0b3IoYXJncykge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBhcmdzLnNlbGVjdG9yO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2VsZWN0b3IgPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBsZXQgbWFpblNjb3BlID0gdGhpcztcclxuICAgICAgICAkKHRoaXMuc2VsZWN0b3IpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRUb2dnbGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJykgfHxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmZpbmQoJy5iYi1jaGVja2JveF9fdG9nZ2xlJyk7XHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50VG9nZ2xlTmFtZSA9IGVsZW1lbnRUb2dnbGUuYXR0cignbmFtZScpO1xyXG4gICAgICAgICAgICBsZXQgYWxsRWxlbWVudHMgPSAkKFxyXG4gICAgICAgICAgICAgICAgbWFpblNjb3BlLnNlbGVjdG9yLFxyXG4gICAgICAgICAgICAgICAgJ1tuYW1lPVwiJyArIGVsZW1lbnRUb2dnbGVOYW1lICsgJ1wiXSdcclxuICAgICAgICAgICAgKS5wcmV2T2JqZWN0O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGFsbEVsZW1lbnRzLmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWxsRWxlbWVudHNbYV0gIT0gZWxlbWVudFRvZ2dsZVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvdGhlclJhZGlvID0gJChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5TY29wZS5fZ2V0Q2xpY2tFbGVtZW50KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5TY29wZS5zZWxlY3Rvci5zcGxpdCgnLicpWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEVsZW1lbnRzW2FdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyUmFkaW9Ub2dnbGUgPSBvdGhlclJhZGlvLmZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5wdXRbdHlwZT1cInJhZGlvXCJdJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUmFkaW9Ub2dnbGUucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUmFkaW9Ub2dnbGUucHJvcCgnY2hlY2tlZCcsIGZhbHNlKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlclJhZGlvLnJlbW92ZUNsYXNzKCdpcy1jaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50VG9nZ2xlLnByb3AoJ2NoZWNrZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudFRvZ2dsZS5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRUb2dnbGUucHJvcCgnY2hlY2tlZCcsIHRydWUpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaXMtY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldENsaWNrRWxlbWVudChlbGVtZW50Q2xhc3MsIG5ld1RhcmdldCkge1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBuZXdUYXJnZXQgIT0gdW5kZWZpbmVkID8gbmV3VGFyZ2V0IDogZXZlbnQudGFyZ2V0LFxyXG4gICAgICAgICAgICBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICAgIHdoaWxlICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhlbGVtZW50Q2xhc3MpICYmIHRhcmdldCAhPSBib2R5KSB7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0ID09IGJvZHkgPyB1bmRlZmluZWQgOiB0YXJnZXQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENoZWNrQm94LCBSYWRpbyB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7OztBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6Q0E7QUFDQTtBQUVBO0FBQUE7QUF1Q0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///dOuSRFLb\n");

/***/ }),

/***/ "h2g7fv8v":
/*!*******************************!*\
  !*** ./components/CopyBox.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*  html example\r\n    <div class=\"js-copy-box\">\r\n        @content\r\n        <button class=\"js-copy-box-btn\"></button>\r\n    </div>\r\n*/\n\nvar CopyBox = function () {\n    function CopyBox(args) {\n        _classCallCheck(this, CopyBox);\n\n        this.selector = args.selector;\n\n        if (typeof this.selector == 'undefined') {\n            return;\n        }\n\n        this._onClick = this._onClick.bind(this);\n    }\n\n    _createClass(CopyBox, [{\n        key: 'init',\n        value: function init() {\n            this._addEventListeners();\n        }\n    }, {\n        key: '_addEventListeners',\n        value: function _addEventListeners() {\n            var _this = this;\n\n            document.addEventListener('click', function (e) {\n                _this._onClick(e);\n                _this._removeElement(e);\n            });\n            // document.addEventListener('click', e => {\n            // });\n        }\n\n        //Копируем элемент очищая его поля инпутов, селектов и вставляем клон выше\n\n    }, {\n        key: '_onClick',\n        value: function _onClick(e) {\n            var $target = $(e.target);\n\n            if ($target.closest(this.selector + '-btn--add').length) {\n                console.log('I\\'m work');\n                var $parent = $target.closest(this.selector);\n                var $clone = void 0;\n\n                $clone = $parent.clone().addClass('is-cloned');\n                $clone.find('input, select, textarea').val('');\n                $clone.find('[data-copy-remove]').remove();\n                $clone.insertBefore($parent);\n            }\n        }\n    }, {\n        key: '_removeElement',\n        value: function _removeElement(e) {\n            var $target = $(e.target);\n\n            if ($target.closest(this.selector + '-btn--remove').length) {\n                $target.closest(this.selector).remove();\n            }\n        }\n    }]);\n\n    return CopyBox;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CopyBox);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaDJnN2Z2OHYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvQ29weUJveC5qcz9iMDE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qICBodG1sIGV4YW1wbGVcclxuICAgIDxkaXYgY2xhc3M9XCJqcy1jb3B5LWJveFwiPlxyXG4gICAgICAgIEBjb250ZW50XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImpzLWNvcHktYm94LWJ0blwiPjwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb3B5Qm94IHtcclxuICAgIGNvbnN0cnVjdG9yKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gYXJncy5zZWxlY3RvcjtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNlbGVjdG9yID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX29uQ2xpY2sgPSB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9hZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9vbkNsaWNrKGUpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVFbGVtZW50KGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/QmtC+0L/QuNGA0YPQtdC8INGN0LvQtdC80LXQvdGCINC+0YfQuNGJ0LDRjyDQtdCz0L4g0L/QvtC70Y8g0LjQvdC/0YPRgtC+0LIsINGB0LXQu9C10LrRgtC+0LIg0Lgg0LLRgdGC0LDQstC70Y/QtdC8INC60LvQvtC9INCy0YvRiNC1XHJcbiAgICBfb25DbGljayhlKSB7XHJcbiAgICAgICAgbGV0ICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgaWYgKCR0YXJnZXQuY2xvc2VzdCh0aGlzLnNlbGVjdG9yICsgJy1idG4tLWFkZCcpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSSdtIHdvcmtgKTtcclxuICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkdGFyZ2V0LmNsb3Nlc3QodGhpcy5zZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIGxldCAkY2xvbmU7XHJcblxyXG4gICAgICAgICAgICAkY2xvbmUgPSAkcGFyZW50LmNsb25lKCkuYWRkQ2xhc3MoJ2lzLWNsb25lZCcpO1xyXG4gICAgICAgICAgICAkY2xvbmUuZmluZCgnaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEnKS52YWwoJycpO1xyXG4gICAgICAgICAgICAkY2xvbmUuZmluZCgnW2RhdGEtY29weS1yZW1vdmVdJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICRjbG9uZS5pbnNlcnRCZWZvcmUoJHBhcmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9yZW1vdmVFbGVtZW50KGUpIHtcclxuICAgICAgICBsZXQgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cclxuICAgICAgICBpZiAoJHRhcmdldC5jbG9zZXN0KHRoaXMuc2VsZWN0b3IgKyAnLWJ0bi0tcmVtb3ZlJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICR0YXJnZXQuY2xvc2VzdCh0aGlzLnNlbGVjdG9yKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUE5Q0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///h2g7fv8v\n");

/***/ }),

/***/ "iMeQy0Um":
/*!***************************!*\
  !*** ./modules/Filter.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_core_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/js/core/utils */ \"rlXYgjnQ\");\nBB.define('Modules.Filter');\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Modules.Filter = function () {\n    var filter = void 0,\n        overlay = void 0,\n        catalogInner = void 0,\n        widthWindow = void 0,\n        newWidthWindow = void 0;\n    function _init(element) {\n        filter = element.querySelector('.catalog-filter');\n        if (filter) {\n            catalogInner = element.querySelector('.catalog__inner');\n            overlay = document.querySelector('.js-overlay');\n            if (true) {\n                if (!overlay) {\n                    console.error('Для модуля Filter требуется DOM элемент overlay');\n                }\n            }\n            widthWindow = document.documentElement.offsetWidth;\n            _filterControlToResize();\n            _addEventListener();\n        }\n    }\n\n    function _addEventListener() {\n        document.querySelectorAll('.js-mobile-filter--open').forEach(function (block) {\n            block.removeEventListener('click', _filterOpen);\n            block.addEventListener('click', _filterOpen);\n        });\n\n        document.querySelectorAll('.js-catalog-filter--close').forEach(function (block) {\n            block.removeEventListener('click', _filterClose);\n            block.addEventListener('click', _filterClose);\n        });\n\n        window.removeEventListener('resize', _filterControlToResize, false);\n        window.addEventListener('resize', _filterControlToResize, false);\n    }\n\n    function _filterOpen(e) {\n        _js_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].documentBlockControl('open', '.catalog-filter', e.target.closest('.js-mobile-filter--open'));\n        overlay.classList.add('is-visible');\n    }\n\n    function _filterClose() {\n        _js_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].documentBlockControl('close');\n        overlay.classList.remove('is-visible');\n    }\n\n    function _filterControlToResize() {\n        if (filter.classList.contains('is-open')) {\n            _js_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].documentBlockControl('close');\n            overlay.classList.remove('is-visible');\n        }\n        newWidthWindow = document.documentElement.offsetWidth;\n\n        if (widthWindow != newWidthWindow) {\n            if (widthWindow >= 480 && newWidthWindow <= 480) {\n                overlay.after(filter);\n                widthWindow = document.documentElement.offsetWidth;\n            } else {\n                if (widthWindow <= 480 && newWidthWindow >= 480) {\n                    catalogInner.prepend(filter);\n                    filter.removeAttribute('inert');\n                    filter.removeAttribute('tabindex');\n                    widthWindow = document.documentElement.offsetWidth;\n                }\n            }\n        } else {\n            if (widthWindow <= 480 && newWidthWindow <= 480) {\n                overlay.after(filter);\n            }\n        }\n        _addEventListener();\n    }\n\n    // function _toggle(e) {\n    //     let OPEN_CLASS = 'is-open';\n\n    //     let $catalogFilter = $(document).find('.catalog-filter');\n    //     if (!this.open) {\n    //         $catalogFilter.addClass(OPEN_CLASS);\n    //         this.open = true;\n\n    //         if ($(window).width() > 480) {\n    //             $overlay.addClass('is-visible overlay--filter');\n    //         }\n    //     } else {\n    //         $html.removeAttr('style')\n    //         $overlay.removeClass('is-visible overlay--filter');\n    //         $catalogFilter.removeClass(OPEN_CLASS);\n    //         this.open = false;\n    //     }\n    //     e.preventDefault();\n    // }\n\n    return {\n        init: _init\n    };\n}());\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaU1lUXkwVW0uanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL21vZHVsZXMvRmlsdGVyLmpzP2UyYzgiXSwic291cmNlc0NvbnRlbnQiOlsiQkIuZGVmaW5lKCdNb2R1bGVzLkZpbHRlcicpO1xyXG5cclxuaW1wb3J0IFV0aWxzIGZyb20gJ0AvanMvY29yZS91dGlscyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCQi5Nb2R1bGVzLkZpbHRlciA9IChmdW5jdGlvbigpIHtcclxuICAgIGxldCBmaWx0ZXIsIG92ZXJsYXksIGNhdGFsb2dJbm5lciwgd2lkdGhXaW5kb3csIG5ld1dpZHRoV2luZG93O1xyXG4gICAgZnVuY3Rpb24gX2luaXQoZWxlbWVudCkge1xyXG4gICAgICAgIGZpbHRlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGFsb2ctZmlsdGVyJyk7XHJcbiAgICAgICAgaWYgKGZpbHRlcikge1xyXG4gICAgICAgICAgICBjYXRhbG9nSW5uZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9nX19pbm5lcicpO1xyXG4gICAgICAgICAgICBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW92ZXJsYXknKTtcclxuICAgICAgICAgICAgaWYgKE5PREVfRU5WID09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICAgICAgICAgIGlmICghb3ZlcmxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQlNC70Y8g0LzQvtC00YPQu9GPIEZpbHRlciDRgtGA0LXQsdGD0LXRgtGB0Y8gRE9NINGN0LvQtdC80LXQvdGCIG92ZXJsYXknXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aWR0aFdpbmRvdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgX2ZpbHRlckNvbnRyb2xUb1Jlc2l6ZSgpO1xyXG4gICAgICAgICAgICBfYWRkRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtbW9iaWxlLWZpbHRlci0tb3BlbicpLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICBibG9jay5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF9maWx0ZXJPcGVuKTtcclxuICAgICAgICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZmlsdGVyT3Blbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtY2F0YWxvZy1maWx0ZXItLWNsb3NlJylcclxuICAgICAgICAgICAgLmZvckVhY2goYmxvY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgYmxvY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZmlsdGVyQ2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfZmlsdGVyQ2xvc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF9maWx0ZXJDb250cm9sVG9SZXNpemUsIGZhbHNlKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgX2ZpbHRlckNvbnRyb2xUb1Jlc2l6ZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9maWx0ZXJPcGVuKGUpIHtcclxuICAgICAgICBVdGlscy5kb2N1bWVudEJsb2NrQ29udHJvbChcclxuICAgICAgICAgICAgJ29wZW4nLFxyXG4gICAgICAgICAgICAnLmNhdGFsb2ctZmlsdGVyJyxcclxuICAgICAgICAgICAgZS50YXJnZXQuY2xvc2VzdCgnLmpzLW1vYmlsZS1maWx0ZXItLW9wZW4nKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdpcy12aXNpYmxlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2ZpbHRlckNsb3NlKCkge1xyXG4gICAgICAgIFV0aWxzLmRvY3VtZW50QmxvY2tDb250cm9sKCdjbG9zZScpO1xyXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnaXMtdmlzaWJsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9maWx0ZXJDb250cm9sVG9SZXNpemUoKSB7XHJcbiAgICAgICAgaWYgKGZpbHRlci5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLW9wZW4nKSkge1xyXG4gICAgICAgICAgICBVdGlscy5kb2N1bWVudEJsb2NrQ29udHJvbCgnY2xvc2UnKTtcclxuICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1dpZHRoV2luZG93ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG5cclxuICAgICAgICBpZiAod2lkdGhXaW5kb3cgIT0gbmV3V2lkdGhXaW5kb3cpIHtcclxuICAgICAgICAgICAgaWYgKHdpZHRoV2luZG93ID49IDQ4MCAmJiBuZXdXaWR0aFdpbmRvdyA8PSA0ODApIHtcclxuICAgICAgICAgICAgICAgIG92ZXJsYXkuYWZ0ZXIoZmlsdGVyKTtcclxuICAgICAgICAgICAgICAgIHdpZHRoV2luZG93ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoV2luZG93IDw9IDQ4MCAmJiBuZXdXaWR0aFdpbmRvdyA+PSA0ODApIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXRhbG9nSW5uZXIucHJlcGVuZChmaWx0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5yZW1vdmVBdHRyaWJ1dGUoJ2luZXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aFdpbmRvdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aFdpbmRvdyA8PSA0ODAgJiYgbmV3V2lkdGhXaW5kb3cgPD0gNDgwKSB7XHJcbiAgICAgICAgICAgICAgICBvdmVybGF5LmFmdGVyKGZpbHRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgX2FkZEV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBfdG9nZ2xlKGUpIHtcclxuICAgIC8vICAgICBsZXQgT1BFTl9DTEFTUyA9ICdpcy1vcGVuJztcclxuXHJcbiAgICAvLyAgICAgbGV0ICRjYXRhbG9nRmlsdGVyID0gJChkb2N1bWVudCkuZmluZCgnLmNhdGFsb2ctZmlsdGVyJyk7XHJcbiAgICAvLyAgICAgaWYgKCF0aGlzLm9wZW4pIHtcclxuICAgIC8vICAgICAgICAgJGNhdGFsb2dGaWx0ZXIuYWRkQ2xhc3MoT1BFTl9DTEFTUyk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMub3BlbiA9IHRydWU7XHJcblxyXG4gICAgLy8gICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcclxuICAgIC8vICAgICAgICAgICAgICRvdmVybGF5LmFkZENsYXNzKCdpcy12aXNpYmxlIG92ZXJsYXktLWZpbHRlcicpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgJGh0bWwucmVtb3ZlQXR0cignc3R5bGUnKVxyXG4gICAgLy8gICAgICAgICAkb3ZlcmxheS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZSBvdmVybGF5LS1maWx0ZXInKTtcclxuICAgIC8vICAgICAgICAgJGNhdGFsb2dGaWx0ZXIucmVtb3ZlQ2xhc3MoT1BFTl9DTEFTUyk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0OiBfaW5pdCxcclxuICAgIH07XHJcbn0pKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///iMeQy0Um\n");

/***/ }),

/***/ "jTtAotVx":
/*!**********************************!*\
  !*** ./core/components/Input.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var inputmask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! inputmask */ \"b7pYo+UM\");\n/* harmony import */ var inputmask__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(inputmask__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * BB.Components.Input.js\n *\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\n */\n\nBB.define('Core.Input');\n\n\nwindow.Inputmask = inputmask__WEBPACK_IMPORTED_MODULE_0___default.a;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Core.Input = function () {\n    function _init() {\n        _initMask();\n        _initInputSearch();\n        _addEventListener();\n        _initFocus();\n\n        if (true) {\n            console.log('--- INIT CORE INPUT');\n        }\n    }\n\n    //Masked inputmask https://github.com/RobinHerbots/Inputmask\n    function _initMask() {\n        var phoneMask = new inputmask__WEBPACK_IMPORTED_MODULE_0___default.a('+7 (999) 999-99-99');\n        var inputPhone = document.querySelectorAll('.js-phone-mask');\n\n        if (inputPhone) {\n            for (var i = 0; i < inputPhone.length; i++) {\n                phoneMask.mask(inputPhone[i]);\n            }\n        }\n    }\n\n    function _initInputSearch() {\n        var $inputSearch = $(document).find('.js-input');\n\n        if ($inputSearch.length) {\n            var _clearInput = function _clearInput() {\n                $(this).closest('.js-search').find('.js-input').val('');\n\n                $(this).hide().closest('.js-search').find('.bb-input__icon').not('.js-input--clear').show();\n\n                $(this).closest('.js-search').find('.search__hint').css('display', 'none');\n            };\n\n            $inputSearch.each(function () {\n                var $inputBox = $(this).closest('.js-input-box');\n                var $btnReset = $inputBox.find('.js-input--clear');\n                var $btnSearch = $inputBox.find('.bb-input__icon-search, .search__ico');\n                var $inputVal = void 0;\n\n                $(this).off();\n\n                $(this).on('keyup', function () {\n                    var $parent = $(this).closest('.js-input-block');\n                    var $btn = $parent.find('.js-user-link');\n                    var $btnData = $(this).data('clipboard-text');\n                    $inputVal = $(this).val();\n\n                    $btn.attr('data-clipboard-text', $btnData + $inputVal);\n\n                    _toggleInputBtn($inputVal);\n                }).on('blur', function () {\n                    $inputVal = $(this).val();\n\n                    _toggleInputBtn($inputVal);\n                });\n\n                function _toggleInputBtn(value) {\n                    if (value != '') {\n                        $btnReset.show();\n                        $btnSearch.hide();\n                    } else {\n                        $btnReset.hide();\n                        $btnSearch.show();\n                    }\n                }\n            });\n\n            $('.js-input--clear').off('click', _clearInput);\n\n            $('.js-input--clear').on('click', _clearInput);\n        }\n    }\n\n    function _addEventListener() {\n        var $bbInput = $(document).find('.js-bb-input');\n        if ($bbInput.length) {\n            $bbInput.each(function () {\n                var $parent = $(this).parent('.bb-input, .bb-text');\n\n                $(this).on('focus', function () {\n                    $parent.addClass('is-focus');\n                }).on('blur', function () {\n                    if ($(this).val() === '') {\n                        $parent.removeClass('is-focus');\n                    }\n                });\n\n                if ($(this).val() !== '') {\n                    $parent.addClass('is-focus');\n                } else {\n                    $parent.removeClass('is-focus');\n                }\n            });\n        }\n\n        $('.js-input--copy').on('click', function () {\n            var input = $(this).parent().find('input');\n            input.select();\n            document.execCommand('Copy');\n        });\n\n        $('.js-copy-text').on('click', function () {\n            var input = $(this).parent().find('.user-share__link');\n            input.text();\n            document.execCommand('Copy');\n        });\n\n        //Click input select value\n        $('.js-input-focus--copy').on('focus', function () {\n            $(this).select();\n        });\n\n        //Show Password\n        $('.js-bb-input-password--show').on('click', function () {\n            $(this).css('display', 'none');\n            $(this).next().css('display', 'block');\n            $(this).parent().find('input[type=\"password\"]').attr('type', 'text');\n        });\n\n        //Hide Password\n        $('.js-bb-input-password--hide').on('click', function () {\n            $(this).css('display', 'none');\n            $(this).prev().css('display', 'block');\n            $(this).parent().find('input[type=\"text\"]').attr('type', 'password');\n        });\n\n        $(document).on('click', '.js-bb-input-tip', function () {\n            if ($(this).hasClass('no-close')) {\n                return;\n            }\n            $(this).parent().removeClass('is-info is-error is-invalid').end().hide();\n        });\n    }\n\n    function _initFocus() {\n        var input = '.js-input-focus';\n        var $input = $(input);\n\n        if ($input.length) {\n            $input.on('focus', function () {\n                $(this).parent().addClass('is-focus has-focus');\n            }).on('blur', function () {\n                $(this).parent().removeClass('has-focus');\n                if ($(this).val() === '') {\n                    $(this).parent().removeClass('is-focus');\n                }\n            }).on('keyup', function () {\n                if ($(this).val() > 0) {\n                    $(this).parent().next().children('input').focus();\n                }\n            }).on('keydown', function (e) {\n                var key = e.keyCode || e.charCode;\n\n                if (key == 8 || key == 46) {\n                    $(this).val('').parent().prev().children('input').focus();\n                }\n            });\n        }\n    }\n\n    return {\n        init: _init,\n        initMask: _initMask,\n        initInputSearch: _initInputSearch\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoialR0QW90VnguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvY29tcG9uZW50cy9JbnB1dC5qcz9mOTkzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQkIuQ29tcG9uZW50cy5JbnB1dC5qc1xuICpcbiAqIEBhdXRob3IgQW50b24gVXN0aW5vZmYgPGEuYS51c3Rpbm9mZkBnbWFpbC5jb20+XG4gKi9cblxuQkIuZGVmaW5lKCdDb3JlLklucHV0Jyk7XG5cbmltcG9ydCBJbnB1dG1hc2sgZnJvbSAnaW5wdXRtYXNrJztcbndpbmRvdy5JbnB1dG1hc2sgPSBJbnB1dG1hc2s7XG5cbmV4cG9ydCBkZWZhdWx0IEJCLkNvcmUuSW5wdXQgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICAgIF9pbml0TWFzaygpO1xuICAgICAgICBfaW5pdElucHV0U2VhcmNoKCk7XG4gICAgICAgIF9hZGRFdmVudExpc3RlbmVyKCk7XG4gICAgICAgIF9pbml0Rm9jdXMoKTtcblxuICAgICAgICBpZiAoTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLSBJTklUIENPUkUgSU5QVVQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vTWFza2VkIGlucHV0bWFzayBodHRwczovL2dpdGh1Yi5jb20vUm9iaW5IZXJib3RzL0lucHV0bWFza1xuICAgIGZ1bmN0aW9uIF9pbml0TWFzaygpIHtcbiAgICAgICAgY29uc3QgcGhvbmVNYXNrID0gbmV3IElucHV0bWFzaygnKzcgKDk5OSkgOTk5LTk5LTk5Jyk7XG4gICAgICAgIGNvbnN0IGlucHV0UGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtcGhvbmUtbWFzaycpO1xuXG4gICAgICAgIGlmIChpbnB1dFBob25lKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0UGhvbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwaG9uZU1hc2subWFzayhpbnB1dFBob25lW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0SW5wdXRTZWFyY2goKSB7XG4gICAgICAgIGxldCAkaW5wdXRTZWFyY2ggPSAkKGRvY3VtZW50KS5maW5kKCcuanMtaW5wdXQnKTtcblxuICAgICAgICBpZiAoJGlucHV0U2VhcmNoLmxlbmd0aCkge1xuICAgICAgICAgICAgJGlucHV0U2VhcmNoLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGlucHV0Qm94ID0gJCh0aGlzKS5jbG9zZXN0KCcuanMtaW5wdXQtYm94Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgJGJ0blJlc2V0ID0gJGlucHV0Qm94LmZpbmQoJy5qcy1pbnB1dC0tY2xlYXInKTtcbiAgICAgICAgICAgICAgICBjb25zdCAkYnRuU2VhcmNoID0gJGlucHV0Qm94LmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICcuYmItaW5wdXRfX2ljb24tc2VhcmNoLCAuc2VhcmNoX19pY28nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBsZXQgJGlucHV0VmFsO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5vZmYoKTtcblxuICAgICAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgJHBhcmVudCA9ICQodGhpcykuY2xvc2VzdCgnLmpzLWlucHV0LWJsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkYnRuID0gJHBhcmVudC5maW5kKCcuanMtdXNlci1saW5rJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkYnRuRGF0YSA9ICQodGhpcykuZGF0YSgnY2xpcGJvYXJkLXRleHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dFZhbCA9ICQodGhpcykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRidG4uYXR0cignZGF0YS1jbGlwYm9hcmQtdGV4dCcsICRidG5EYXRhICsgJGlucHV0VmFsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3RvZ2dsZUlucHV0QnRuKCRpbnB1dFZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0VmFsID0gJCh0aGlzKS52YWwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3RvZ2dsZUlucHV0QnRuKCRpbnB1dFZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gX3RvZ2dsZUlucHV0QnRuKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGJ0blJlc2V0LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRidG5TZWFyY2guaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGJ0blJlc2V0LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRidG5TZWFyY2guc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJy5qcy1pbnB1dC0tY2xlYXInKS5vZmYoJ2NsaWNrJywgX2NsZWFySW5wdXQpO1xuXG4gICAgICAgICAgICAkKCcuanMtaW5wdXQtLWNsZWFyJykub24oJ2NsaWNrJywgX2NsZWFySW5wdXQpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBfY2xlYXJJbnB1dCgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuanMtc2VhcmNoJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5qcy1pbnB1dCcpXG4gICAgICAgICAgICAgICAgICAgIC52YWwoJycpO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAuaGlkZSgpXG4gICAgICAgICAgICAgICAgICAgIC5jbG9zZXN0KCcuanMtc2VhcmNoJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5iYi1pbnB1dF9faWNvbicpXG4gICAgICAgICAgICAgICAgICAgIC5ub3QoJy5qcy1pbnB1dC0tY2xlYXInKVxuICAgICAgICAgICAgICAgICAgICAuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLXNlYXJjaCcpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuc2VhcmNoX19oaW50JylcbiAgICAgICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgICAgbGV0ICRiYklucHV0ID0gJChkb2N1bWVudCkuZmluZCgnLmpzLWJiLWlucHV0Jyk7XG4gICAgICAgIGlmICgkYmJJbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICRiYklucHV0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGV0ICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgnLmJiLWlucHV0LCAuYmItdGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdpcy1mb2N1cycpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2lzLWZvY3VzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2lzLWZvY3VzJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaXMtZm9jdXMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy5qcy1pbnB1dC0tY29weScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gJCh0aGlzKVxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgICAgICAgIC5maW5kKCdpbnB1dCcpO1xuICAgICAgICAgICAgaW5wdXQuc2VsZWN0KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnQ29weScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuanMtY29weS10ZXh0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgLmZpbmQoJy51c2VyLXNoYXJlX19saW5rJyk7XG4gICAgICAgICAgICBpbnB1dC50ZXh0KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnQ29weScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL0NsaWNrIGlucHV0IHNlbGVjdCB2YWx1ZVxuICAgICAgICAkKCcuanMtaW5wdXQtZm9jdXMtLWNvcHknKS5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuc2VsZWN0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vU2hvdyBQYXNzd29yZFxuICAgICAgICAkKCcuanMtYmItaW5wdXQtcGFzc3dvcmQtLXNob3cnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgICAubmV4dCgpXG4gICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgICAgICAgIC5maW5kKCdpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0nKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9IaWRlIFBhc3N3b3JkXG4gICAgICAgICQoJy5qcy1iYi1pbnB1dC1wYXNzd29yZC0taGlkZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgIC5wcmV2KClcbiAgICAgICAgICAgICAgICAuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJylcbiAgICAgICAgICAgICAgICAuYXR0cigndHlwZScsICdwYXNzd29yZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWJiLWlucHV0LXRpcCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ25vLWNsb3NlJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdpcy1pbmZvIGlzLWVycm9yIGlzLWludmFsaWQnKVxuICAgICAgICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgICAgICAgIC5oaWRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbml0Rm9jdXMoKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gJy5qcy1pbnB1dC1mb2N1cyc7XG4gICAgICAgIGNvbnN0ICRpbnB1dCA9ICQoaW5wdXQpO1xuXG4gICAgICAgIGlmICgkaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAkaW5wdXRcbiAgICAgICAgICAgICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdpcy1mb2N1cyBoYXMtZm9jdXMnKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaGFzLWZvY3VzJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaXMtZm9jdXMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyZW50KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCdpbnB1dCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZS5rZXlDb2RlIHx8IGUuY2hhckNvZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSA4IHx8IGtleSA9PSA0Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWwoJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnByZXYoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbignaW5wdXQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBfaW5pdCxcbiAgICAgICAgaW5pdE1hc2s6IF9pbml0TWFzayxcbiAgICAgICAgaW5pdElucHV0U2VhcmNoOiBfaW5pdElucHV0U2VhcmNoLFxuICAgIH07XG59KSgpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUE0Q0E7QUFDQTtBQUlBO0FBQ0E7QUFNQTtBQUlBO0FBQ0E7QUE1REE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///jTtAotVx\n");

/***/ }),

/***/ "m95++I2L":
/*!*******************************!*\
  !*** ./_lib/lazysizes.min.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! lazysizes - v5.1.1 */\n!(function(a, b) {\n    var c = b(a, a.document);\n    (a.lazySizes = c),\n         true && module.exports && (module.exports = c);\n})('undefined' != typeof window ? window : {}, function(a, b) {\n    'use strict';\n    var c, d;\n    if (\n        ((function() {\n            var b,\n                c = {\n                    lazyClass: 'lazyload',\n                    loadedClass: 'lazyloaded',\n                    loadingClass: 'lazyloading',\n                    preloadClass: 'lazypreload',\n                    errorClass: 'lazyerror',\n                    autosizesClass: 'lazyautosizes',\n                    srcAttr: 'data-src',\n                    srcsetAttr: 'data-srcset',\n                    sizesAttr: 'data-sizes',\n                    minSize: 40,\n                    customMedia: {},\n                    init: !0,\n                    expFactor: 1.5,\n                    hFac: 0.8,\n                    loadMode: 2,\n                    loadHidden: !0,\n                    ricTimeout: 0,\n                    throttleDelay: 125,\n                };\n            d = a.lazySizesConfig || a.lazysizesConfig || {};\n            for (b in c) b in d || (d[b] = c[b]);\n        })(),\n        !b || !b.getElementsByClassName)\n    )\n        return { init: function() {}, cfg: d, noSupport: !0 };\n    var e = b.documentElement,\n        f = a.Date,\n        g = a.HTMLPictureElement,\n        h = 'addEventListener',\n        i = 'getAttribute',\n        j = a[h],\n        k = a.setTimeout,\n        l = a.requestAnimationFrame || k,\n        m = a.requestIdleCallback,\n        n = /^picture$/i,\n        o = ['load', 'error', 'lazyincluded', '_lazyloaded'],\n        p = {},\n        q = Array.prototype.forEach,\n        r = function(a, b) {\n            return (\n                p[b] || (p[b] = new RegExp('(\\\\s|^)' + b + '(\\\\s|$)')),\n                p[b].test(a[i]('class') || '') && p[b]\n            );\n        },\n        s = function(a, b) {\n            r(a, b) ||\n                a.setAttribute('class', (a[i]('class') || '').trim() + ' ' + b);\n        },\n        t = function(a, b) {\n            var c;\n            (c = r(a, b)) &&\n                a.setAttribute('class', (a[i]('class') || '').replace(c, ' '));\n        },\n        u = function(a, b, c) {\n            var d = c ? h : 'removeEventListener';\n            c && u(a, b),\n                o.forEach(function(c) {\n                    a[d](c, b);\n                });\n        },\n        v = function(a, d, e, f, g) {\n            var h = b.createEvent('Event');\n            return (\n                e || (e = {}),\n                (e.instance = c),\n                h.initEvent(d, !f, !g),\n                (h.detail = e),\n                a.dispatchEvent(h),\n                h\n            );\n        },\n        w = function(b, c) {\n            var e;\n            !g && (e = a.picturefill || d.pf)\n                ? (c &&\n                      c.src &&\n                      !b[i]('srcset') &&\n                      b.setAttribute('srcset', c.src),\n                  e({ reevaluate: !0, elements: [b] }))\n                : c && c.src && (b.src = c.src);\n        },\n        x = function(a, b) {\n            return (getComputedStyle(a, null) || {})[b];\n        },\n        y = function(a, b, c) {\n            for (\n                c = c || a.offsetWidth;\n                c < d.minSize && b && !a._lazysizesWidth;\n\n            )\n                (c = b.offsetWidth), (b = b.parentNode);\n            return c;\n        },\n        z = (function() {\n            var a,\n                c,\n                d = [],\n                e = [],\n                f = d,\n                g = function() {\n                    var b = f;\n                    for (f = d.length ? e : d, a = !0, c = !1; b.length; )\n                        b.shift()();\n                    a = !1;\n                },\n                h = function(d, e) {\n                    a && !e\n                        ? d.apply(this, arguments)\n                        : (f.push(d), c || ((c = !0), (b.hidden ? k : l)(g)));\n                };\n            return (h._lsFlush = g), h;\n        })(),\n        A = function(a, b) {\n            return b\n                ? function() {\n                      z(a);\n                  }\n                : function() {\n                      var b = this,\n                          c = arguments;\n                      z(function() {\n                          a.apply(b, c);\n                      });\n                  };\n        },\n        B = function(a) {\n            var b,\n                c = 0,\n                e = d.throttleDelay,\n                g = d.ricTimeout,\n                h = function() {\n                    (b = !1), (c = f.now()), a();\n                },\n                i =\n                    m && g > 49\n                        ? function() {\n                              m(h, { timeout: g }),\n                                  g !== d.ricTimeout && (g = d.ricTimeout);\n                          }\n                        : A(function() {\n                              k(h);\n                          }, !0);\n            return function(a) {\n                var d;\n                (a = !0 === a) && (g = 33),\n                    b ||\n                        ((b = !0),\n                        (d = e - (f.now() - c)),\n                        d < 0 && (d = 0),\n                        a || d < 9 ? i() : k(i, d));\n            };\n        },\n        C = function(a) {\n            var b,\n                c,\n                d = 99,\n                e = function() {\n                    (b = null), a();\n                },\n                g = function() {\n                    var a = f.now() - c;\n                    a < d ? k(g, d - a) : (m || e)(e);\n                };\n            return function() {\n                (c = f.now()), b || (b = k(g, d));\n            };\n        },\n        D = (function() {\n            var g,\n                l,\n                m,\n                o,\n                p,\n                y,\n                D,\n                F,\n                G,\n                H,\n                I,\n                J,\n                K = /^img$/i,\n                L = /^iframe$/i,\n                M =\n                    'onscroll' in a &&\n                    !/(gle|ing)bot/.test(navigator.userAgent),\n                N = 0,\n                O = 0,\n                P = 0,\n                Q = -1,\n                R = function(a) {\n                    P--, (!a || P < 0 || !a.target) && (P = 0);\n                },\n                S = function(a) {\n                    return (\n                        null == J && (J = 'hidden' == x(b.body, 'visibility')),\n                        J ||\n                            ('hidden' != x(a.parentNode, 'visibility') &&\n                                'hidden' != x(a, 'visibility'))\n                    );\n                },\n                T = function(a, c) {\n                    var d,\n                        f = a,\n                        g = S(a);\n                    for (\n                        F -= c, I += c, G -= c, H += c;\n                        g && (f = f.offsetParent) && f != b.body && f != e;\n\n                    )\n                        (g = (x(f, 'opacity') || 1) > 0) &&\n                            'visible' != x(f, 'overflow') &&\n                            ((d = f.getBoundingClientRect()),\n                            (g =\n                                H > d.left &&\n                                G < d.right &&\n                                I > d.top - 1 &&\n                                F < d.bottom + 1));\n                    return g;\n                },\n                U = function() {\n                    var a,\n                        f,\n                        h,\n                        j,\n                        k,\n                        m,\n                        n,\n                        p,\n                        q,\n                        r,\n                        s,\n                        t,\n                        u = c.elements;\n                    if ((o = d.loadMode) && P < 8 && (a = u.length)) {\n                        for (f = 0, Q++; f < a; f++)\n                            if (u[f] && !u[f]._lazyRace)\n                                if (\n                                    !M ||\n                                    (c.prematureUnveil &&\n                                        c.prematureUnveil(u[f]))\n                                )\n                                    aa(u[f]);\n                                else if (\n                                    (((p = u[f][i]('data-expand')) &&\n                                        (m = 1 * p)) ||\n                                        (m = O),\n                                    r ||\n                                        ((r =\n                                            !d.expand || d.expand < 1\n                                                ? e.clientHeight > 500 &&\n                                                  e.clientWidth > 500\n                                                    ? 500\n                                                    : 370\n                                                : d.expand),\n                                        (c._defEx = r),\n                                        (s = r * d.expFactor),\n                                        (t = d.hFac),\n                                        (J = null),\n                                        O < s &&\n                                        P < 1 &&\n                                        Q > 2 &&\n                                        o > 2 &&\n                                        !b.hidden\n                                            ? ((O = s), (Q = 0))\n                                            : (O =\n                                                  o > 1 && Q > 1 && P < 6\n                                                      ? r\n                                                      : N)),\n                                    q !== m &&\n                                        ((y = innerWidth + m * t),\n                                        (D = innerHeight + m),\n                                        (n = -1 * m),\n                                        (q = m)),\n                                    (h = u[f].getBoundingClientRect()),\n                                    (I = h.bottom) >= n &&\n                                        (F = h.top) <= D &&\n                                        (H = h.right) >= n * t &&\n                                        (G = h.left) <= y &&\n                                        (I || H || G || F) &&\n                                        (d.loadHidden || S(u[f])) &&\n                                        ((l &&\n                                            P < 3 &&\n                                            !p &&\n                                            (o < 3 || Q < 4)) ||\n                                            T(u[f], m)))\n                                ) {\n                                    if ((aa(u[f]), (k = !0), P > 9)) break;\n                                } else\n                                    !k &&\n                                        l &&\n                                        !j &&\n                                        P < 4 &&\n                                        Q < 4 &&\n                                        o > 2 &&\n                                        (g[0] || d.preloadAfterLoad) &&\n                                        (g[0] ||\n                                            (!p &&\n                                                (I ||\n                                                    H ||\n                                                    G ||\n                                                    F ||\n                                                    'auto' !=\n                                                        u[f][i](\n                                                            d.sizesAttr\n                                                        )))) &&\n                                        (j = g[0] || u[f]);\n                        j && !k && aa(j);\n                    }\n                },\n                V = B(U),\n                W = function(a) {\n                    var b = a.target;\n                    if (b._lazyCache) return void delete b._lazyCache;\n                    R(a),\n                        s(b, d.loadedClass),\n                        t(b, d.loadingClass),\n                        u(b, Y),\n                        v(b, 'lazyloaded');\n                },\n                X = A(W),\n                Y = function(a) {\n                    X({ target: a.target });\n                },\n                Z = function(a, b) {\n                    try {\n                        a.contentWindow.location.replace(b);\n                    } catch (c) {\n                        a.src = b;\n                    }\n                },\n                $ = function(a) {\n                    var b,\n                        c = a[i](d.srcsetAttr);\n                    (b = d.customMedia[a[i]('data-media') || a[i]('media')]) &&\n                        a.setAttribute('media', b),\n                        c && a.setAttribute('srcset', c);\n                },\n                _ = A(function(a, b, c, e, f) {\n                    var g, h, j, l, o, p;\n                    (o = v(a, 'lazybeforeunveil', b)).defaultPrevented ||\n                        (e &&\n                            (c\n                                ? s(a, d.autosizesClass)\n                                : a.setAttribute('sizes', e)),\n                        (h = a[i](d.srcsetAttr)),\n                        (g = a[i](d.srcAttr)),\n                        f &&\n                            ((j = a.parentNode),\n                            (l = j && n.test(j.nodeName || ''))),\n                        (p = b.firesLoad || ('src' in a && (h || g || l))),\n                        (o = { target: a }),\n                        s(a, d.loadingClass),\n                        p && (clearTimeout(m), (m = k(R, 2500)), u(a, Y, !0)),\n                        l && q.call(j.getElementsByTagName('source'), $),\n                        h\n                            ? a.setAttribute('srcset', h)\n                            : g &&\n                              !l &&\n                              (L.test(a.nodeName) ? Z(a, g) : (a.src = g)),\n                        f && (h || l) && w(a, { src: g })),\n                        a._lazyRace && delete a._lazyRace,\n                        t(a, d.lazyClass),\n                        z(function() {\n                            var b = a.complete && a.naturalWidth > 1;\n                            (p && !b) ||\n                                (b && s(a, 'ls-is-cached'),\n                                W(o),\n                                (a._lazyCache = !0),\n                                k(function() {\n                                    '_lazyCache' in a && delete a._lazyCache;\n                                }, 9)),\n                                'lazy' == a.loading && P--;\n                        }, !0);\n                }),\n                aa = function(a) {\n                    if (!a._lazyRace) {\n                        var b,\n                            c = K.test(a.nodeName),\n                            e = c && (a[i](d.sizesAttr) || a[i]('sizes')),\n                            f = 'auto' == e;\n                        ((!f && l) ||\n                            !c ||\n                            (!a[i]('src') && !a.srcset) ||\n                            a.complete ||\n                            r(a, d.errorClass) ||\n                            !r(a, d.lazyClass)) &&\n                            ((b = v(a, 'lazyunveilread').detail),\n                            f && E.updateElem(a, !0, a.offsetWidth),\n                            (a._lazyRace = !0),\n                            P++,\n                            _(a, b, f, e, c));\n                    }\n                },\n                ba = C(function() {\n                    (d.loadMode = 3), V();\n                }),\n                ca = function() {\n                    3 == d.loadMode && (d.loadMode = 2), ba();\n                },\n                da = function() {\n                    if (!l) {\n                        if (f.now() - p < 999) return void k(da, 999);\n                        (l = !0), (d.loadMode = 3), V(), j('scroll', ca, !0);\n                    }\n                };\n            return {\n                _: function() {\n                    (p = f.now()),\n                        (c.elements = b.getElementsByClassName(d.lazyClass)),\n                        (g = b.getElementsByClassName(\n                            d.lazyClass + ' ' + d.preloadClass\n                        )),\n                        j('scroll', V, !0),\n                        j('resize', V, !0),\n                        a.MutationObserver\n                            ? new MutationObserver(V).observe(e, {\n                                  childList: !0,\n                                  subtree: !0,\n                                  attributes: !0,\n                              })\n                            : (e[h]('DOMNodeInserted', V, !0),\n                              e[h]('DOMAttrModified', V, !0),\n                              setInterval(V, 999)),\n                        j('hashchange', V, !0),\n                        [\n                            'focus',\n                            'mouseover',\n                            'click',\n                            'load',\n                            'transitionend',\n                            'animationend',\n                        ].forEach(function(a) {\n                            b[h](a, V, !0);\n                        }),\n                        /d$|^c/.test(b.readyState)\n                            ? da()\n                            : (j('load', da),\n                              b[h]('DOMContentLoaded', V),\n                              k(da, 2e4)),\n                        c.elements.length ? (U(), z._lsFlush()) : V();\n                },\n                checkElems: V,\n                unveil: aa,\n                _aLSL: ca,\n            };\n        })(),\n        E = (function() {\n            var a,\n                c = A(function(a, b, c, d) {\n                    var e, f, g;\n                    if (\n                        ((a._lazysizesWidth = d),\n                        (d += 'px'),\n                        a.setAttribute('sizes', d),\n                        n.test(b.nodeName || ''))\n                    )\n                        for (\n                            e = b.getElementsByTagName('source'),\n                                f = 0,\n                                g = e.length;\n                            f < g;\n                            f++\n                        )\n                            e[f].setAttribute('sizes', d);\n                    c.detail.dataAttr || w(a, c.detail);\n                }),\n                e = function(a, b, d) {\n                    var e,\n                        f = a.parentNode;\n                    f &&\n                        ((d = y(a, f, d)),\n                        (e = v(a, 'lazybeforesizes', {\n                            width: d,\n                            dataAttr: !!b,\n                        })),\n                        e.defaultPrevented ||\n                            ((d = e.detail.width) &&\n                                d !== a._lazysizesWidth &&\n                                c(a, f, e, d)));\n                },\n                f = function() {\n                    var b,\n                        c = a.length;\n                    if (c) for (b = 0; b < c; b++) e(a[b]);\n                },\n                g = C(f);\n            return {\n                _: function() {\n                    (a = b.getElementsByClassName(d.autosizesClass)),\n                        j('resize', g);\n                },\n                checkElems: g,\n                updateElem: e,\n            };\n        })(),\n        F = function() {\n            !F.i && b.getElementsByClassName && ((F.i = !0), E._(), D._());\n        };\n    return (\n        k(function() {\n            d.init && F();\n        }),\n        (c = {\n            cfg: d,\n            autoSizer: E,\n            loader: D,\n            init: F,\n            uP: w,\n            aC: s,\n            rC: t,\n            hC: r,\n            fire: v,\n            gW: y,\n            rAF: z,\n        })\n    );\n});\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibTk1KytJMkwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fbGliL2xhenlzaXplcy5taW4uanM/OWJkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgbGF6eXNpemVzIC0gdjUuMS4xICovXG4hKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgYyA9IGIoYSwgYS5kb2N1bWVudCk7XG4gICAgKGEubGF6eVNpemVzID0gYyksXG4gICAgICAgICdvYmplY3QnID09IHR5cGVvZiBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMgJiYgKG1vZHVsZS5leHBvcnRzID0gYyk7XG59KSgndW5kZWZpbmVkJyAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDoge30sIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGMsIGQ7XG4gICAgaWYgKFxuICAgICAgICAoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGIsXG4gICAgICAgICAgICAgICAgYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGF6eUNsYXNzOiAnbGF6eWxvYWQnLFxuICAgICAgICAgICAgICAgICAgICBsb2FkZWRDbGFzczogJ2xhenlsb2FkZWQnLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nQ2xhc3M6ICdsYXp5bG9hZGluZycsXG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRDbGFzczogJ2xhenlwcmVsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDbGFzczogJ2xhenllcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9zaXplc0NsYXNzOiAnbGF6eWF1dG9zaXplcycsXG4gICAgICAgICAgICAgICAgICAgIHNyY0F0dHI6ICdkYXRhLXNyYycsXG4gICAgICAgICAgICAgICAgICAgIHNyY3NldEF0dHI6ICdkYXRhLXNyY3NldCcsXG4gICAgICAgICAgICAgICAgICAgIHNpemVzQXR0cjogJ2RhdGEtc2l6ZXMnLFxuICAgICAgICAgICAgICAgICAgICBtaW5TaXplOiA0MCxcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tTWVkaWE6IHt9LFxuICAgICAgICAgICAgICAgICAgICBpbml0OiAhMCxcbiAgICAgICAgICAgICAgICAgICAgZXhwRmFjdG9yOiAxLjUsXG4gICAgICAgICAgICAgICAgICAgIGhGYWM6IDAuOCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZE1vZGU6IDIsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRIaWRkZW46ICEwLFxuICAgICAgICAgICAgICAgICAgICByaWNUaW1lb3V0OiAwLFxuICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZURlbGF5OiAxMjUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGQgPSBhLmxhenlTaXplc0NvbmZpZyB8fCBhLmxhenlzaXplc0NvbmZpZyB8fCB7fTtcbiAgICAgICAgICAgIGZvciAoYiBpbiBjKSBiIGluIGQgfHwgKGRbYl0gPSBjW2JdKTtcbiAgICAgICAgfSkoKSxcbiAgICAgICAgIWIgfHwgIWIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlcbiAgICApXG4gICAgICAgIHJldHVybiB7IGluaXQ6IGZ1bmN0aW9uKCkge30sIGNmZzogZCwgbm9TdXBwb3J0OiAhMCB9O1xuICAgIHZhciBlID0gYi5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgIGYgPSBhLkRhdGUsXG4gICAgICAgIGcgPSBhLkhUTUxQaWN0dXJlRWxlbWVudCxcbiAgICAgICAgaCA9ICdhZGRFdmVudExpc3RlbmVyJyxcbiAgICAgICAgaSA9ICdnZXRBdHRyaWJ1dGUnLFxuICAgICAgICBqID0gYVtoXSxcbiAgICAgICAgayA9IGEuc2V0VGltZW91dCxcbiAgICAgICAgbCA9IGEucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGssXG4gICAgICAgIG0gPSBhLnJlcXVlc3RJZGxlQ2FsbGJhY2ssXG4gICAgICAgIG4gPSAvXnBpY3R1cmUkL2ksXG4gICAgICAgIG8gPSBbJ2xvYWQnLCAnZXJyb3InLCAnbGF6eWluY2x1ZGVkJywgJ19sYXp5bG9hZGVkJ10sXG4gICAgICAgIHAgPSB7fSxcbiAgICAgICAgcSA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLFxuICAgICAgICByID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBwW2JdIHx8IChwW2JdID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJyArIGIgKyAnKFxcXFxzfCQpJykpLFxuICAgICAgICAgICAgICAgIHBbYl0udGVzdChhW2ldKCdjbGFzcycpIHx8ICcnKSAmJiBwW2JdXG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBzID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcihhLCBiKSB8fFxuICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdjbGFzcycsIChhW2ldKCdjbGFzcycpIHx8ICcnKS50cmltKCkgKyAnICcgKyBiKTtcbiAgICAgICAgfSxcbiAgICAgICAgdCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciBjO1xuICAgICAgICAgICAgKGMgPSByKGEsIGIpKSAmJlxuICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdjbGFzcycsIChhW2ldKCdjbGFzcycpIHx8ICcnKS5yZXBsYWNlKGMsICcgJykpO1xuICAgICAgICB9LFxuICAgICAgICB1ID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgICAgICAgdmFyIGQgPSBjID8gaCA6ICdyZW1vdmVFdmVudExpc3RlbmVyJztcbiAgICAgICAgICAgIGMgJiYgdShhLCBiKSxcbiAgICAgICAgICAgICAgICBvLmZvckVhY2goZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICAgICAgICBhW2RdKGMsIGIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB2ID0gZnVuY3Rpb24oYSwgZCwgZSwgZiwgZykge1xuICAgICAgICAgICAgdmFyIGggPSBiLmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBlIHx8IChlID0ge30pLFxuICAgICAgICAgICAgICAgIChlLmluc3RhbmNlID0gYyksXG4gICAgICAgICAgICAgICAgaC5pbml0RXZlbnQoZCwgIWYsICFnKSxcbiAgICAgICAgICAgICAgICAoaC5kZXRhaWwgPSBlKSxcbiAgICAgICAgICAgICAgICBhLmRpc3BhdGNoRXZlbnQoaCksXG4gICAgICAgICAgICAgICAgaFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgdyA9IGZ1bmN0aW9uKGIsIGMpIHtcbiAgICAgICAgICAgIHZhciBlO1xuICAgICAgICAgICAgIWcgJiYgKGUgPSBhLnBpY3R1cmVmaWxsIHx8IGQucGYpXG4gICAgICAgICAgICAgICAgPyAoYyAmJlxuICAgICAgICAgICAgICAgICAgICAgIGMuc3JjICYmXG4gICAgICAgICAgICAgICAgICAgICAgIWJbaV0oJ3NyY3NldCcpICYmXG4gICAgICAgICAgICAgICAgICAgICAgYi5zZXRBdHRyaWJ1dGUoJ3NyY3NldCcsIGMuc3JjKSxcbiAgICAgICAgICAgICAgICAgIGUoeyByZWV2YWx1YXRlOiAhMCwgZWxlbWVudHM6IFtiXSB9KSlcbiAgICAgICAgICAgICAgICA6IGMgJiYgYy5zcmMgJiYgKGIuc3JjID0gYy5zcmMpO1xuICAgICAgICB9LFxuICAgICAgICB4ID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIChnZXRDb21wdXRlZFN0eWxlKGEsIG51bGwpIHx8IHt9KVtiXTtcbiAgICAgICAgfSxcbiAgICAgICAgeSA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgYyA9IGMgfHwgYS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICBjIDwgZC5taW5TaXplICYmIGIgJiYgIWEuX2xhenlzaXplc1dpZHRoO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKGMgPSBiLm9mZnNldFdpZHRoKSwgKGIgPSBiLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH0sXG4gICAgICAgIHogPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYSxcbiAgICAgICAgICAgICAgICBjLFxuICAgICAgICAgICAgICAgIGQgPSBbXSxcbiAgICAgICAgICAgICAgICBlID0gW10sXG4gICAgICAgICAgICAgICAgZiA9IGQsXG4gICAgICAgICAgICAgICAgZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IGY7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoZiA9IGQubGVuZ3RoID8gZSA6IGQsIGEgPSAhMCwgYyA9ICExOyBiLmxlbmd0aDsgKVxuICAgICAgICAgICAgICAgICAgICAgICAgYi5zaGlmdCgpKCk7XG4gICAgICAgICAgICAgICAgICAgIGEgPSAhMTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGggPSBmdW5jdGlvbihkLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGEgJiYgIWVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChmLnB1c2goZCksIGMgfHwgKChjID0gITApLCAoYi5oaWRkZW4gPyBrIDogbCkoZykpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIChoLl9sc0ZsdXNoID0gZyksIGg7XG4gICAgICAgIH0pKCksXG4gICAgICAgIEEgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYlxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgeihhKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICB6KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhLmFwcGx5KGIsIGMpO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgQiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgIHZhciBiLFxuICAgICAgICAgICAgICAgIGMgPSAwLFxuICAgICAgICAgICAgICAgIGUgPSBkLnRocm90dGxlRGVsYXksXG4gICAgICAgICAgICAgICAgZyA9IGQucmljVGltZW91dCxcbiAgICAgICAgICAgICAgICBoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIChiID0gITEpLCAoYyA9IGYubm93KCkpLCBhKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpID1cbiAgICAgICAgICAgICAgICAgICAgbSAmJiBnID4gNDlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtKGgsIHsgdGltZW91dDogZyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnICE9PSBkLnJpY1RpbWVvdXQgJiYgKGcgPSBkLnJpY1RpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IEEoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAhMCk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIHZhciBkO1xuICAgICAgICAgICAgICAgIChhID0gITAgPT09IGEpICYmIChnID0gMzMpLFxuICAgICAgICAgICAgICAgICAgICBiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoKGIgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAoZCA9IGUgLSAoZi5ub3coKSAtIGMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGQgPCAwICYmIChkID0gMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhIHx8IGQgPCA5ID8gaSgpIDogayhpLCBkKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBDID0gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgdmFyIGIsXG4gICAgICAgICAgICAgICAgYyxcbiAgICAgICAgICAgICAgICBkID0gOTksXG4gICAgICAgICAgICAgICAgZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAoYiA9IG51bGwpLCBhKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gZi5ub3coKSAtIGM7XG4gICAgICAgICAgICAgICAgICAgIGEgPCBkID8gayhnLCBkIC0gYSkgOiAobSB8fCBlKShlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIChjID0gZi5ub3coKSksIGIgfHwgKGIgPSBrKGcsIGQpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIEQgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZyxcbiAgICAgICAgICAgICAgICBsLFxuICAgICAgICAgICAgICAgIG0sXG4gICAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgRCxcbiAgICAgICAgICAgICAgICBGLFxuICAgICAgICAgICAgICAgIEcsXG4gICAgICAgICAgICAgICAgSCxcbiAgICAgICAgICAgICAgICBJLFxuICAgICAgICAgICAgICAgIEosXG4gICAgICAgICAgICAgICAgSyA9IC9eaW1nJC9pLFxuICAgICAgICAgICAgICAgIEwgPSAvXmlmcmFtZSQvaSxcbiAgICAgICAgICAgICAgICBNID1cbiAgICAgICAgICAgICAgICAgICAgJ29uc2Nyb2xsJyBpbiBhICYmXG4gICAgICAgICAgICAgICAgICAgICEvKGdsZXxpbmcpYm90Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgICAgICAgICAgICAgIE4gPSAwLFxuICAgICAgICAgICAgICAgIE8gPSAwLFxuICAgICAgICAgICAgICAgIFAgPSAwLFxuICAgICAgICAgICAgICAgIFEgPSAtMSxcbiAgICAgICAgICAgICAgICBSID0gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICBQLS0sICghYSB8fCBQIDwgMCB8fCAhYS50YXJnZXQpICYmIChQID0gMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBTID0gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBKICYmIChKID0gJ2hpZGRlbicgPT0geChiLmJvZHksICd2aXNpYmlsaXR5JykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgSiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgnaGlkZGVuJyAhPSB4KGEucGFyZW50Tm9kZSwgJ3Zpc2liaWxpdHknKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGlkZGVuJyAhPSB4KGEsICd2aXNpYmlsaXR5JykpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUID0gZnVuY3Rpb24oYSwgYykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZyA9IFMoYSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgICBGIC09IGMsIEkgKz0gYywgRyAtPSBjLCBIICs9IGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBnICYmIChmID0gZi5vZmZzZXRQYXJlbnQpICYmIGYgIT0gYi5ib2R5ICYmIGYgIT0gZTtcblxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAoZyA9ICh4KGYsICdvcGFjaXR5JykgfHwgMSkgPiAwKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmxlJyAhPSB4KGYsICdvdmVyZmxvdycpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKChkID0gZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGcgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIID4gZC5sZWZ0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEcgPCBkLnJpZ2h0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEkgPiBkLnRvcCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRiA8IGQuYm90dG9tICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmLFxuICAgICAgICAgICAgICAgICAgICAgICAgaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgICAgICAgICBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG4sXG4gICAgICAgICAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBjLmVsZW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKG8gPSBkLmxvYWRNb2RlKSAmJiBQIDwgOCAmJiAoYSA9IHUubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChmID0gMCwgUSsrOyBmIDwgYTsgZisrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1W2ZdICYmICF1W2ZdLl9sYXp5UmFjZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIU0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjLnByZW1hdHVyZVVudmVpbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMucHJlbWF0dXJlVW52ZWlsKHVbZl0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYSh1W2ZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKChwID0gdVtmXVtpXSgnZGF0YS1leHBhbmQnKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobSA9IDEgKiBwKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobSA9IE8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgociA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFkLmV4cGFuZCB8fCBkLmV4cGFuZCA8IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZS5jbGllbnRIZWlnaHQgPiA1MDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jbGllbnRXaWR0aCA+IDUwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gNTAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAzNzBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZC5leHBhbmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjLl9kZWZFeCA9IHIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzID0gciAqIGQuZXhwRmFjdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9IGQuaEZhYyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEogPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPIDwgcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAgPCAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUSA+IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID4gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFiLmhpZGRlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICgoTyA9IHMpLCAoUSA9IDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChPID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA+IDEgJiYgUSA+IDEgJiYgUCA8IDZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBOKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxICE9PSBtICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh5ID0gaW5uZXJXaWR0aCArIG0gKiB0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoRCA9IGlubmVySGVpZ2h0ICsgbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG4gPSAtMSAqIG0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChxID0gbSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGggPSB1W2ZdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChJID0gaC5ib3R0b20pID49IG4gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoRiA9IGgudG9wKSA8PSBEICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEggPSBoLnJpZ2h0KSA+PSBuICogdCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChHID0gaC5sZWZ0KSA8PSB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEkgfHwgSCB8fCBHIHx8IEYpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGQubG9hZEhpZGRlbiB8fCBTKHVbZl0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgobCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQIDwgMyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobyA8IDMgfHwgUSA8IDQpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUKHVbZl0sIG0pKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGFhKHVbZl0pLCAoayA9ICEwKSwgUCA+IDkpKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhayAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAgPCA0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUSA8IDQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID4gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnWzBdIHx8IGQucHJlbG9hZEFmdGVyTG9hZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZ1swXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIXAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChJIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dG8nICE9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVbZl1baV0oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNpemVzQXR0clxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGogPSBnWzBdIHx8IHVbZl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaiAmJiAhayAmJiBhYShqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgViA9IEIoVSksXG4gICAgICAgICAgICAgICAgVyA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBhLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIuX2xhenlDYWNoZSkgcmV0dXJuIHZvaWQgZGVsZXRlIGIuX2xhenlDYWNoZTtcbiAgICAgICAgICAgICAgICAgICAgUihhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHMoYiwgZC5sb2FkZWRDbGFzcyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0KGIsIGQubG9hZGluZ0NsYXNzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHUoYiwgWSksXG4gICAgICAgICAgICAgICAgICAgICAgICB2KGIsICdsYXp5bG9hZGVkJyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBYID0gQShXKSxcbiAgICAgICAgICAgICAgICBZID0gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICBYKHsgdGFyZ2V0OiBhLnRhcmdldCB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFogPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucmVwbGFjZShiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5zcmMgPSBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAkID0gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYixcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBhW2ldKGQuc3Jjc2V0QXR0cik7XG4gICAgICAgICAgICAgICAgICAgIChiID0gZC5jdXN0b21NZWRpYVthW2ldKCdkYXRhLW1lZGlhJykgfHwgYVtpXSgnbWVkaWEnKV0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgJiYgYS5zZXRBdHRyaWJ1dGUoJ3NyY3NldCcsIGMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXyA9IEEoZnVuY3Rpb24oYSwgYiwgYywgZSwgZikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZywgaCwgaiwgbCwgbywgcDtcbiAgICAgICAgICAgICAgICAgICAgKG8gPSB2KGEsICdsYXp5YmVmb3JldW52ZWlsJywgYikpLmRlZmF1bHRQcmV2ZW50ZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzKGEsIGQuYXV0b3NpemVzQ2xhc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYS5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGggPSBhW2ldKGQuc3Jjc2V0QXR0cikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGcgPSBhW2ldKGQuc3JjQXR0cikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoaiA9IGEucGFyZW50Tm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGwgPSBqICYmIG4udGVzdChqLm5vZGVOYW1lIHx8ICcnKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHAgPSBiLmZpcmVzTG9hZCB8fCAoJ3NyYycgaW4gYSAmJiAoaCB8fCBnIHx8IGwpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAobyA9IHsgdGFyZ2V0OiBhIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcyhhLCBkLmxvYWRpbmdDbGFzcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBwICYmIChjbGVhclRpbWVvdXQobSksIChtID0gayhSLCAyNTAwKSksIHUoYSwgWSwgITApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgJiYgcS5jYWxsKGouZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NvdXJjZScpLCAkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGEuc2V0QXR0cmlidXRlKCdzcmNzZXQnLCBoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChMLnRlc3QoYS5ub2RlTmFtZSkgPyBaKGEsIGcpIDogKGEuc3JjID0gZykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZiAmJiAoaCB8fCBsKSAmJiB3KGEsIHsgc3JjOiBnIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuX2xhenlSYWNlICYmIGRlbGV0ZSBhLl9sYXp5UmFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHQoYSwgZC5sYXp5Q2xhc3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IGEuY29tcGxldGUgJiYgYS5uYXR1cmFsV2lkdGggPiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwICYmICFiKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYiAmJiBzKGEsICdscy1pcy1jYWNoZWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVyhvKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGEuX2xhenlDYWNoZSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdfbGF6eUNhY2hlJyBpbiBhICYmIGRlbGV0ZSBhLl9sYXp5Q2FjaGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xhenknID09IGEubG9hZGluZyAmJiBQLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAhMCk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYWEgPSBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYS5fbGF6eVJhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBLLnRlc3QoYS5ub2RlTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGMgJiYgKGFbaV0oZC5zaXplc0F0dHIpIHx8IGFbaV0oJ3NpemVzJykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSAnYXV0bycgPT0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgoIWYgJiYgbCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICghYVtpXSgnc3JjJykgJiYgIWEuc3Jjc2V0KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuY29tcGxldGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByKGEsIGQuZXJyb3JDbGFzcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcihhLCBkLmxhenlDbGFzcykpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKChiID0gdihhLCAnbGF6eXVudmVpbHJlYWQnKS5kZXRhaWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgJiYgRS51cGRhdGVFbGVtKGEsICEwLCBhLm9mZnNldFdpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYS5fbGF6eVJhY2UgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8oYSwgYiwgZiwgZSwgYykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiYSA9IEMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIChkLmxvYWRNb2RlID0gMyksIFYoKTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAzID09IGQubG9hZE1vZGUgJiYgKGQubG9hZE1vZGUgPSAyKSwgYmEoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYubm93KCkgLSBwIDwgOTk5KSByZXR1cm4gdm9pZCBrKGRhLCA5OTkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKGwgPSAhMCksIChkLmxvYWRNb2RlID0gMyksIFYoKSwgaignc2Nyb2xsJywgY2EsICEwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIF86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAocCA9IGYubm93KCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGMuZWxlbWVudHMgPSBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZC5sYXp5Q2xhc3MpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChnID0gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQubGF6eUNsYXNzICsgJyAnICsgZC5wcmVsb2FkQ2xhc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaignc2Nyb2xsJywgViwgITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgaigncmVzaXplJywgViwgITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgYS5NdXRhdGlvbk9ic2VydmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgTXV0YXRpb25PYnNlcnZlcihWKS5vYnNlcnZlKGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRyZWU6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChlW2hdKCdET01Ob2RlSW5zZXJ0ZWQnLCBWLCAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlW2hdKCdET01BdHRyTW9kaWZpZWQnLCBWLCAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChWLCA5OTkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGooJ2hhc2hjaGFuZ2UnLCBWLCAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbW91c2VvdmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xpY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbmVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmZvckVhY2goZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbaF0oYSwgViwgITApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvZCR8XmMvLnRlc3QoYi5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZGEoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGooJ2xvYWQnLCBkYSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiW2hdKCdET01Db250ZW50TG9hZGVkJywgViksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKGRhLCAyZTQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuZWxlbWVudHMubGVuZ3RoID8gKFUoKSwgei5fbHNGbHVzaCgpKSA6IFYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoZWNrRWxlbXM6IFYsXG4gICAgICAgICAgICAgICAgdW52ZWlsOiBhYSxcbiAgICAgICAgICAgICAgICBfYUxTTDogY2EsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSgpLFxuICAgICAgICBFID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGEsXG4gICAgICAgICAgICAgICAgYyA9IEEoZnVuY3Rpb24oYSwgYiwgYywgZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSwgZiwgZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChhLl9sYXp5c2l6ZXNXaWR0aCA9IGQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGQgKz0gJ3B4JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgnc2l6ZXMnLCBkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG4udGVzdChiLm5vZGVOYW1lIHx8ICcnKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc291cmNlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0gZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZiA8IGc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZisrXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZVtmXS5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgZCk7XG4gICAgICAgICAgICAgICAgICAgIGMuZGV0YWlsLmRhdGFBdHRyIHx8IHcoYSwgYy5kZXRhaWwpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGUgPSBmdW5jdGlvbihhLCBiLCBkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZiA9IGEucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgZiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKChkID0geShhLCBmLCBkKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAoZSA9IHYoYSwgJ2xhenliZWZvcmVzaXplcycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhQXR0cjogISFiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZS5kZWZhdWx0UHJldmVudGVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKChkID0gZS5kZXRhaWwud2lkdGgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgIT09IGEuX2xhenlzaXplc1dpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMoYSwgZiwgZSwgZCkpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gYS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjKSBmb3IgKGIgPSAwOyBiIDwgYzsgYisrKSBlKGFbYl0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZyA9IEMoZik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIF86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAoYSA9IGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShkLmF1dG9zaXplc0NsYXNzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBqKCdyZXNpemUnLCBnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoZWNrRWxlbXM6IGcsXG4gICAgICAgICAgICAgICAgdXBkYXRlRWxlbTogZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCksXG4gICAgICAgIEYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICFGLmkgJiYgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmICgoRi5pID0gITApLCBFLl8oKSwgRC5fKCkpO1xuICAgICAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICAgIGsoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkLmluaXQgJiYgRigpO1xuICAgICAgICB9KSxcbiAgICAgICAgKGMgPSB7XG4gICAgICAgICAgICBjZmc6IGQsXG4gICAgICAgICAgICBhdXRvU2l6ZXI6IEUsXG4gICAgICAgICAgICBsb2FkZXI6IEQsXG4gICAgICAgICAgICBpbml0OiBGLFxuICAgICAgICAgICAgdVA6IHcsXG4gICAgICAgICAgICBhQzogcyxcbiAgICAgICAgICAgIHJDOiB0LFxuICAgICAgICAgICAgaEM6IHIsXG4gICAgICAgICAgICBmaXJlOiB2LFxuICAgICAgICAgICAgZ1c6IHksXG4gICAgICAgICAgICByQUY6IHosXG4gICAgICAgIH0pXG4gICAgKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///m95++I2L\n");

/***/ }),

/***/ "o4dcMn5R":
/*!*********************************!*\
  !*** ./components/MoveBlock.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _js_core_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/js/core/utils */ \"rlXYgjnQ\");\n/**\r\n * BB.Component.MoveBlock.js\r\n *\r\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\r\n */\n\nBB.define('Component.MoveBlock');\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Component.MoveBlock = function () {\n    var moveBlock = void 0,\n        overlay = void 0;\n    var html = document.documentElement;\n    var OPEN_CLASS = 'is-open';\n    var SCROLL_CLASS = 'is-scrolled';\n    var VISIBLE_CLASS = 'is-visible';\n    var OVERHEAD_CLASS = 'is-overhead'; //Для перекрытия блоков что под вызываемым\n    var width = html.offsetWidth;\n    // let counter = 0; // счетчик открытых блоков\n\n    function _init(element) {\n        overlay = document.querySelector('.js-overlay');\n        moveBlock = element.querySelectorAll('.js-move-block');\n\n        _callAplicationMobileBlock(element);\n        _addEventListener(element);\n\n        for (var i = 0; i < moveBlock.length; i++) {\n            if (!moveBlock[i].classList.contains('is-open')) {\n                moveBlock[i].setAttribute('inert', '');\n                moveBlock[i].setAttribute('tabindex', '-1');\n            }\n        }\n\n        if (width <= 480) {\n            var aplicationBlocks = element.querySelectorAll('.aplication');\n            if (aplicationBlocks) {\n                aplicationBlocks.forEach(function (aplication) {\n                    _scroll(aplication);\n                });\n            }\n        }\n    }\n\n    function _scroll(aplication) {\n        var wrap = aplication.querySelector('.aplication__wrap') || aplication.querySelector('.tab__inner');\n\n        if (wrap) {\n            _moveBlockScroll(wrap, aplication);\n        }\n        //Toggle Class for show/hide move-block title\n        function _moveBlockScroll(wrap, aplication) {\n            wrap.addEventListener('scroll', function (e) {\n                var scroll = e.target.scrollTop;\n                _toggleScrolledClass(scroll, aplication);\n            });\n        }\n\n        function _toggleScrolledClass(scroll, element) {\n            if (scroll > 55) {\n                element.classList.add(SCROLL_CLASS);\n            } else {\n                element.classList.remove(SCROLL_CLASS);\n            }\n        }\n    }\n\n    function _addEventListener(element) {\n        var btnOpen = element.querySelectorAll('.js-move-block--show');\n        var BtnClose = element.querySelectorAll('.js-move-block--close');\n\n        for (var i = 0; i < btnOpen.length; i++) {\n            btnOpen[i].removeEventListener('click', _open);\n            btnOpen[i].addEventListener('click', _open);\n        }\n\n        for (var _i = 0; _i < BtnClose.length; _i++) {\n            BtnClose[_i].removeEventListener('click', _close);\n            BtnClose[_i].addEventListener('click', _close);\n        }\n    }\n\n    //Show / Hide mobile aplication\n    function _callAplicationMobileBlock() {\n        var $btn = $(document).find('.js-move-block--show');\n\n        $btn.each(function () {\n            if ($(window).width() <= 768 && $(this).hasClass('request-item') && !$(this).hasClass('request-item--mobile')) {\n                $(this).attr('data-move-block-target', 'request');\n            }\n        });\n    }\n\n    // метод закрытия окна\n    function _close(e, callback) {\n        var box = e.target.closest('.move-block__box') || e.target.closest('.aplication__wrap');\n        var parent = e.target.closest('.move-block');\n\n        if (box || parent) {\n            if (box) {\n                box.classList.add('is-close');\n\n                setTimeout(function () {\n                    _js_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].documentBlockControl('close');\n                    box.classList.remove('is-close');\n                    box.classList.remove(OVERHEAD_CLASS);\n                    if (typeof callback === 'function') {\n                        setTimeout(function () {\n                            callback();\n                        }, 300);\n                    }\n                }, 200);\n            } else {\n                parent.classList.add('is-close');\n\n                setTimeout(function () {\n                    _js_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].documentBlockControl('close');\n                    parent.classList.remove('is-close');\n                    parent.classList.remove(OVERHEAD_CLASS);\n                    if (typeof callback === 'function') {\n                        setTimeout(function () {\n                            callback();\n                        }, 300);\n                    }\n                }, 200);\n            }\n        } else {\n            _js_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].documentBlockControl('close');\n            if (typeof callback === 'function') {\n                setTimeout(function () {\n                    callback();\n                }, 300);\n            }\n        }\n    }\n\n    // function _closeAll(e) {\n    //     Utils.documentBlockControl(false, null, null, Utils.ArrayActiveBlock.length);\n    // }\n\n    function _open(e, callback) {\n        var targetElement = e.target.closest('[data-move-block-target]');\n\n        var btnId = targetElement.getAttribute('data-move-block-target');\n        var type = targetElement.getAttribute('data-move-block-type');\n        var overlayStatus = targetElement.getAttribute('data-overlay');\n\n        var targetBlock = document.querySelector('[data-move-block=\"' + btnId + '\"]');\n\n        var targetBlockBody = targetBlock.querySelector('.move-block__body') || targetBlock.querySelector('.aplication__wrap');\n        var slider = targetBlock.querySelector('.js-slider') || targetBlock.querySelector('.js-slider--preview');\n\n        // let $filteredBlock = $(targetBlock);\n        // let $slider = $filteredBlock\n        //     .find('.bb-slider__slides')\n        //     .filter('.bb-slider__slides');\n        //Проверяем тип блока если toggle то будем открывать this а остальные скрывать\n\n        if (overlayStatus === 'overhead') {\n            targetBlock.classList.add('is-overhead');\n            overlay.classList.add('is-overhead');\n        }\n\n        _js_core_utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].documentBlockControl('open', '[data-move-block=\"' + btnId + '\"]', targetElement);\n        targetBlockBody.focus();\n        overlay.classList.add(VISIBLE_CLASS);\n\n        if (slider) {\n            var $slides = slider.querySelectorAll('.bb-slider__slides');\n            var $preview = slider.querySelectorAll('.bb-slider__preview');\n\n            setTimeout(function () {\n                $($slides).slick('unslick');\n                $($preview).slick('unslick');\n                $($slides).slick({\n                    slidesToShow: 1,\n                    slidesToScroll: 1,\n                    arrows: false,\n                    asNavFor: $($preview),\n                    responsive: [{\n                        breakpoint: 481,\n                        settings: {\n                            fade: false\n                        }\n                    }]\n                });\n                $($preview).slick({\n                    slidesToShow: 7,\n                    slidesToScroll: 1,\n                    asNavFor: $($slides),\n                    dots: true,\n                    lazyLoad: 'ondemand',\n                    infinite: false,\n                    focusOnSelect: true\n                });\n                // $slider[0].slick.setPosition();\n                $($slides)[0].slick.setPosition();\n            }, 300);\n        }\n\n        if (typeof callback === 'function') {\n            setTimeout(function () {\n                callback();\n            }, 350);\n        }\n    }\n\n    function _removeOverlay() {\n        setTimeout(function () {\n            overlay.classList.remove(VISIBLE_CLASS);\n            overlay.classList.remove(OVERHEAD_CLASS);\n        }, 100);\n    }\n\n    //Click request item\n    // function _requestItemClick() {\n    //     if (html.offsetWidth <= 768) {\n    //         $(document).on('click', '.js-request-item', function(e) {\n    //             $('.js-move-block-aplication').addClass(OPEN_CLASS);\n\n    //             overlay.classList.add(VISIBLE_CLASS);\n\n    //             e.preventDefault();\n    //             e.stopPropagation();\n    //         });\n\n    //         $(document).on(\n    //             'click',\n    //             '.js-move-block-aplication--close',\n    //             function() {\n    //                 $('.js-move-block-aplication').removeClass(OPEN_CLASS);\n\n    //                 html.removeClass(FIXED_CLASS);\n    //                 _removeOverlay();\n    //             }\n    //         );\n    //     }\n    // }\n    return {\n        init: _init,\n        close: _close,\n        open: _open,\n        scroll: _scroll\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibzRkY01uNVIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvTW92ZUJsb2NrLmpzPzdjYWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEJCLkNvbXBvbmVudC5Nb3ZlQmxvY2suanNcclxuICpcclxuICogQGF1dGhvciBBbnRvbiBVc3Rpbm9mZiA8YS5hLnVzdGlub2ZmQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG5CQi5kZWZpbmUoJ0NvbXBvbmVudC5Nb3ZlQmxvY2snKTtcclxuXHJcbmltcG9ydCBVdGlscyBmcm9tICdAL2pzL2NvcmUvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQkIuQ29tcG9uZW50Lk1vdmVCbG9jayA9IChmdW5jdGlvbigpIHtcclxuICAgIGxldCBtb3ZlQmxvY2ssIG92ZXJsYXk7XHJcbiAgICBsZXQgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIGxldCBPUEVOX0NMQVNTID0gJ2lzLW9wZW4nO1xyXG4gICAgbGV0IFNDUk9MTF9DTEFTUyA9ICdpcy1zY3JvbGxlZCc7XHJcbiAgICBsZXQgVklTSUJMRV9DTEFTUyA9ICdpcy12aXNpYmxlJztcclxuICAgIGxldCBPVkVSSEVBRF9DTEFTUyA9ICdpcy1vdmVyaGVhZCc7IC8v0JTQu9GPINC/0LXRgNC10LrRgNGL0YLQuNGPINCx0LvQvtC60L7QsiDRh9GC0L4g0L/QvtC0INCy0YvQt9GL0LLQsNC10LzRi9C8XHJcbiAgICBsZXQgd2lkdGggPSBodG1sLm9mZnNldFdpZHRoO1xyXG4gICAgLy8gbGV0IGNvdW50ZXIgPSAwOyAvLyDRgdGH0LXRgtGH0LjQuiDQvtGC0LrRgNGL0YLRi9GFINCx0LvQvtC60L7QslxyXG5cclxuICAgIGZ1bmN0aW9uIF9pbml0KGVsZW1lbnQpIHtcclxuICAgICAgICBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW92ZXJsYXknKTtcclxuICAgICAgICBtb3ZlQmxvY2sgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1tb3ZlLWJsb2NrJyk7XHJcblxyXG4gICAgICAgIF9jYWxsQXBsaWNhdGlvbk1vYmlsZUJsb2NrKGVsZW1lbnQpO1xyXG4gICAgICAgIF9hZGRFdmVudExpc3RlbmVyKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVCbG9jay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIW1vdmVCbG9ja1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLW9wZW4nKSkge1xyXG4gICAgICAgICAgICAgICAgbW92ZUJsb2NrW2ldLnNldEF0dHJpYnV0ZSgnaW5lcnQnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBtb3ZlQmxvY2tbaV0uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2lkdGggPD0gNDgwKSB7XHJcbiAgICAgICAgICAgIGxldCBhcGxpY2F0aW9uQmxvY2tzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXBsaWNhdGlvbicpO1xyXG4gICAgICAgICAgICBpZiAoYXBsaWNhdGlvbkJsb2Nrcykge1xyXG4gICAgICAgICAgICAgICAgYXBsaWNhdGlvbkJsb2Nrcy5mb3JFYWNoKGFwbGljYXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9zY3JvbGwoYXBsaWNhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfc2Nyb2xsKGFwbGljYXRpb24pIHtcclxuICAgICAgICBsZXQgd3JhcCA9XHJcbiAgICAgICAgICAgIGFwbGljYXRpb24ucXVlcnlTZWxlY3RvcignLmFwbGljYXRpb25fX3dyYXAnKSB8fFxyXG4gICAgICAgICAgICBhcGxpY2F0aW9uLnF1ZXJ5U2VsZWN0b3IoJy50YWJfX2lubmVyJyk7XHJcblxyXG4gICAgICAgIGlmICh3cmFwKSB7XHJcbiAgICAgICAgICAgIF9tb3ZlQmxvY2tTY3JvbGwod3JhcCwgYXBsaWNhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vVG9nZ2xlIENsYXNzIGZvciBzaG93L2hpZGUgbW92ZS1ibG9jayB0aXRsZVxyXG4gICAgICAgIGZ1bmN0aW9uIF9tb3ZlQmxvY2tTY3JvbGwod3JhcCwgYXBsaWNhdGlvbikge1xyXG4gICAgICAgICAgICB3cmFwLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNjcm9sbCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgIF90b2dnbGVTY3JvbGxlZENsYXNzKHNjcm9sbCwgYXBsaWNhdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX3RvZ2dsZVNjcm9sbGVkQ2xhc3Moc2Nyb2xsLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChzY3JvbGwgPiA1NSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFNDUk9MTF9DTEFTUyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoU0NST0xMX0NMQVNTKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfYWRkRXZlbnRMaXN0ZW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IGJ0bk9wZW4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1tb3ZlLWJsb2NrLS1zaG93Jyk7XHJcbiAgICAgICAgbGV0IEJ0bkNsb3NlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtbW92ZS1ibG9jay0tY2xvc2UnKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidG5PcGVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJ0bk9wZW5baV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfb3Blbik7XHJcbiAgICAgICAgICAgIGJ0bk9wZW5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfb3Blbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEJ0bkNsb3NlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIEJ0bkNsb3NlW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2Nsb3NlKTtcclxuICAgICAgICAgICAgQnRuQ2xvc2VbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xvc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1Nob3cgLyBIaWRlIG1vYmlsZSBhcGxpY2F0aW9uXHJcbiAgICBmdW5jdGlvbiBfY2FsbEFwbGljYXRpb25Nb2JpbGVCbG9jaygpIHtcclxuICAgICAgICBsZXQgJGJ0biA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1tb3ZlLWJsb2NrLS1zaG93Jyk7XHJcblxyXG4gICAgICAgICRidG4uZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLndpZHRoKCkgPD0gNzY4ICYmXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmhhc0NsYXNzKCdyZXF1ZXN0LWl0ZW0nKSAmJlxyXG4gICAgICAgICAgICAgICAgISQodGhpcykuaGFzQ2xhc3MoJ3JlcXVlc3QtaXRlbS0tbW9iaWxlJylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtbW92ZS1ibG9jay10YXJnZXQnLCAncmVxdWVzdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwXHJcbiAgICBmdW5jdGlvbiBfY2xvc2UoZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgYm94ID1cclxuICAgICAgICAgICAgZS50YXJnZXQuY2xvc2VzdCgnLm1vdmUtYmxvY2tfX2JveCcpIHx8XHJcbiAgICAgICAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoJy5hcGxpY2F0aW9uX193cmFwJyk7XHJcbiAgICAgICAgbGV0IHBhcmVudCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb3ZlLWJsb2NrJyk7XHJcblxyXG4gICAgICAgIGlmIChib3ggfHwgcGFyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChib3gpIHtcclxuICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QuYWRkKCdpcy1jbG9zZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIFV0aWxzLmRvY3VtZW50QmxvY2tDb250cm9sKCdjbG9zZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1jbG9zZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC5jbGFzc0xpc3QucmVtb3ZlKE9WRVJIRUFEX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoJ2lzLWNsb3NlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgVXRpbHMuZG9jdW1lbnRCbG9ja0NvbnRyb2woJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWNsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoT1ZFUkhFQURfQ0xBU1MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBVdGlscy5kb2N1bWVudEJsb2NrQ29udHJvbCgnY2xvc2UnKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gX2Nsb3NlQWxsKGUpIHtcclxuICAgIC8vICAgICBVdGlscy5kb2N1bWVudEJsb2NrQ29udHJvbChmYWxzZSwgbnVsbCwgbnVsbCwgVXRpbHMuQXJyYXlBY3RpdmVCbG9jay5sZW5ndGgpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9vcGVuKGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IHRhcmdldEVsZW1lbnQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1tb3ZlLWJsb2NrLXRhcmdldF0nKTtcclxuXHJcbiAgICAgICAgbGV0IGJ0bklkID0gdGFyZ2V0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW92ZS1ibG9jay10YXJnZXQnKTtcclxuICAgICAgICBsZXQgdHlwZSA9IHRhcmdldEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW1vdmUtYmxvY2stdHlwZScpO1xyXG4gICAgICAgIGxldCBvdmVybGF5U3RhdHVzID0gdGFyZ2V0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3ZlcmxheScpO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0QmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgICBgW2RhdGEtbW92ZS1ibG9jaz1cIiR7YnRuSWR9XCJdYFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCB0YXJnZXRCbG9ja0JvZHkgPVxyXG4gICAgICAgICAgICB0YXJnZXRCbG9jay5xdWVyeVNlbGVjdG9yKCcubW92ZS1ibG9ja19fYm9keScpIHx8XHJcbiAgICAgICAgICAgIHRhcmdldEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5hcGxpY2F0aW9uX193cmFwJyk7XHJcbiAgICAgICAgbGV0IHNsaWRlciA9XHJcbiAgICAgICAgICAgIHRhcmdldEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5qcy1zbGlkZXInKSB8fFxyXG4gICAgICAgICAgICB0YXJnZXRCbG9jay5xdWVyeVNlbGVjdG9yKCcuanMtc2xpZGVyLS1wcmV2aWV3Jyk7XHJcblxyXG4gICAgICAgIC8vIGxldCAkZmlsdGVyZWRCbG9jayA9ICQodGFyZ2V0QmxvY2spO1xyXG4gICAgICAgIC8vIGxldCAkc2xpZGVyID0gJGZpbHRlcmVkQmxvY2tcclxuICAgICAgICAvLyAgICAgLmZpbmQoJy5iYi1zbGlkZXJfX3NsaWRlcycpXHJcbiAgICAgICAgLy8gICAgIC5maWx0ZXIoJy5iYi1zbGlkZXJfX3NsaWRlcycpO1xyXG4gICAgICAgIC8v0J/RgNC+0LLQtdGA0Y/QtdC8INGC0LjQvyDQsdC70L7QutCwINC10YHQu9C4IHRvZ2dsZSDRgtC+INCx0YPQtNC10Lwg0L7RgtC60YDRi9Cy0LDRgtGMIHRoaXMg0LAg0L7RgdGC0LDQu9GM0L3Ri9C1INGB0LrRgNGL0LLQsNGC0YxcclxuXHJcbiAgICAgICAgaWYgKG92ZXJsYXlTdGF0dXMgPT09ICdvdmVyaGVhZCcpIHtcclxuICAgICAgICAgICAgdGFyZ2V0QmxvY2suY2xhc3NMaXN0LmFkZCgnaXMtb3ZlcmhlYWQnKTtcclxuICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdpcy1vdmVyaGVhZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgVXRpbHMuZG9jdW1lbnRCbG9ja0NvbnRyb2woXHJcbiAgICAgICAgICAgICdvcGVuJyxcclxuICAgICAgICAgICAgYFtkYXRhLW1vdmUtYmxvY2s9XCIke2J0bklkfVwiXWAsXHJcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnRcclxuICAgICAgICApO1xyXG4gICAgICAgIHRhcmdldEJsb2NrQm9keS5mb2N1cygpO1xyXG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChWSVNJQkxFX0NMQVNTKTtcclxuXHJcbiAgICAgICAgaWYgKHNsaWRlcikge1xyXG4gICAgICAgICAgICBsZXQgJHNsaWRlcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuYmItc2xpZGVyX19zbGlkZXMnKTtcclxuICAgICAgICAgICAgbGV0ICRwcmV2aWV3ID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYi1zbGlkZXJfX3ByZXZpZXcnKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgkc2xpZGVzKS5zbGljaygndW5zbGljaycpO1xyXG4gICAgICAgICAgICAgICAgJCgkcHJldmlldykuc2xpY2soJ3Vuc2xpY2snKTtcclxuICAgICAgICAgICAgICAgICQoJHNsaWRlcykuc2xpY2soe1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiAkKCRwcmV2aWV3KSxcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFkZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICQoJHByZXZpZXcpLnNsaWNrKHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgYXNOYXZGb3I6ICQoJHNsaWRlcyksXHJcbiAgICAgICAgICAgICAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBsYXp5TG9hZDogJ29uZGVtYW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNPblNlbGVjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gJHNsaWRlclswXS5zbGljay5zZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgJCgkc2xpZGVzKVswXS5zbGljay5zZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0sIDM1MCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZW1vdmVPdmVybGF5KCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoVklTSUJMRV9DTEFTUyk7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShPVkVSSEVBRF9DTEFTUyk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NsaWNrIHJlcXVlc3QgaXRlbVxyXG4gICAgLy8gZnVuY3Rpb24gX3JlcXVlc3RJdGVtQ2xpY2soKSB7XHJcbiAgICAvLyAgICAgaWYgKGh0bWwub2Zmc2V0V2lkdGggPD0gNzY4KSB7XHJcbiAgICAvLyAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtcmVxdWVzdC1pdGVtJywgZnVuY3Rpb24oZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgJCgnLmpzLW1vdmUtYmxvY2stYXBsaWNhdGlvbicpLmFkZENsYXNzKE9QRU5fQ0xBU1MpO1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChWSVNJQkxFX0NMQVNTKTtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuXHJcbiAgICAvLyAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxyXG4gICAgLy8gICAgICAgICAgICAgJ2NsaWNrJyxcclxuICAgIC8vICAgICAgICAgICAgICcuanMtbW92ZS1ibG9jay1hcGxpY2F0aW9uLS1jbG9zZScsXHJcbiAgICAvLyAgICAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAkKCcuanMtbW92ZS1ibG9jay1hcGxpY2F0aW9uJykucmVtb3ZlQ2xhc3MoT1BFTl9DTEFTUyk7XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2xhc3MoRklYRURfQ0xBU1MpO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIF9yZW1vdmVPdmVybGF5KCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0OiBfaW5pdCxcclxuICAgICAgICBjbG9zZTogX2Nsb3NlLFxyXG4gICAgICAgIG9wZW46IF9vcGVuLFxyXG4gICAgICAgIHNjcm9sbDogX3Njcm9sbCxcclxuICAgIH07XHJcbn0pKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFOQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///o4dcMn5R\n");

/***/ }),

/***/ "pTebvTgf":
/*!*****************************!*\
  !*** ./_lib/stickyBlock.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {(function(global, factory) {\n     true\n        ? factory(exports)\n        : undefined;\n})(this, function(exports) {\n    'use strict';\n\n    var commonjsGlobal =\n        typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n            ? global\n            : typeof self !== 'undefined'\n            ? self\n            : {};\n\n    function unwrapExports(x) {\n        return x && x.__esModule ? x['default'] : x;\n    }\n\n    function createCommonjsModule(fn, module) {\n        return (\n            (module = { exports: {} }),\n            fn(module, module.exports),\n            module.exports\n        );\n    }\n\n    var stickySidebar = createCommonjsModule(function(module, exports) {\n        (function(global, factory) {\n            if (false) {} else {\n                factory(exports);\n            }\n        })(commonjsGlobal, function(exports) {\n            'use strict';\n\n            Object.defineProperty(exports, '__esModule', {\n                value: true,\n            });\n\n            function _classCallCheck(instance, Constructor) {\n                if (!(instance instanceof Constructor)) {\n                    throw new TypeError('Cannot call a class as a function');\n                }\n            }\n\n            var _createClass = (function() {\n                function defineProperties(target, props) {\n                    for (var i = 0; i < props.length; i++) {\n                        var descriptor = props[i];\n                        descriptor.enumerable = descriptor.enumerable || false;\n                        descriptor.configurable = true;\n                        if ('value' in descriptor) descriptor.writable = true;\n                        Object.defineProperty(\n                            target,\n                            descriptor.key,\n                            descriptor\n                        );\n                    }\n                }\n\n                return function(Constructor, protoProps, staticProps) {\n                    if (protoProps)\n                        defineProperties(Constructor.prototype, protoProps);\n                    if (staticProps) defineProperties(Constructor, staticProps);\n                    return Constructor;\n                };\n            })();\n\n            /**\n             * Sticky Sidebar JavaScript Plugin.\n             * @version 3.3.1\n             * @author Ahmed Bouhuolia <a.bouhuolia@gmail.com>\n             * @license The MIT License (MIT)\n             */\n            var StickySidebar = (function() {\n                // ---------------------------------\n                // # Define Constants\n                // ---------------------------------\n                //\n                var EVENT_KEY = '.stickySidebar';\n                var DEFAULTS = {\n                    /**\n                     * Additional top spacing of the element when it becomes sticky.\n                     * @type {Numeric|Function}\n                     */\n                    topSpacing: 0,\n\n                    /**\n                     * Additional bottom spacing of the element when it becomes sticky.\n                     * @type {Numeric|Function}\n                     */\n                    bottomSpacing: 0,\n\n                    /**\n                     * Container sidebar selector to know what the beginning and end of sticky element.\n                     * @type {String|False}\n                     */\n                    containerSelector: false,\n\n                    /**\n                     * Inner wrapper selector.\n                     * @type {String}\n                     */\n                    innerWrapperSelector: '.inner-wrapper-sticky',\n\n                    /**\n                     * The name of CSS class to apply to elements when they have become stuck.\n                     * @type {String|False}\n                     */\n                    stickyClass: 'is-affixed',\n\n                    /**\n                     * Detect when sidebar and its container change height so re-calculate their dimensions.\n                     * @type {Boolean}\n                     */\n                    resizeSensor: true,\n\n                    /**\n                     * The sidebar returns to its normal position if its width below this value.\n                     * @type {Numeric}\n                     */\n                    minWidth: false,\n                };\n\n                // ---------------------------------\n                // # Class Definition\n                // ---------------------------------\n                //\n                /**\n                 * Sticky Sidebar Class.\n                 * @public\n                 */\n\n                var StickySidebar = (function() {\n                    /**\n                     * Sticky Sidebar Constructor.\n                     * @constructor\n                     * @param {HTMLElement|String} sidebar - The sidebar element or sidebar selector.\n                     * @param {Object} options - The options of sticky sidebar.\n                     */\n                    function StickySidebar(sidebar) {\n                        var _this = this;\n\n                        var options =\n                            arguments.length > 1 && arguments[1] !== undefined\n                                ? arguments[1]\n                                : {};\n\n                        _classCallCheck(this, StickySidebar);\n\n                        this.options = StickySidebar.extend(DEFAULTS, options);\n\n                        // Sidebar element query if there's no one, throw error.\n                        this.sidebar =\n                            'string' === typeof sidebar\n                                ? document.querySelector(sidebar)\n                                : sidebar;\n                        if ('undefined' === typeof this.sidebar)\n                            throw new Error(\n                                'There is no specific sidebar element.'\n                            );\n\n                        this.sidebarInner = false;\n                        this.container = this.sidebar.parentElement;\n\n                        // Current Affix Type of sidebar element.\n                        this.affixedType = 'STATIC';\n                        this.direction = 'down';\n                        this.support = {\n                            transform: false,\n                            transform3d: false,\n                        };\n\n                        this._initialized = false;\n                        this._reStyle = false;\n                        this._breakpoint = false;\n\n                        // Dimensions of sidebar, container and screen viewport.\n                        this.dimensions = {\n                            translateY: 0,\n                            maxTranslateY: 0,\n                            topSpacing: 0,\n                            lastTopSpacing: 0,\n                            bottomSpacing: 0,\n                            lastBottomSpacing: 0,\n                            sidebarHeight: 0,\n                            sidebarWidth: 0,\n                            containerTop: 0,\n                            containerHeight: 0,\n                            viewportHeight: 0,\n                            viewportTop: 0,\n                            lastViewportTop: 0,\n                        };\n\n                        // Bind event handlers for referencability.\n                        ['handleEvent'].forEach(function(method) {\n                            _this[method] = _this[method].bind(_this);\n                        });\n\n                        // Initialize sticky sidebar for first time.\n                        this.initialize();\n                    }\n\n                    /**\n                     * Initializes the sticky sidebar by adding inner wrapper, define its container,\n                     * min-width breakpoint, calculating dimensions, adding helper classes and inline style.\n                     * @private\n                     */\n\n                    _createClass(\n                        StickySidebar,\n                        [\n                            {\n                                key: 'initialize',\n                                value: function initialize() {\n                                    var _this2 = this;\n\n                                    this._setSupportFeatures();\n\n                                    // Get sticky sidebar inner wrapper, if not found, will create one.\n                                    if (this.options.innerWrapperSelector) {\n                                        this.sidebarInner = this.sidebar.querySelector(\n                                            this.options.innerWrapperSelector\n                                        );\n\n                                        if (null === this.sidebarInner)\n                                            this.sidebarInner = false;\n                                    }\n\n                                    if (!this.sidebarInner) {\n                                        var wrapper = document.createElement(\n                                            'div'\n                                        );\n                                        wrapper.setAttribute(\n                                            'class',\n                                            'inner-wrapper-sticky'\n                                        );\n                                        this.sidebar.appendChild(wrapper);\n\n                                        while (\n                                            this.sidebar.firstChild != wrapper\n                                        ) {\n                                            wrapper.appendChild(\n                                                this.sidebar.firstChild\n                                            );\n                                        }\n                                        this.sidebarInner = this.sidebar.querySelector(\n                                            '.inner-wrapper-sticky'\n                                        );\n                                    }\n\n                                    // Container wrapper of the sidebar.\n                                    if (this.options.containerSelector) {\n                                        var containers = document.querySelectorAll(\n                                            this.options.containerSelector\n                                        );\n                                        containers = Array.prototype.slice.call(\n                                            containers\n                                        );\n\n                                        containers.forEach(function(\n                                            container,\n                                            item\n                                        ) {\n                                            if (\n                                                !container.contains(\n                                                    _this2.sidebar\n                                                )\n                                            )\n                                                return;\n                                            _this2.container = container;\n                                        });\n\n                                        if (!containers.length)\n                                            throw new Error(\n                                                'The container does not contains on the sidebar.'\n                                            );\n                                    }\n\n                                    // If top/bottom spacing is not function parse value to integer.\n                                    if (\n                                        'function' !==\n                                        typeof this.options.topSpacing\n                                    )\n                                        this.options.topSpacing =\n                                            parseInt(this.options.topSpacing) ||\n                                            0;\n\n                                    if (\n                                        'function' !==\n                                        typeof this.options.bottomSpacing\n                                    )\n                                        this.options.bottomSpacing =\n                                            parseInt(\n                                                this.options.bottomSpacing\n                                            ) || 0;\n\n                                    // Breakdown sticky sidebar if screen width below `options.minWidth`.\n                                    this._widthBreakpoint();\n\n                                    // Calculate dimensions of sidebar, container and viewport.\n                                    this.calcDimensions();\n\n                                    // Affix sidebar in proper position.\n                                    this.stickyPosition();\n\n                                    // Bind all events.\n                                    this.bindEvents();\n\n                                    // Inform other properties the sticky sidebar is initialized.\n                                    this._initialized = true;\n                                },\n                            },\n                            {\n                                key: 'bindEvents',\n                                value: function bindEvents() {\n                                    window.addEventListener('resize', this, {\n                                        passive: true,\n                                        capture: false,\n                                    });\n                                    window.addEventListener('scroll', this, {\n                                        passive: true,\n                                        capture: false,\n                                    });\n\n                                    this.sidebar.addEventListener(\n                                        'update' + EVENT_KEY,\n                                        this\n                                    );\n\n                                    if (\n                                        this.options.resizeSensor &&\n                                        'undefined' !== typeof ResizeSensor\n                                    ) {\n                                        new ResizeSensor(\n                                            this.sidebarInner,\n                                            this.handleEvent\n                                        );\n                                        new ResizeSensor(\n                                            this.container,\n                                            this.handleEvent\n                                        );\n                                    }\n                                },\n                            },\n                            {\n                                key: 'handleEvent',\n                                value: function handleEvent(event) {\n                                    this.updateSticky(event);\n                                },\n                            },\n                            {\n                                key: 'calcDimensions',\n                                value: function calcDimensions() {\n                                    if (this._breakpoint) return;\n                                    var dims = this.dimensions;\n\n                                    // Container of sticky sidebar dimensions.\n                                    dims.containerTop = StickySidebar.offsetRelative(\n                                        this.container\n                                    ).top;\n                                    dims.containerHeight = this.container.clientHeight;\n                                    dims.containerBottom =\n                                        dims.containerTop +\n                                        dims.containerHeight;\n\n                                    // Sidebar dimensions.\n                                    dims.sidebarHeight = this.sidebarInner.offsetHeight;\n                                    dims.sidebarWidth = this.sidebarInner.offsetWidth;\n\n                                    // Screen viewport dimensions.\n                                    dims.viewportHeight = window.innerHeight;\n\n                                    // Maximum sidebar translate Y.\n                                    dims.maxTranslateY =\n                                        dims.containerHeight -\n                                        dims.sidebarHeight;\n\n                                    this._calcDimensionsWithScroll();\n                                },\n                            },\n                            {\n                                key: '_calcDimensionsWithScroll',\n                                value: function _calcDimensionsWithScroll() {\n                                    var dims = this.dimensions;\n\n                                    dims.sidebarLeft = StickySidebar.offsetRelative(\n                                        this.sidebar\n                                    ).left;\n\n                                    dims.viewportTop =\n                                        document.documentElement.scrollTop ||\n                                        document.body.scrollTop;\n                                    dims.viewportBottom =\n                                        dims.viewportTop + dims.viewportHeight;\n                                    dims.viewportLeft =\n                                        document.documentElement.scrollLeft ||\n                                        document.body.scrollLeft;\n\n                                    dims.topSpacing = this.options.topSpacing;\n                                    dims.bottomSpacing = this.options.bottomSpacing;\n\n                                    if ('function' === typeof dims.topSpacing)\n                                        dims.topSpacing =\n                                            parseInt(\n                                                dims.topSpacing(this.sidebar)\n                                            ) || 0;\n\n                                    if (\n                                        'function' === typeof dims.bottomSpacing\n                                    )\n                                        dims.bottomSpacing =\n                                            parseInt(\n                                                dims.bottomSpacing(this.sidebar)\n                                            ) || 0;\n\n                                    if ('VIEWPORT-TOP' === this.affixedType) {\n                                        // Adjust translate Y in the case decrease top spacing value.\n                                        if (\n                                            dims.topSpacing <\n                                            dims.lastTopSpacing\n                                        ) {\n                                            dims.translateY +=\n                                                dims.lastTopSpacing -\n                                                dims.topSpacing;\n                                            this._reStyle = true;\n                                        }\n                                    } else if (\n                                        'VIEWPORT-BOTTOM' === this.affixedType\n                                    ) {\n                                        // Adjust translate Y in the case decrease bottom spacing value.\n                                        if (\n                                            dims.bottomSpacing <\n                                            dims.lastBottomSpacing\n                                        ) {\n                                            dims.translateY +=\n                                                dims.lastBottomSpacing -\n                                                dims.bottomSpacing;\n                                            this._reStyle = true;\n                                        }\n                                    }\n\n                                    dims.lastTopSpacing = dims.topSpacing;\n                                    dims.lastBottomSpacing = dims.bottomSpacing;\n                                },\n                            },\n                            {\n                                key: 'isSidebarFitsViewport',\n                                value: function isSidebarFitsViewport() {\n                                    return (\n                                        this.dimensions.sidebarHeight <\n                                        this.dimensions.viewportHeight\n                                    );\n                                },\n                            },\n                            {\n                                key: 'observeScrollDir',\n                                value: function observeScrollDir() {\n                                    var dims = this.dimensions;\n                                    if (\n                                        dims.lastViewportTop ===\n                                        dims.viewportTop\n                                    )\n                                        return;\n\n                                    var furthest =\n                                        'down' === this.direction\n                                            ? Math.min\n                                            : Math.max;\n\n                                    // If the browser is scrolling not in the same direction.\n                                    if (\n                                        dims.viewportTop ===\n                                        furthest(\n                                            dims.viewportTop,\n                                            dims.lastViewportTop\n                                        )\n                                    )\n                                        this.direction =\n                                            'down' === this.direction\n                                                ? 'up'\n                                                : 'down';\n                                },\n                            },\n                            {\n                                key: 'getAffixType',\n                                value: function getAffixType() {\n                                    this._calcDimensionsWithScroll();\n                                    var dims = this.dimensions;\n                                    var colliderTop =\n                                        dims.viewportTop + dims.topSpacing;\n                                    var affixType = this.affixedType;\n\n                                    if (\n                                        colliderTop <= dims.containerTop ||\n                                        dims.containerHeight <=\n                                            dims.sidebarHeight\n                                    ) {\n                                        dims.translateY = 0;\n                                        affixType = 'STATIC';\n                                    } else {\n                                        affixType =\n                                            'up' === this.direction\n                                                ? this._getAffixTypeScrollingUp()\n                                                : this._getAffixTypeScrollingDown();\n                                    }\n\n                                    // Make sure the translate Y is not bigger than container height.\n                                    dims.translateY = Math.max(\n                                        0,\n                                        dims.translateY\n                                    );\n                                    dims.translateY = Math.min(\n                                        dims.containerHeight,\n                                        dims.translateY\n                                    );\n                                    dims.translateY = Math.round(\n                                        dims.translateY\n                                    );\n\n                                    dims.lastViewportTop = dims.viewportTop;\n                                    return affixType;\n                                },\n                            },\n                            {\n                                key: '_getAffixTypeScrollingDown',\n                                value: function _getAffixTypeScrollingDown() {\n                                    var dims = this.dimensions;\n                                    var sidebarBottom =\n                                        dims.sidebarHeight + dims.containerTop;\n                                    var colliderTop =\n                                        dims.viewportTop + dims.topSpacing;\n                                    var colliderBottom =\n                                        dims.viewportBottom -\n                                        dims.bottomSpacing;\n                                    var affixType = this.affixedType;\n\n                                    if (this.isSidebarFitsViewport()) {\n                                        if (\n                                            dims.sidebarHeight + colliderTop >=\n                                            dims.containerBottom\n                                        ) {\n                                            dims.translateY =\n                                                dims.containerBottom -\n                                                sidebarBottom;\n                                            affixType = 'CONTAINER-BOTTOM';\n                                        } else if (\n                                            colliderTop >= dims.containerTop\n                                        ) {\n                                            dims.translateY =\n                                                colliderTop - dims.containerTop;\n                                            affixType = 'VIEWPORT-TOP';\n                                        }\n                                    } else {\n                                        if (\n                                            dims.containerBottom <=\n                                            colliderBottom\n                                        ) {\n                                            dims.translateY =\n                                                dims.containerBottom -\n                                                sidebarBottom;\n                                            affixType = 'CONTAINER-BOTTOM';\n                                        } else if (\n                                            sidebarBottom + dims.translateY <=\n                                            colliderBottom\n                                        ) {\n                                            dims.translateY =\n                                                colliderBottom - sidebarBottom;\n                                            affixType = 'VIEWPORT-BOTTOM';\n                                        } else if (\n                                            dims.containerTop +\n                                                dims.translateY <=\n                                                colliderTop &&\n                                            0 !== dims.translateY &&\n                                            dims.maxTranslateY !==\n                                                dims.translateY\n                                        ) {\n                                            affixType = 'VIEWPORT-UNBOTTOM';\n                                        }\n                                    }\n\n                                    return affixType;\n                                },\n                            },\n                            {\n                                key: '_getAffixTypeScrollingUp',\n                                value: function _getAffixTypeScrollingUp() {\n                                    var dims = this.dimensions;\n                                    var sidebarBottom =\n                                        dims.sidebarHeight + dims.containerTop;\n                                    var colliderTop =\n                                        dims.viewportTop + dims.topSpacing;\n                                    var colliderBottom =\n                                        dims.viewportBottom -\n                                        dims.bottomSpacing;\n                                    var affixType = this.affixedType;\n\n                                    if (\n                                        colliderTop <=\n                                        dims.translateY + dims.containerTop\n                                    ) {\n                                        dims.translateY =\n                                            colliderTop - dims.containerTop;\n                                        affixType = 'VIEWPORT-TOP';\n                                    } else if (\n                                        dims.containerBottom <= colliderBottom\n                                    ) {\n                                        dims.translateY =\n                                            dims.containerBottom -\n                                            sidebarBottom;\n                                        affixType = 'CONTAINER-BOTTOM';\n                                    } else if (!this.isSidebarFitsViewport()) {\n                                        if (\n                                            dims.containerTop <= colliderTop &&\n                                            0 !== dims.translateY &&\n                                            dims.maxTranslateY !==\n                                                dims.translateY\n                                        ) {\n                                            affixType = 'VIEWPORT-UNBOTTOM';\n                                        }\n                                    }\n\n                                    return affixType;\n                                },\n                            },\n                            {\n                                key: '_getStyle',\n                                value: function _getStyle(affixType) {\n                                    if ('undefined' === typeof affixType)\n                                        return;\n\n                                    var style = { inner: {}, outer: {} };\n                                    var dims = this.dimensions;\n\n                                    switch (affixType) {\n                                        case 'VIEWPORT-TOP':\n                                            style.inner = {\n                                                position: 'fixed',\n                                                top: dims.topSpacing,\n                                                left:\n                                                    dims.sidebarLeft -\n                                                    dims.viewportLeft,\n                                                width: dims.sidebarWidth,\n                                            };\n                                            break;\n                                        case 'VIEWPORT-BOTTOM':\n                                            style.inner = {\n                                                position: 'fixed',\n                                                top: 'auto',\n                                                left: dims.sidebarLeft,\n                                                bottom: dims.bottomSpacing,\n                                                width: dims.sidebarWidth,\n                                            };\n                                            break;\n                                        case 'CONTAINER-BOTTOM':\n                                        case 'VIEWPORT-UNBOTTOM':\n                                            var translate = this._getTranslate(\n                                                0,\n                                                dims.translateY + 'px'\n                                            );\n\n                                            if (translate)\n                                                style.inner = {\n                                                    transform: translate,\n                                                };\n                                            else\n                                                style.inner = {\n                                                    position: 'absolute',\n                                                    top: dims.translateY,\n                                                    width: dims.sidebarWidth,\n                                                };\n                                            break;\n                                    }\n\n                                    switch (affixType) {\n                                        case 'VIEWPORT-TOP':\n                                        case 'VIEWPORT-BOTTOM':\n                                        case 'VIEWPORT-UNBOTTOM':\n                                        case 'CONTAINER-BOTTOM':\n                                            style.outer = {\n                                                height: dims.sidebarHeight,\n                                                position: 'relative',\n                                            };\n                                            break;\n                                    }\n\n                                    style.outer = StickySidebar.extend(\n                                        { height: '', position: '' },\n                                        style.outer\n                                    );\n                                    style.inner = StickySidebar.extend(\n                                        {\n                                            position: 'relative',\n                                            top: '',\n                                            left: '',\n                                            bottom: '',\n                                            width: '',\n                                            transform: '',\n                                        },\n                                        style.inner\n                                    );\n\n                                    return style;\n                                },\n                            },\n                            {\n                                key: 'stickyPosition',\n                                value: function stickyPosition(force) {\n                                    if (this._breakpoint) return;\n\n                                    force = this._reStyle || force || false;\n\n                                    var affixType = this.getAffixType();\n                                    var style = this._getStyle(affixType);\n\n                                    if (\n                                        (this.affixedType != affixType ||\n                                            force) &&\n                                        affixType\n                                    ) {\n                                        var affixEvent =\n                                            'affix.' +\n                                            affixType\n                                                .toLowerCase()\n                                                .replace('viewport-', '') +\n                                            EVENT_KEY;\n                                        StickySidebar.eventTrigger(\n                                            this.sidebar,\n                                            affixEvent\n                                        );\n\n                                        if ('STATIC' === affixType)\n                                            StickySidebar.removeClass(\n                                                this.sidebar,\n                                                this.options.stickyClass\n                                            );\n                                        else\n                                            StickySidebar.addClass(\n                                                this.sidebar,\n                                                this.options.stickyClass\n                                            );\n\n                                        for (var key in style.outer) {\n                                            var unit =\n                                                'number' ===\n                                                typeof style.outer[key]\n                                                    ? 'px'\n                                                    : '';\n                                            this.sidebar.style[key] =\n                                                style.outer[key] + unit;\n                                        }\n\n                                        for (var _key in style.inner) {\n                                            var _unit =\n                                                'number' ===\n                                                typeof style.inner[_key]\n                                                    ? 'px'\n                                                    : '';\n                                            this.sidebarInner.style[_key] =\n                                                style.inner[_key] + _unit;\n                                        }\n\n                                        var affixedEvent =\n                                            'affixed.' +\n                                            affixType\n                                                .toLowerCase()\n                                                .replace('viewport-', '') +\n                                            EVENT_KEY;\n                                        StickySidebar.eventTrigger(\n                                            this.sidebar,\n                                            affixedEvent\n                                        );\n                                    } else {\n                                        if (this._initialized)\n                                            this.sidebarInner.style.left =\n                                                style.inner.left;\n                                    }\n\n                                    this.affixedType = affixType;\n                                },\n                            },\n                            {\n                                key: '_widthBreakpoint',\n                                value: function _widthBreakpoint() {\n                                    if (\n                                        window.innerWidth <=\n                                        this.options.minWidth\n                                    ) {\n                                        this._breakpoint = true;\n                                        this.affixedType = 'STATIC';\n\n                                        this.sidebar.removeAttribute('style');\n                                        StickySidebar.removeClass(\n                                            this.sidebar,\n                                            this.options.stickyClass\n                                        );\n                                        this.sidebarInner.removeAttribute(\n                                            'style'\n                                        );\n                                    } else {\n                                        this._breakpoint = false;\n                                    }\n                                },\n                            },\n                            {\n                                key: 'updateSticky',\n                                value: function updateSticky() {\n                                    var _this3 = this;\n\n                                    var event =\n                                        arguments.length > 0 &&\n                                        arguments[0] !== undefined\n                                            ? arguments[0]\n                                            : {};\n\n                                    if (this._running) return;\n                                    this._running = true;\n\n                                    (function(eventType) {\n                                        requestAnimationFrame(function() {\n                                            switch (eventType) {\n                                                // When browser is scrolling and re-calculate just dimensions\n                                                // within scroll.\n                                                case 'scroll':\n                                                    _this3._calcDimensionsWithScroll();\n                                                    _this3.observeScrollDir();\n                                                    _this3.stickyPosition();\n                                                    break;\n\n                                                // When browser is resizing or there's no event, observe width\n                                                // breakpoint and re-calculate dimensions.\n                                                case 'resize':\n                                                default:\n                                                    _this3._widthBreakpoint();\n                                                    _this3.calcDimensions();\n                                                    _this3.stickyPosition(true);\n                                                    break;\n                                            }\n                                            _this3._running = false;\n                                        });\n                                    })(event.type);\n                                },\n                            },\n                            {\n                                key: '_setSupportFeatures',\n                                value: function _setSupportFeatures() {\n                                    var support = this.support;\n\n                                    support.transform = StickySidebar.supportTransform();\n                                    support.transform3d = StickySidebar.supportTransform(\n                                        true\n                                    );\n                                },\n                            },\n                            {\n                                key: '_getTranslate',\n                                value: function _getTranslate() {\n                                    var y =\n                                        arguments.length > 0 &&\n                                        arguments[0] !== undefined\n                                            ? arguments[0]\n                                            : 0;\n                                    var x =\n                                        arguments.length > 1 &&\n                                        arguments[1] !== undefined\n                                            ? arguments[1]\n                                            : 0;\n                                    var z =\n                                        arguments.length > 2 &&\n                                        arguments[2] !== undefined\n                                            ? arguments[2]\n                                            : 0;\n\n                                    if (this.support.transform3d)\n                                        return (\n                                            'translate3d(' +\n                                            y +\n                                            ', ' +\n                                            x +\n                                            ', ' +\n                                            z +\n                                            ')'\n                                        );\n                                    else if (this.support.translate)\n                                        return (\n                                            'translate(' + y + ', ' + x + ')'\n                                        );\n                                    else return false;\n                                },\n                            },\n                            {\n                                key: 'destroy',\n                                value: function destroy() {\n                                    window.removeEventListener('resize', this, {\n                                        capture: false,\n                                    });\n                                    window.removeEventListener('scroll', this, {\n                                        capture: false,\n                                    });\n\n                                    this.sidebar.classList.remove(\n                                        this.options.stickyClass\n                                    );\n                                    this.sidebar.style.minHeight = '';\n\n                                    this.sidebar.removeEventListener(\n                                        'update' + EVENT_KEY,\n                                        this\n                                    );\n\n                                    var styleReset = { inner: {}, outer: {} };\n\n                                    styleReset.inner = {\n                                        position: '',\n                                        top: '',\n                                        left: '',\n                                        bottom: '',\n                                        width: '',\n                                        transform: '',\n                                    };\n                                    styleReset.outer = {\n                                        height: '',\n                                        position: '',\n                                    };\n\n                                    for (var key in styleReset.outer) {\n                                        this.sidebar.style[key] =\n                                            styleReset.outer[key];\n                                    }\n                                    for (var _key2 in styleReset.inner) {\n                                        this.sidebarInner.style[_key2] =\n                                            styleReset.inner[_key2];\n                                    }\n                                    if (\n                                        this.options.resizeSensor &&\n                                        'undefined' !== typeof ResizeSensor\n                                    ) {\n                                        ResizeSensor.detach(\n                                            this.sidebarInner,\n                                            this.handleEvent\n                                        );\n                                        ResizeSensor.detach(\n                                            this.container,\n                                            this.handleEvent\n                                        );\n                                    }\n                                },\n                            },\n                        ],\n                        [\n                            {\n                                key: 'supportTransform',\n                                value: function supportTransform(transform3d) {\n                                    var result = false,\n                                        property = transform3d\n                                            ? 'perspective'\n                                            : 'transform',\n                                        upper =\n                                            property.charAt(0).toUpperCase() +\n                                            property.slice(1),\n                                        prefixes = ['Webkit', 'Moz', 'O', 'ms'],\n                                        support = document.createElement(\n                                            'support'\n                                        ),\n                                        style = support.style;\n\n                                    (\n                                        property +\n                                        ' ' +\n                                        prefixes.join(upper + ' ') +\n                                        upper\n                                    )\n                                        .split(' ')\n                                        .forEach(function(property, i) {\n                                            if (style[property] !== undefined) {\n                                                result = property;\n                                                return false;\n                                            }\n                                        });\n                                    return result;\n                                },\n                            },\n                            {\n                                key: 'eventTrigger',\n                                value: function eventTrigger(\n                                    element,\n                                    eventName,\n                                    data\n                                ) {\n                                    try {\n                                        var event = new CustomEvent(eventName, {\n                                            detail: data,\n                                        });\n                                    } catch (e) {\n                                        var event = document.createEvent(\n                                            'CustomEvent'\n                                        );\n                                        event.initCustomEvent(\n                                            eventName,\n                                            true,\n                                            true,\n                                            data\n                                        );\n                                    }\n                                    element.dispatchEvent(event);\n                                },\n                            },\n                            {\n                                key: 'extend',\n                                value: function extend(defaults, options) {\n                                    var results = {};\n                                    for (var key in defaults) {\n                                        if ('undefined' !== typeof options[key])\n                                            results[key] = options[key];\n                                        else results[key] = defaults[key];\n                                    }\n                                    return results;\n                                },\n                            },\n                            {\n                                key: 'offsetRelative',\n                                value: function offsetRelative(element) {\n                                    var result = { left: 0, top: 0 };\n\n                                    do {\n                                        var offsetTop = element.offsetTop;\n                                        var offsetLeft = element.offsetLeft;\n\n                                        if (!isNaN(offsetTop))\n                                            result.top += offsetTop;\n\n                                        if (!isNaN(offsetLeft))\n                                            result.left += offsetLeft;\n\n                                        element =\n                                            'BODY' === element.tagName\n                                                ? element.parentElement\n                                                : element.offsetParent;\n                                    } while (element);\n                                    return result;\n                                },\n                            },\n                            {\n                                key: 'addClass',\n                                value: function addClass(element, className) {\n                                    if (\n                                        !StickySidebar.hasClass(\n                                            element,\n                                            className\n                                        )\n                                    ) {\n                                        if (element.classList)\n                                            element.classList.add(className);\n                                        else\n                                            element.className +=\n                                                ' ' + className;\n                                    }\n                                },\n                            },\n                            {\n                                key: 'removeClass',\n                                value: function removeClass(\n                                    element,\n                                    className\n                                ) {\n                                    if (\n                                        StickySidebar.hasClass(\n                                            element,\n                                            className\n                                        )\n                                    ) {\n                                        if (element.classList)\n                                            element.classList.remove(className);\n                                        else\n                                            element.className = element.className.replace(\n                                                new RegExp(\n                                                    '(^|\\\\b)' +\n                                                        className\n                                                            .split(' ')\n                                                            .join('|') +\n                                                        '(\\\\b|$)',\n                                                    'gi'\n                                                ),\n                                                ' '\n                                            );\n                                    }\n                                },\n                            },\n                            {\n                                key: 'hasClass',\n                                value: function hasClass(element, className) {\n                                    if (element.classList)\n                                        return element.classList.contains(\n                                            className\n                                        );\n                                    else\n                                        return new RegExp(\n                                            '(^| )' + className + '( |$)',\n                                            'gi'\n                                        ).test(element.className);\n                                },\n                            },\n                            {\n                                key: 'defaults',\n                                get: function() {\n                                    return DEFAULTS;\n                                },\n                            },\n                        ]\n                    );\n\n                    return StickySidebar;\n                })();\n\n                return StickySidebar;\n            })();\n\n            exports.default = StickySidebar;\n\n            // Global\n            // -------------------------\n            window.StickySidebar = StickySidebar;\n        });\n    });\n\n    var stickySidebar$1 = unwrapExports(stickySidebar);\n\n    exports['default'] = stickySidebar$1;\n    exports.__moduleExports = stickySidebar;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n\n//# sourceMappingURL=sticky-sidebar.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/global.js */ \"fRV19Cw+\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicFRlYnZUZ2YuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9fbGliL3N0aWNreUJsb2NrLmpzP2E1MzciXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGZhY3RvcnkoZXhwb3J0cylcbiAgICAgICAgOiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWRcbiAgICAgICAgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpXG4gICAgICAgIDogZmFjdG9yeSgoZ2xvYmFsLlN0aWNreVNpZGViYXIgPSB7fSkpO1xufSkodGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBjb21tb25qc0dsb2JhbCA9XG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IHdpbmRvd1xuICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IHNlbGZcbiAgICAgICAgICAgIDoge307XG5cbiAgICBmdW5jdGlvbiB1bndyYXBFeHBvcnRzKHgpIHtcbiAgICAgICAgcmV0dXJuIHggJiYgeC5fX2VzTW9kdWxlID8geFsnZGVmYXVsdCddIDogeDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAobW9kdWxlID0geyBleHBvcnRzOiB7fSB9KSxcbiAgICAgICAgICAgIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLFxuICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgc3RpY2t5U2lkZWJhciA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuICAgICAgICAoZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVuZGVmaW5lZCA9PT0gJ2Z1bmN0aW9uJyAmJiB1bmRlZmluZWQuYW1kKSB7XG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkKFsnZXhwb3J0cyddLCBmYWN0b3J5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjdG9yeShleHBvcnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoY29tbW9uanNHbG9iYWwsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiAgICAgICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RpY2t5IFNpZGViYXIgSmF2YVNjcmlwdCBQbHVnaW4uXG4gICAgICAgICAgICAgKiBAdmVyc2lvbiAzLjMuMVxuICAgICAgICAgICAgICogQGF1dGhvciBBaG1lZCBCb3VodW9saWEgPGEuYm91aHVvbGlhQGdtYWlsLmNvbT5cbiAgICAgICAgICAgICAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgU3RpY2t5U2lkZWJhciA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyAjIERlZmluZSBDb25zdGFudHNcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHZhciBFVkVOVF9LRVkgPSAnLnN0aWNreVNpZGViYXInO1xuICAgICAgICAgICAgICAgIHZhciBERUZBVUxUUyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEFkZGl0aW9uYWwgdG9wIHNwYWNpbmcgb2YgdGhlIGVsZW1lbnQgd2hlbiBpdCBiZWNvbWVzIHN0aWNreS5cbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge051bWVyaWN8RnVuY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB0b3BTcGFjaW5nOiAwLFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBBZGRpdGlvbmFsIGJvdHRvbSBzcGFjaW5nIG9mIHRoZSBlbGVtZW50IHdoZW4gaXQgYmVjb21lcyBzdGlja3kuXG4gICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtOdW1lcmljfEZ1bmN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgYm90dG9tU3BhY2luZzogMCxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQ29udGFpbmVyIHNpZGViYXIgc2VsZWN0b3IgdG8ga25vdyB3aGF0IHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBzdGlja3kgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge1N0cmluZ3xGYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclNlbGVjdG9yOiBmYWxzZSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSW5uZXIgd3JhcHBlciBzZWxlY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlubmVyV3JhcHBlclNlbGVjdG9yOiAnLmlubmVyLXdyYXBwZXItc3RpY2t5JyxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGhlIG5hbWUgb2YgQ1NTIGNsYXNzIHRvIGFwcGx5IHRvIGVsZW1lbnRzIHdoZW4gdGhleSBoYXZlIGJlY29tZSBzdHVjay5cbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge1N0cmluZ3xGYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHN0aWNreUNsYXNzOiAnaXMtYWZmaXhlZCcsXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIERldGVjdCB3aGVuIHNpZGViYXIgYW5kIGl0cyBjb250YWluZXIgY2hhbmdlIGhlaWdodCBzbyByZS1jYWxjdWxhdGUgdGhlaXIgZGltZW5zaW9ucy5cbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICByZXNpemVTZW5zb3I6IHRydWUsXG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSBzaWRlYmFyIHJldHVybnMgdG8gaXRzIG5vcm1hbCBwb3NpdGlvbiBpZiBpdHMgd2lkdGggYmVsb3cgdGhpcyB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICogQHR5cGUge051bWVyaWN9XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vICMgQ2xhc3MgRGVmaW5pdGlvblxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3RpY2t5IFNpZGViYXIgQ2xhc3MuXG4gICAgICAgICAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgdmFyIFN0aWNreVNpZGViYXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBTdGlja3kgU2lkZWJhciBDb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgICAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8U3RyaW5nfSBzaWRlYmFyIC0gVGhlIHNpZGViYXIgZWxlbWVudCBvciBzaWRlYmFyIHNlbGVjdG9yLlxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIG9mIHN0aWNreSBzaWRlYmFyLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gU3RpY2t5U2lkZWJhcihzaWRlYmFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudHNbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0aWNreVNpZGViYXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBTdGlja3lTaWRlYmFyLmV4dGVuZChERUZBVUxUUywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpZGViYXIgZWxlbWVudCBxdWVyeSBpZiB0aGVyZSdzIG5vIG9uZSwgdGhyb3cgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXIgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJpbmcnID09PSB0eXBlb2Ygc2lkZWJhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2lkZWJhcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzaWRlYmFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCd1bmRlZmluZWQnID09PSB0eXBlb2YgdGhpcy5zaWRlYmFyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZXJlIGlzIG5vIHNwZWNpZmljIHNpZGViYXIgZWxlbWVudC4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFySW5uZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5zaWRlYmFyLnBhcmVudEVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnQgQWZmaXggVHlwZSBvZiBzaWRlYmFyIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFmZml4ZWRUeXBlID0gJ1NUQVRJQyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdkb3duJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VwcG9ydCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTNkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZVN0eWxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9icmVha3BvaW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpbWVuc2lvbnMgb2Ygc2lkZWJhciwgY29udGFpbmVyIGFuZCBzY3JlZW4gdmlld3BvcnQuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhUcmFuc2xhdGVZOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcFNwYWNpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFRvcFNwYWNpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tU3BhY2luZzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Qm90dG9tU3BhY2luZzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlYmFySGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGViYXJXaWR0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJUb3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0VG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWaWV3cG9ydFRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJpbmQgZXZlbnQgaGFuZGxlcnMgZm9yIHJlZmVyZW5jYWJpbGl0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgIFsnaGFuZGxlRXZlbnQnXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemUgc3RpY2t5IHNpZGViYXIgZm9yIGZpcnN0IHRpbWUuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJbml0aWFsaXplcyB0aGUgc3RpY2t5IHNpZGViYXIgYnkgYWRkaW5nIGlubmVyIHdyYXBwZXIsIGRlZmluZSBpdHMgY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgKiBtaW4td2lkdGggYnJlYWtwb2ludCwgY2FsY3VsYXRpbmcgZGltZW5zaW9ucywgYWRkaW5nIGhlbHBlciBjbGFzc2VzIGFuZCBpbmxpbmUgc3R5bGUuXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0aWNreVNpZGViYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0U3VwcG9ydEZlYXR1cmVzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBzdGlja3kgc2lkZWJhciBpbm5lciB3cmFwcGVyLCBpZiBub3QgZm91bmQsIHdpbGwgY3JlYXRlIG9uZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5uZXJXcmFwcGVyU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXJJbm5lciA9IHRoaXMuc2lkZWJhci5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuaW5uZXJXcmFwcGVyU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHRoaXMuc2lkZWJhcklubmVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXJJbm5lciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2lkZWJhcklubmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbm5lci13cmFwcGVyLXN0aWNreSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhci5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFyLmZpcnN0Q2hpbGQgIT0gd3JhcHBlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFyLmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFySW5uZXIgPSB0aGlzLnNpZGViYXIucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5pbm5lci13cmFwcGVyLXN0aWNreSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250YWluZXIgd3JhcHBlciBvZiB0aGUgc2lkZWJhci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXJTZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVycyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnMuZm9yRWFjaChmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFjb250YWluZXIuY29udGFpbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNpZGViYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXJzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBjb250YWluZXIgZG9lcyBub3QgY29udGFpbnMgb24gdGhlIHNpZGViYXIuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0b3AvYm90dG9tIHNwYWNpbmcgaXMgbm90IGZ1bmN0aW9uIHBhcnNlIHZhbHVlIHRvIGludGVnZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Z1bmN0aW9uJyAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLnRvcFNwYWNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudG9wU3BhY2luZyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRoaXMub3B0aW9ucy50b3BTcGFjaW5nKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Z1bmN0aW9uJyAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5vcHRpb25zLmJvdHRvbVNwYWNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYm90dG9tU3BhY2luZyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmJvdHRvbVNwYWNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB8fCAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCcmVha2Rvd24gc3RpY2t5IHNpZGViYXIgaWYgc2NyZWVuIHdpZHRoIGJlbG93IGBvcHRpb25zLm1pbldpZHRoYC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3dpZHRoQnJlYWtwb2ludCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgZGltZW5zaW9ucyBvZiBzaWRlYmFyLCBjb250YWluZXIgYW5kIHZpZXdwb3J0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjRGltZW5zaW9ucygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZmZpeCBzaWRlYmFyIGluIHByb3BlciBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RpY2t5UG9zaXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmluZCBhbGwgZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluZm9ybSBvdGhlciBwcm9wZXJ0aWVzIHRoZSBzdGlja3kgc2lkZWJhciBpcyBpbml0aWFsaXplZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnYmluZEV2ZW50cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwZGF0ZScgKyBFVkVOVF9LRVksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yZXNpemVTZW5zb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIFJlc2l6ZVNlbnNvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlc2l6ZVNlbnNvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFySW5uZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZXNpemVTZW5zb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnaGFuZGxlRXZlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RpY2t5KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnY2FsY0RpbWVuc2lvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY0RpbWVuc2lvbnMoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYnJlYWtwb2ludCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpbXMgPSB0aGlzLmRpbWVuc2lvbnM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRhaW5lciBvZiBzdGlja3kgc2lkZWJhciBkaW1lbnNpb25zLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5jb250YWluZXJUb3AgPSBTdGlja3lTaWRlYmFyLm9mZnNldFJlbGF0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuY29udGFpbmVySGVpZ2h0ID0gdGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5jb250YWluZXJCb3R0b20gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuY29udGFpbmVyVG9wICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmNvbnRhaW5lckhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2lkZWJhciBkaW1lbnNpb25zLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5zaWRlYmFySGVpZ2h0ID0gdGhpcy5zaWRlYmFySW5uZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5zaWRlYmFyV2lkdGggPSB0aGlzLnNpZGViYXJJbm5lci5vZmZzZXRXaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2NyZWVuIHZpZXdwb3J0IGRpbWVuc2lvbnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXhpbXVtIHNpZGViYXIgdHJhbnNsYXRlIFkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLm1heFRyYW5zbGF0ZVkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuY29udGFpbmVySGVpZ2h0IC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnNpZGViYXJIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGNEaW1lbnNpb25zV2l0aFNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdfY2FsY0RpbWVuc2lvbnNXaXRoU2Nyb2xsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jYWxjRGltZW5zaW9uc1dpdGhTY3JvbGwoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltcyA9IHRoaXMuZGltZW5zaW9ucztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5zaWRlYmFyTGVmdCA9IFN0aWNreVNpZGViYXIub2Zmc2V0UmVsYXRpdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLmxlZnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRUb3AgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRCb3R0b20gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRUb3AgKyBkaW1zLnZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy52aWV3cG9ydExlZnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRvcFNwYWNpbmcgPSB0aGlzLm9wdGlvbnMudG9wU3BhY2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuYm90dG9tU3BhY2luZyA9IHRoaXMub3B0aW9ucy5ib3R0b21TcGFjaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGRpbXMudG9wU3BhY2luZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRvcFNwYWNpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudG9wU3BhY2luZyh0aGlzLnNpZGViYXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmdW5jdGlvbicgPT09IHR5cGVvZiBkaW1zLmJvdHRvbVNwYWNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmJvdHRvbVNwYWNpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuYm90dG9tU3BhY2luZyh0aGlzLnNpZGViYXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdWSUVXUE9SVC1UT1AnID09PSB0aGlzLmFmZml4ZWRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRqdXN0IHRyYW5zbGF0ZSBZIGluIHRoZSBjYXNlIGRlY3JlYXNlIHRvcCBzcGFjaW5nIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50b3BTcGFjaW5nIDxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5sYXN0VG9wU3BhY2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVkgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMubGFzdFRvcFNwYWNpbmcgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50b3BTcGFjaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZVN0eWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWSUVXUE9SVC1CT1RUT00nID09PSB0aGlzLmFmZml4ZWRUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGp1c3QgdHJhbnNsYXRlIFkgaW4gdGhlIGNhc2UgZGVjcmVhc2UgYm90dG9tIHNwYWNpbmcgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmJvdHRvbVNwYWNpbmcgPFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmxhc3RCb3R0b21TcGFjaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudHJhbnNsYXRlWSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5sYXN0Qm90dG9tU3BhY2luZyAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmJvdHRvbVNwYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlU3R5bGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5sYXN0VG9wU3BhY2luZyA9IGRpbXMudG9wU3BhY2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMubGFzdEJvdHRvbVNwYWNpbmcgPSBkaW1zLmJvdHRvbVNwYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2lzU2lkZWJhckZpdHNWaWV3cG9ydCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NpZGViYXJGaXRzVmlld3BvcnQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy5zaWRlYmFySGVpZ2h0IDxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMudmlld3BvcnRIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ29ic2VydmVTY3JvbGxEaXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb2JzZXJ2ZVNjcm9sbERpcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaW1zID0gdGhpcy5kaW1lbnNpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMubGFzdFZpZXdwb3J0VG9wID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRUb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmdXJ0aGVzdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rvd24nID09PSB0aGlzLmRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5tYXg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBicm93c2VyIGlzIHNjcm9sbGluZyBub3QgaW4gdGhlIHNhbWUgZGlyZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRUb3AgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVydGhlc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRUb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMubGFzdFZpZXdwb3J0VG9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rvd24nID09PSB0aGlzLmRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAndXAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdkb3duJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZ2V0QWZmaXhUeXBlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFmZml4VHlwZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGNEaW1lbnNpb25zV2l0aFNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpbXMgPSB0aGlzLmRpbWVuc2lvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGlkZXJUb3AgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRUb3AgKyBkaW1zLnRvcFNwYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWZmaXhUeXBlID0gdGhpcy5hZmZpeGVkVHlwZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyVG9wIDw9IGRpbXMuY29udGFpbmVyVG9wIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5jb250YWluZXJIZWlnaHQgPD1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5zaWRlYmFySGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZml4VHlwZSA9ICdTVEFUSUMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZpeFR5cGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXAnID09PSB0aGlzLmRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLl9nZXRBZmZpeFR5cGVTY3JvbGxpbmdVcCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2dldEFmZml4VHlwZVNjcm9sbGluZ0Rvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0cmFuc2xhdGUgWSBpcyBub3QgYmlnZ2VyIHRoYW4gY29udGFpbmVyIGhlaWdodC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudHJhbnNsYXRlWSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50cmFuc2xhdGVZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50cmFuc2xhdGVZID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5jb250YWluZXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50cmFuc2xhdGVZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50cmFuc2xhdGVZID0gTWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMubGFzdFZpZXdwb3J0VG9wID0gZGltcy52aWV3cG9ydFRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZmZpeFR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ19nZXRBZmZpeFR5cGVTY3JvbGxpbmdEb3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRBZmZpeFR5cGVTY3JvbGxpbmdEb3duKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpbXMgPSB0aGlzLmRpbWVuc2lvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2lkZWJhckJvdHRvbSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5zaWRlYmFySGVpZ2h0ICsgZGltcy5jb250YWluZXJUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGlkZXJUb3AgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRUb3AgKyBkaW1zLnRvcFNwYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGlkZXJCb3R0b20gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRCb3R0b20gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuYm90dG9tU3BhY2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZmZpeFR5cGUgPSB0aGlzLmFmZml4ZWRUeXBlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1NpZGViYXJGaXRzVmlld3BvcnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5zaWRlYmFySGVpZ2h0ICsgY29sbGlkZXJUb3AgPj1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5jb250YWluZXJCb3R0b21cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50cmFuc2xhdGVZID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuY29udGFpbmVyQm90dG9tIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGViYXJCb3R0b207XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZml4VHlwZSA9ICdDT05UQUlORVItQk9UVE9NJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaWRlclRvcCA+PSBkaW1zLmNvbnRhaW5lclRvcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlkZXJUb3AgLSBkaW1zLmNvbnRhaW5lclRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZmaXhUeXBlID0gJ1ZJRVdQT1JULVRPUCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuY29udGFpbmVyQm90dG9tIDw9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyQm90dG9tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudHJhbnNsYXRlWSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmNvbnRhaW5lckJvdHRvbSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlYmFyQm90dG9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZpeFR5cGUgPSAnQ09OVEFJTkVSLUJPVFRPTSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZWJhckJvdHRvbSArIGRpbXMudHJhbnNsYXRlWSA8PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaWRlckJvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlkZXJCb3R0b20gLSBzaWRlYmFyQm90dG9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZpeFR5cGUgPSAnVklFV1BPUlQtQk9UVE9NJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmNvbnRhaW5lclRvcCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVkgPD1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyVG9wICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgIT09IGRpbXMudHJhbnNsYXRlWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLm1heFRyYW5zbGF0ZVkgIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZmaXhUeXBlID0gJ1ZJRVdQT1JULVVOQk9UVE9NJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZmZpeFR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ19nZXRBZmZpeFR5cGVTY3JvbGxpbmdVcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0QWZmaXhUeXBlU2Nyb2xsaW5nVXAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltcyA9IHRoaXMuZGltZW5zaW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaWRlYmFyQm90dG9tID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnNpZGViYXJIZWlnaHQgKyBkaW1zLmNvbnRhaW5lclRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xsaWRlclRvcCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy52aWV3cG9ydFRvcCArIGRpbXMudG9wU3BhY2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xsaWRlckJvdHRvbSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy52aWV3cG9ydEJvdHRvbSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5ib3R0b21TcGFjaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFmZml4VHlwZSA9IHRoaXMuYWZmaXhlZFR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaWRlclRvcCA8PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudHJhbnNsYXRlWSArIGRpbXMuY29udGFpbmVyVG9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaWRlclRvcCAtIGRpbXMuY29udGFpbmVyVG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZml4VHlwZSA9ICdWSUVXUE9SVC1UT1AnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLmNvbnRhaW5lckJvdHRvbSA8PSBjb2xsaWRlckJvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy50cmFuc2xhdGVZID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5jb250YWluZXJCb3R0b20gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlYmFyQm90dG9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZml4VHlwZSA9ICdDT05UQUlORVItQk9UVE9NJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaWRlYmFyRml0c1ZpZXdwb3J0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuY29udGFpbmVyVG9wIDw9IGNvbGxpZGVyVG9wICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgIT09IGRpbXMudHJhbnNsYXRlWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLm1heFRyYW5zbGF0ZVkgIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZmaXhUeXBlID0gJ1ZJRVdQT1JULVVOQk9UVE9NJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZmZpeFR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ19nZXRTdHlsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3R5bGUoYWZmaXhUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBhZmZpeFR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB7IGlubmVyOiB7fSwgb3V0ZXI6IHt9IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGltcyA9IHRoaXMuZGltZW5zaW9ucztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhZmZpeFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdWSUVXUE9SVC1UT1AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5pbm5lciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBkaW1zLnRvcFNwYWNpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMuc2lkZWJhckxlZnQgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbXMudmlld3BvcnRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGRpbXMuc2lkZWJhcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdWSUVXUE9SVC1CT1RUT00nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5pbm5lciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBkaW1zLnNpZGViYXJMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBkaW1zLmJvdHRvbVNwYWNpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZGltcy5zaWRlYmFyV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0NPTlRBSU5FUi1CT1RUT00nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1ZJRVdQT1JULVVOQk9UVE9NJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZSA9IHRoaXMuX2dldFRyYW5zbGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1zLnRyYW5zbGF0ZVkgKyAncHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zbGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLmlubmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUuaW5uZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBkaW1zLnRyYW5zbGF0ZVksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGRpbXMuc2lkZWJhcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYWZmaXhUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnVklFV1BPUlQtVE9QJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdWSUVXUE9SVC1CT1RUT00nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1ZJRVdQT1JULVVOQk9UVE9NJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdDT05UQUlORVItQk9UVE9NJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUub3V0ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGRpbXMuc2lkZWJhckhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUub3V0ZXIgPSBTdGlja3lTaWRlYmFyLmV4dGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGhlaWdodDogJycsIHBvc2l0aW9uOiAnJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLm91dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUuaW5uZXIgPSBTdGlja3lTaWRlYmFyLmV4dGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUuaW5uZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnc3RpY2t5UG9zaXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3RpY2t5UG9zaXRpb24oZm9yY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9icmVha3BvaW50KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlID0gdGhpcy5fcmVTdHlsZSB8fCBmb3JjZSB8fCBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFmZml4VHlwZSA9IHRoaXMuZ2V0QWZmaXhUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZShhZmZpeFR5cGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYWZmaXhlZFR5cGUgIT0gYWZmaXhUeXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZml4VHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFmZml4RXZlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWZmaXguJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZml4VHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCd2aWV3cG9ydC0nLCAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFVkVOVF9LRVk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RpY2t5U2lkZWJhci5ldmVudFRyaWdnZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZmaXhFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ1NUQVRJQycgPT09IGFmZml4VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RpY2t5U2lkZWJhci5yZW1vdmVDbGFzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdGlja3lDbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RpY2t5U2lkZWJhci5hZGRDbGFzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdGlja3lDbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHN0eWxlLm91dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bml0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1iZXInID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHN0eWxlLm91dGVyW2tleV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXIuc3R5bGVba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5vdXRlcltrZXldICsgdW5pdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfa2V5IGluIHN0eWxlLmlubmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdW5pdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtYmVyJyA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBzdHlsZS5pbm5lcltfa2V5XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3B4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhcklubmVyLnN0eWxlW19rZXldID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLmlubmVyW19rZXldICsgX3VuaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFmZml4ZWRFdmVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhZmZpeGVkLicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZpeFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgndmlld3BvcnQtJywgJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlRfS0VZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0aWNreVNpZGViYXIuZXZlbnRUcmlnZ2VyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZml4ZWRFdmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbml0aWFsaXplZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFySW5uZXIuc3R5bGUubGVmdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5pbm5lci5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFmZml4ZWRUeXBlID0gYWZmaXhUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdfd2lkdGhCcmVha3BvaW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF93aWR0aEJyZWFrcG9pbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGggPD1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMubWluV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JyZWFrcG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWZmaXhlZFR5cGUgPSAnU1RBVElDJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhci5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RpY2t5U2lkZWJhci5yZW1vdmVDbGFzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc3RpY2t5Q2xhc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhcklubmVyLnJlbW92ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0eWxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JyZWFrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAndXBkYXRlU3RpY2t5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0aWNreSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3J1bm5pbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBicm93c2VyIGlzIHNjcm9sbGluZyBhbmQgcmUtY2FsY3VsYXRlIGp1c3QgZGltZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2l0aGluIHNjcm9sbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Njcm9sbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLl9jYWxjRGltZW5zaW9uc1dpdGhTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMub2JzZXJ2ZVNjcm9sbERpcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zdGlja3lQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGJyb3dzZXIgaXMgcmVzaXppbmcgb3IgdGhlcmUncyBubyBldmVudCwgb2JzZXJ2ZSB3aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWtwb2ludCBhbmQgcmUtY2FsY3VsYXRlIGRpbWVuc2lvbnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZXNpemUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuX3dpZHRoQnJlYWtwb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5jYWxjRGltZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zdGlja3lQb3NpdGlvbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGV2ZW50LnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdfc2V0U3VwcG9ydEZlYXR1cmVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRTdXBwb3J0RmVhdHVyZXMoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VwcG9ydCA9IHRoaXMuc3VwcG9ydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydC50cmFuc2Zvcm0gPSBTdGlja3lTaWRlYmFyLnN1cHBvcnRUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnQudHJhbnNmb3JtM2QgPSBTdGlja3lTaWRlYmFyLnN1cHBvcnRUcmFuc2Zvcm0oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnX2dldFRyYW5zbGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VHJhbnNsYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudHNbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHogPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudHNbMl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdXBwb3J0LnRyYW5zZm9ybTNkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2xhdGUzZCgnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHogK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0LnRyYW5zbGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNsYXRlKCcgKyB5ICsgJywgJyArIHggKyAnKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnN0aWNreUNsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFyLnN0eWxlLm1pbkhlaWdodCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXBkYXRlJyArIEVWRU5UX0tFWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVSZXNldCA9IHsgaW5uZXI6IHt9LCBvdXRlcjoge30gfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVSZXNldC5pbm5lciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUmVzZXQub3V0ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc3R5bGVSZXNldC5vdXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhci5zdHlsZVtrZXldID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVSZXNldC5vdXRlcltrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2tleTIgaW4gc3R5bGVSZXNldC5pbm5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhcklubmVyLnN0eWxlW19rZXkyXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlUmVzZXQuaW5uZXJbX2tleTJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yZXNpemVTZW5zb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIFJlc2l6ZVNlbnNvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzaXplU2Vuc29yLmRldGFjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWRlYmFySW5uZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlc2l6ZVNlbnNvci5kZXRhY2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3N1cHBvcnRUcmFuc2Zvcm0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3VwcG9ydFRyYW5zZm9ybSh0cmFuc2Zvcm0zZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gdHJhbnNmb3JtM2RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAncGVyc3BlY3RpdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RyYW5zZm9ybScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXIgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ08nLCAnbXMnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1cHBvcnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHN1cHBvcnQuc3R5bGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXhlcy5qb2luKHVwcGVyICsgJyAnKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKHByb3BlcnR5LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZVtwcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcHJvcGVydHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2V2ZW50VHJpZ2dlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBldmVudFRyaWdnZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDdXN0b21FdmVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmluaXRDdXN0b21FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2V4dGVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBleHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBvcHRpb25zW2tleV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJlc3VsdHNba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnb2Zmc2V0UmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb2Zmc2V0UmVsYXRpdmUoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHsgbGVmdDogMCwgdG9wOiAwIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0VG9wID0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldExlZnQgPSBlbGVtZW50Lm9mZnNldExlZnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG9mZnNldFRvcCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50b3AgKz0gb2Zmc2V0VG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihvZmZzZXRMZWZ0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmxlZnQgKz0gb2Zmc2V0TGVmdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQk9EWScgPT09IGVsZW1lbnQudGFnTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2FkZENsYXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFTdGlja3lTaWRlYmFyLmhhc0NsYXNzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgJyArIGNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncmVtb3ZlQ2xhc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0aWNreVNpZGViYXIuaGFzQ2xhc3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcoXnxcXFxcYiknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJ3wnKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcoXFxcXGJ8JCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnaSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnaGFzQ2xhc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKF58ICknICsgY2xhc3NOYW1lICsgJyggfCQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudGVzdChlbGVtZW50LmNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ2RlZmF1bHRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBERUZBVUxUUztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGlja3lTaWRlYmFyO1xuICAgICAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gU3RpY2t5U2lkZWJhcjtcbiAgICAgICAgICAgIH0pKCk7XG5cbiAgICAgICAgICAgIGV4cG9ydHMuZGVmYXVsdCA9IFN0aWNreVNpZGViYXI7XG5cbiAgICAgICAgICAgIC8vIEdsb2JhbFxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgd2luZG93LlN0aWNreVNpZGViYXIgPSBTdGlja3lTaWRlYmFyO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBzdGlja3lTaWRlYmFyJDEgPSB1bndyYXBFeHBvcnRzKHN0aWNreVNpZGViYXIpO1xuXG4gICAgZXhwb3J0c1snZGVmYXVsdCddID0gc3RpY2t5U2lkZWJhciQxO1xuICAgIGV4cG9ydHMuX19tb2R1bGVFeHBvcnRzID0gc3RpY2t5U2lkZWJhcjtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RpY2t5LXNpZGViYXIuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLG1CQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///pTebvTgf\n");

/***/ }),

/***/ "rlXYgjnQ":
/*!***********************!*\
  !*** ./core/utils.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _js_lib_lazysizes_min__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/js/_lib/lazysizes.min */ \"m95++I2L\");\n/* harmony import */ var _js_lib_lazysizes_min__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_js_lib_lazysizes_min__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * Utils.js\r\n *\r\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\r\n */\n\n\n\nBB.define('Utils');\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Utils = function () {\n    function _init() {\n        _detectBrowserType();\n        // _initLazyLoadImage();\n        _cloneBlockShow();\n        _removeHoverEffect();\n        _toggleVisibleText();\n        // _testImgLoad();\n        // _bootstrapModalControl();\n\n        if (true) {\n            console.log('--- INIT UTILS');\n        }\n    }\n    //Проверка типа браузера\n    function _detectBrowserType() {\n        window.addEventListener('load', function () {\n            var html = document.querySelector('html');\n            var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n            var isChrome = !!window.chrome && !isOpera;\n            var isExplorer = typeof document !== 'undefined' && !!document.documentMode && !isEdge;\n            var isFirefox = typeof window.InstallTrigger !== 'undefined';\n            var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n            var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\n            // if (/windows phone/i.test(userAgent)) {\n            //     html.classList.add('is-windows');\n            // }\n\n            if (/android/i.test(userAgent)) {\n                html.classList.add('is-android');\n            }\n\n            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n                html.classList.add('is-ios');\n            }\n\n            if (isChrome) {\n                html.classList.add('is-chrome');\n            } else if (isSafari) {\n                html.classList.add('is-safari');\n            } else if (isFirefox) {\n                html.classList.add('is-firefox');\n            }\n        });\n    }\n\n    //Проверка скорости соединения\n    function _testSlowConnection() {\n        var connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n\n        var slowSpeed = void 0;\n\n        if (typeof connection !== 'undefined' && connection.effectiveType === '3g') {\n            slowSpeed = true;\n        } else {\n            slowSpeed = false;\n\n            var loadTime = (window.performance.timing.domContentLoadedEventEnd - window.performance.timing.navigationStart) / 1000;\n\n            if (loadTime > 4) {\n                slowSpeed = true;\n            }\n        }\n        return slowSpeed;\n    }\n\n    // function _initLazyLoadImage() {\n    //     new LazyLoad({\n    //         elements_selector: '.lazyload',\n    //     });\n    // }\n\n    function _slideUp() {\n        $(this).closest('[data-container]').slideUp();\n    }\n\n    function _slideToggle() {\n        var OPEN_CLASS = 'is-open';\n        var $container = $(this).closest('[data-container]');\n        var $content = $container.find('[data-content]');\n\n        if ($(this).hasClass('no-slide') || $(this).closest('.no-slide').length) {\n            return;\n        }\n        if (!$container.hasClass(OPEN_CLASS)) {\n            $content.slideDown();\n            $container.addClass(OPEN_CLASS);\n        } else {\n            $content.slideUp();\n            $container.removeClass(OPEN_CLASS);\n        }\n    }\n\n    function _copyBox() {\n        $(this).closest('[data-copy-box]').clone().insertAfter($(this));\n    }\n\n    //Убираем класс .has-hover после того как уберем мышь\n    function _removeHoverEffect() {\n        var $blockWithHover = $('.has-hover');\n\n        $blockWithHover.on('mouseleave', function (e) {\n            $(this).removeClass('has-hover');\n        });\n    }\n\n    function _animateWidth() {\n        var _this2 = this;\n\n        var width = $(this).data('width');\n\n        setTimeout(function () {\n            $(_this2).animate({ width: width }, 600);\n        }, 300);\n    }\n\n    //Функция скрывающая или показывающая один блок пока второй вне зоны видимости\n    function _cloneBlockShow() {\n        var $fixBlock = $('.js-fixed-block');\n        var $relBlock = $('.js-relative-block');\n\n        if ($fixBlock.length && $relBlock.length) {\n            var fixBlockHeight = $fixBlock.outerHeight(true);\n            var relBlockHeight = $relBlock.outerHeight(true);\n            var relBlockOffsetTop = $relBlock.offset().top;\n            var wHeight = $(window).height();\n\n            $(window).on('scroll', function () {\n                var scroll = $(this).scrollTop();\n\n                if (scroll + wHeight - fixBlockHeight <= relBlockOffsetTop) {\n                    $fixBlock.removeClass('is-hide');\n                } else {\n                    $fixBlock.addClass('is-hide');\n                }\n            });\n        }\n    }\n\n    function _setFixedBlock(element) {\n        var height = element.outerHeight(true);\n        var elementOffsetTop = element.offset().top;\n\n        var $clone = $('<div class=\"clone\">');\n\n        $clone.insertAfter(element).css('height', height).hide();\n\n        //for fixed top block with width 50px\n        if ($(window).width() <= 768) {\n            elementOffsetTop = element.offset().top - 50;\n        }\n\n        $(window).scroll(function () {\n            var scroll = $(this).scrollTop();\n\n            if (scroll >= elementOffsetTop) {\n                element.addClass('is-fixed');\n                $clone.show();\n            } else if (scroll < elementOffsetTop) {\n                element.removeClass('is-fixed');\n                $clone.hide();\n            }\n        });\n    }\n\n    function _toggleSuccess(block, successClass) {\n        var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1500;\n\n        /**\r\n         * @param block - .string with dot\r\n         * @param  successClass - string without dot\r\n         * You need use call when u want use this function for save context\r\n         */\n        var $block = $(this).closest(block);\n\n        setTimeout(function () {\n            if (!$block.hasClass(successClass)) {\n                $block.addClass(successClass);\n            } else {\n                $block.removeClass(successClass);\n            }\n        }, delay);\n    }\n\n    function _toggleClassAtBlock(block, cl) {\n        $(block + '--open').on('click', function () {\n            $(block).addClass(cl);\n        });\n\n        $(block + '--close').on('click', function () {\n            $(block).removeClass(cl);\n        });\n    }\n\n    function _toggleClassAtBlockClickOutside(block, cl) {\n        $(block).on('click', function () {\n            $(this).toggleClass(cl);\n        });\n\n        $(document).on('click touchstart', function (e) {\n            if ($(e.target).closest(block).length) return;\n            $(block).removeClass(cl);\n            e.stopPropagation();\n        });\n    }\n\n    //Toggle show/visible block text on click button\n    function _toggleVisibleText() {\n        var height = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 145;\n\n        var $textContainer = $(document).find('[data-text-container]');\n        var $btn = $(document).find('[data-text-container-btn]');\n        var OPEN_CLASS = 'is-open';\n        $btn.unbind('click');\n        $textContainer.each(function () {\n            var height = height || $(this).data('text-container');\n\n            if (!$(this).hasClass(OPEN_CLASS)) {\n                $(this).css({ height: height });\n            }\n        });\n\n        $btn.on('click', function (e) {\n            var $textContainer = $(this).parent().find('[data-text-container]');\n            var height = height || $textContainer.data('text-container');\n\n            if (!$textContainer.hasClass(OPEN_CLASS)) {\n                $textContainer.animate({ height: '100%' }, 0);\n\n                var fullHeight = $textContainer.height();\n\n                $textContainer.animate({ height: height }, 1);\n                $textContainer.animate({ height: fullHeight }).addClass(OPEN_CLASS);\n                $(this).text('Скрыть');\n            } else {\n                $textContainer.animate({ height: height }).removeClass(OPEN_CLASS);\n                $(this).text('Подробнее');\n            }\n\n            e.preventDefault();\n            e.stopPropagation();\n        });\n    }\n\n    function _setEqualTableCellHeight() {\n        var $table = $(document).find('.js-graph-table');\n        if ($table.length) {\n            var _setHeight = function _setHeight() {\n                $table.each(function () {\n                    var $tableWorker = $(this).find('.graph-table__static');\n                    var $tableWorkerTr = $tableWorker.find('tr').not(':first');\n                    var $tableHours = $(this).find('.graph-table__move');\n                    var $tableHoursTr = $tableHours.find('tr').not(':first');\n\n                    $tableHoursTr.each(function (i) {\n                        var currentHoursItem = $(this).closest('.js-graph-table').find('.graph-table__static').find('tr').not(':first').eq(i);\n\n                        _maxHeight($(this), currentHoursItem);\n                    });\n\n                    $tableWorkerTr.each(function (i) {\n                        var currentWorkerItem = $(this).closest('.js-graph-table').find('.graph-table__move').find('tr').not(':first').eq(i);\n\n                        _maxHeight($(this), currentWorkerItem);\n                    });\n\n                    function _maxHeight(_this, elem) {\n                        var maxHeight = 0;\n                        var currentHeight = _this.outerHeight();\n\n                        if (currentHeight > maxHeight) maxHeight = currentHeight;\n\n                        if (currentHeight > elem.outerHeight()) elem.css('height', maxHeight);\n                    }\n                });\n            };\n\n            setTimeout(function () {\n                _setHeight();\n            }, 1500);\n\n            $(window).on('resize', function () {\n                _setHeight();\n            });\n        }\n    }\n\n    var _ArrayActiveBlock = [];\n    // функция блокировки/разблокировки документа в зависимости от открытых всмлывающих окон\n    function _documentBlockControl(status, dataTarget, dataBtn) {\n        var counter = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n        var wrapper = document.querySelector('.wrapper');\n        var body = document.body;\n        var html = document.documentElement;\n        var targetBlock = void 0,\n            dataOldBlock = void 0,\n            oldBlock = void 0;\n        if (!dataBtn) {}\n        // status - параметр содержащий boolean значение true/false\n        // нужен для определения открывается ли новый блок или закрывается старый\n        // true - открыт новый блок\n        // false - закрыт старый\n\n        // Уникальный id  - Параметр содержащий в себе\n        // атрибут со значением для открытия окна\n        // нужен для возврата фокуса обратно на элемент после закрытия всплывающего окна\n\n        // Изменения счетчитка открытых модалок\n        if (status === 'open') {\n            if (BB.Utils.ArrayActiveBlock.length) {\n                dataOldBlock = BB.Utils.ArrayActiveBlock[BB.Utils.ArrayActiveBlock.length - 1].block;\n                oldBlock = document.querySelector('' + dataOldBlock);\n                oldBlock.setAttribute('inert', '');\n                oldBlock.setAttribute('tabindex', '-1');\n                // oldBlock.classList.remove('is-open');\n            }\n            targetBlock = document.querySelector('' + dataTarget);\n            if (dataBtn) {\n                dataBtn.setAttribute('inert', '');\n                dataBtn.setAttribute('tabindex', '-1');\n            }\n            targetBlock.removeAttribute('inert');\n            targetBlock.removeAttribute('tabindex');\n            targetBlock.classList.add('is-open');\n            BB.Utils.ArrayActiveBlock.push({ block: dataTarget, btn: dataBtn });\n        } else {\n            if (status === 'close') {\n                for (var i = 0; i < counter; i++) {\n                    var ArrayLength = BB.Utils.ArrayActiveBlock.length;\n                    dataTarget = BB.Utils.ArrayActiveBlock[ArrayLength - 1].block;\n                    dataBtn = BB.Utils.ArrayActiveBlock[ArrayLength - 1].btn;\n                    targetBlock = document.querySelector('' + dataTarget);\n                    targetBlock.setAttribute('inert', '');\n                    targetBlock.setAttribute('tabindex', '-1');\n                    targetBlock.classList.remove('is-open');\n                    if (dataBtn) {\n                        dataBtn.removeAttribute('inert');\n                        dataBtn.removeAttribute('tabindex');\n                    }\n                    if (ArrayLength > 1) {\n                        dataOldBlock = BB.Utils.ArrayActiveBlock[ArrayLength - 2].block;\n                        oldBlock = document.querySelector('' + dataOldBlock);\n                        oldBlock.removeAttribute('inert');\n                        oldBlock.removeAttribute('tabindex');\n                        oldBlock.classList.add('is-open');\n                    }\n                    BB.Utils.ArrayActiveBlock.length = ArrayLength - 1;\n                }\n            } else {\n                return false;\n            }\n        }\n\n        if (!!BB.Utils.ArrayActiveBlock.length) {\n            wrapper.setAttribute('inert', '');\n            wrapper.setAttribute('tabindex', '-1');\n            body.setAttribute('style', 'overflow-y: hidden; position: relative;');\n            html.setAttribute('style', 'overflow-y: hidden; position: relative;');\n        } else {\n            wrapper.removeAttribute('inert');\n            wrapper.removeAttribute('tabindex');\n            body.removeAttribute('style');\n            html.removeAttribute('style');\n            document.querySelectorAll('.overlay').forEach(function (item) {\n                item.classList.remove('is-visible');\n            });\n        }\n\n        if (true) {\n            console.log(BB.Utils.ArrayActiveBlock);\n            console.info('\\u0421\\u0435\\u0439\\u0447\\u0430\\u0441 \\u043E\\u0442\\u043A\\u0440\\u044B\\u0442\\u043E ' + BB.Utils.ArrayActiveBlock.length + ' \\u043E\\u043A\\u043E\\u043D');\n        }\n    }\n\n    // функция замены src картинки если она не загрузилась\n    // function _testImgLoad() {\n    //     document.querySelectorAll('img').forEach(item => {\n    //         item.removeEventListener('error', swapImg);\n    //         item.addEventListener('error', swapImg);\n    //         function swapImg(e) {\n    //             e.target.setAttribute('data-test', '');\n    //             e.target.setAttribute('src', '/client/files/assets/empty.png');\n    //         }\n    //     });\n    // }\n\n    // function _bootstrapModalControl() {\n    //     $(document).on('show.bs.modal', '.modal', function(e) {\n    //         _documentBlockControl('open', `#${e.target.id}`, null)\n    //     })\n    //     $(document).on('hide.bs.modal', '.modal', function(e) {\n    //         _documentBlockControl('close')\n    //     })\n    // }\n\n    return {\n        init: _init,\n        // initLazyLoadImage: _initLazyLoadImage,\n        slideUp: _slideUp,\n        slideToggle: _slideToggle,\n        copyBox: _copyBox,\n        cloneBlockShow: _cloneBlockShow,\n        removeHoverEffect: _removeHoverEffect,\n        animateWidth: _animateWidth,\n        toggleClassAtBlock: _toggleClassAtBlock,\n        toggleSuccess: _toggleSuccess,\n        toggleClassAtBlockClickOutside: _toggleClassAtBlockClickOutside,\n        testSlowConnection: _testSlowConnection,\n        toggleVisibleText: _toggleVisibleText,\n        setEqualTableCellHeight: _setEqualTableCellHeight,\n        documentBlockControl: _documentBlockControl,\n        ArrayActiveBlock: _ArrayActiveBlock\n        // testImgLoad: _testImgLoad,\n        // bootstrapModalControl: _bootstrapModalControl,\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmxYWWdqblEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvdXRpbHMuanM/MzhhZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVXRpbHMuanNcclxuICpcclxuICogQGF1dGhvciBBbnRvbiBVc3Rpbm9mZiA8YS5hLnVzdGlub2ZmQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG5pbXBvcnQgJ0AvanMvX2xpYi9sYXp5c2l6ZXMubWluJztcclxuXHJcbkJCLmRlZmluZSgnVXRpbHMnKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJCLlV0aWxzID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgZnVuY3Rpb24gX2luaXQoKSB7XHJcbiAgICAgICAgX2RldGVjdEJyb3dzZXJUeXBlKCk7XHJcbiAgICAgICAgLy8gX2luaXRMYXp5TG9hZEltYWdlKCk7XHJcbiAgICAgICAgX2Nsb25lQmxvY2tTaG93KCk7XHJcbiAgICAgICAgX3JlbW92ZUhvdmVyRWZmZWN0KCk7XHJcbiAgICAgICAgX3RvZ2dsZVZpc2libGVUZXh0KCk7XHJcbiAgICAgICAgLy8gX3Rlc3RJbWdMb2FkKCk7XHJcbiAgICAgICAgLy8gX2Jvb3RzdHJhcE1vZGFsQ29udHJvbCgpO1xyXG5cclxuICAgICAgICBpZiAoTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tIElOSVQgVVRJTFMnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL9Cf0YDQvtCy0LXRgNC60LAg0YLQuNC/0LAg0LHRgNCw0YPQt9C10YDQsFxyXG4gICAgZnVuY3Rpb24gX2RldGVjdEJyb3dzZXJUeXBlKCkge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKTtcclxuICAgICAgICAgICAgbGV0IGlzT3BlcmEgPVxyXG4gICAgICAgICAgICAgICAgISF3aW5kb3cub3BlcmEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCcgT1BSLycpID49IDA7XHJcbiAgICAgICAgICAgIGxldCBpc0Nocm9tZSA9ICEhd2luZG93LmNocm9tZSAmJiAhaXNPcGVyYTtcclxuICAgICAgICAgICAgbGV0IGlzRXhwbG9yZXIgPVxyXG4gICAgICAgICAgICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICAgICAgISFkb2N1bWVudC5kb2N1bWVudE1vZGUgJiZcclxuICAgICAgICAgICAgICAgICFpc0VkZ2U7XHJcbiAgICAgICAgICAgIGxldCBpc0ZpcmVmb3ggPSB0eXBlb2Ygd2luZG93Lkluc3RhbGxUcmlnZ2VyICE9PSAndW5kZWZpbmVkJztcclxuICAgICAgICAgICAgbGV0IGlzU2FmYXJpID0gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbGV0IHVzZXJBZ2VudCA9XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKC93aW5kb3dzIHBob25lL2kudGVzdCh1c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBodG1sLmNsYXNzTGlzdC5hZGQoJ2lzLXdpbmRvd3MnKTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgaWYgKC9hbmRyb2lkL2kudGVzdCh1c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoJ2lzLWFuZHJvaWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KHVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbSkge1xyXG4gICAgICAgICAgICAgICAgaHRtbC5jbGFzc0xpc3QuYWRkKCdpcy1pb3MnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGlzQ2hyb21lKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoJ2lzLWNocm9tZScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzU2FmYXJpKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoJ2lzLXNhZmFyaScpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRmlyZWZveCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbC5jbGFzc0xpc3QuYWRkKCdpcy1maXJlZm94Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL9Cf0YDQvtCy0LXRgNC60LAg0YHQutC+0YDQvtGB0YLQuCDRgdC+0LXQtNC40L3QtdC90LjRj1xyXG4gICAgZnVuY3Rpb24gX3Rlc3RTbG93Q29ubmVjdGlvbigpIHtcclxuICAgICAgICBsZXQgY29ubmVjdGlvbiA9XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5jb25uZWN0aW9uIHx8XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5tb3pDb25uZWN0aW9uIHx8XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uO1xyXG5cclxuICAgICAgICBsZXQgc2xvd1NwZWVkO1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHR5cGVvZiBjb25uZWN0aW9uICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICBjb25uZWN0aW9uLmVmZmVjdGl2ZVR5cGUgPT09ICczZydcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgc2xvd1NwZWVkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzbG93U3BlZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsb2FkVGltZSA9XHJcbiAgICAgICAgICAgICAgICAod2luZG93LnBlcmZvcm1hbmNlLnRpbWluZy5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQgLVxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSAvXHJcbiAgICAgICAgICAgICAgICAxMDAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxvYWRUaW1lID4gNCkge1xyXG4gICAgICAgICAgICAgICAgc2xvd1NwZWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2xvd1NwZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIF9pbml0TGF6eUxvYWRJbWFnZSgpIHtcclxuICAgIC8vICAgICBuZXcgTGF6eUxvYWQoe1xyXG4gICAgLy8gICAgICAgICBlbGVtZW50c19zZWxlY3RvcjogJy5sYXp5bG9hZCcsXHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3NsaWRlVXAoKSB7XHJcbiAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAuY2xvc2VzdCgnW2RhdGEtY29udGFpbmVyXScpXHJcbiAgICAgICAgICAgIC5zbGlkZVVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3NsaWRlVG9nZ2xlKCkge1xyXG4gICAgICAgIGxldCBPUEVOX0NMQVNTID0gJ2lzLW9wZW4nO1xyXG4gICAgICAgIGxldCAkY29udGFpbmVyID0gJCh0aGlzKS5jbG9zZXN0KCdbZGF0YS1jb250YWluZXJdJyk7XHJcbiAgICAgICAgbGV0ICRjb250ZW50ID0gJGNvbnRhaW5lci5maW5kKCdbZGF0YS1jb250ZW50XScpO1xyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICQodGhpcykuaGFzQ2xhc3MoJ25vLXNsaWRlJykgfHxcclxuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcubm8tc2xpZGUnKS5sZW5ndGhcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISRjb250YWluZXIuaGFzQ2xhc3MoT1BFTl9DTEFTUykpIHtcclxuICAgICAgICAgICAgJGNvbnRlbnQuc2xpZGVEb3duKCk7XHJcbiAgICAgICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoT1BFTl9DTEFTUyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGNvbnRlbnQuc2xpZGVVcCgpO1xyXG4gICAgICAgICAgICAkY29udGFpbmVyLnJlbW92ZUNsYXNzKE9QRU5fQ0xBU1MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfY29weUJveCgpIHtcclxuICAgICAgICAkKHRoaXMpXHJcbiAgICAgICAgICAgIC5jbG9zZXN0KCdbZGF0YS1jb3B5LWJveF0nKVxyXG4gICAgICAgICAgICAuY2xvbmUoKVxyXG4gICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/Qo9Cx0LjRgNCw0LXQvCDQutC70LDRgdGBIC5oYXMtaG92ZXIg0L/QvtGB0LvQtSDRgtC+0LPQviDQutCw0Log0YPQsdC10YDQtdC8INC80YvRiNGMXHJcbiAgICBmdW5jdGlvbiBfcmVtb3ZlSG92ZXJFZmZlY3QoKSB7XHJcbiAgICAgICAgY29uc3QgJGJsb2NrV2l0aEhvdmVyID0gJCgnLmhhcy1ob3ZlcicpO1xyXG5cclxuICAgICAgICAkYmxvY2tXaXRoSG92ZXIub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2hhcy1ob3ZlcicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9hbmltYXRlV2lkdGgoKSB7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gJCh0aGlzKS5kYXRhKCd3aWR0aCcpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hbmltYXRlKHsgd2lkdGg6IHdpZHRoIH0sIDYwMCk7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvL9Ck0YPQvdC60YbQuNGPINGB0LrRgNGL0LLQsNGO0YnQsNGPINC40LvQuCDQv9C+0LrQsNC30YvQstCw0Y7RidCw0Y8g0L7QtNC40L0g0LHQu9C+0Log0L/QvtC60LAg0LLRgtC+0YDQvtC5INCy0L3QtSDQt9C+0L3RiyDQstC40LTQuNC80L7RgdGC0LhcclxuICAgIGZ1bmN0aW9uIF9jbG9uZUJsb2NrU2hvdygpIHtcclxuICAgICAgICBsZXQgJGZpeEJsb2NrID0gJCgnLmpzLWZpeGVkLWJsb2NrJyk7XHJcbiAgICAgICAgbGV0ICRyZWxCbG9jayA9ICQoJy5qcy1yZWxhdGl2ZS1ibG9jaycpO1xyXG5cclxuICAgICAgICBpZiAoJGZpeEJsb2NrLmxlbmd0aCAmJiAkcmVsQmxvY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxldCBmaXhCbG9ja0hlaWdodCA9ICRmaXhCbG9jay5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgICAgICAgbGV0IHJlbEJsb2NrSGVpZ2h0ID0gJHJlbEJsb2NrLm91dGVySGVpZ2h0KHRydWUpO1xyXG4gICAgICAgICAgICBsZXQgcmVsQmxvY2tPZmZzZXRUb3AgPSAkcmVsQmxvY2sub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICBsZXQgd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsICsgd0hlaWdodCAtIGZpeEJsb2NrSGVpZ2h0IDw9IHJlbEJsb2NrT2Zmc2V0VG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGZpeEJsb2NrLnJlbW92ZUNsYXNzKCdpcy1oaWRlJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRmaXhCbG9jay5hZGRDbGFzcygnaXMtaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3NldEZpeGVkQmxvY2soZWxlbWVudCkge1xyXG4gICAgICAgIGxldCBoZWlnaHQgPSBlbGVtZW50Lm91dGVySGVpZ2h0KHRydWUpO1xyXG4gICAgICAgIGxldCBlbGVtZW50T2Zmc2V0VG9wID0gZWxlbWVudC5vZmZzZXQoKS50b3A7XHJcblxyXG4gICAgICAgIGxldCAkY2xvbmUgPSAkKCc8ZGl2IGNsYXNzPVwiY2xvbmVcIj4nKTtcclxuXHJcbiAgICAgICAgJGNsb25lXHJcbiAgICAgICAgICAgIC5pbnNlcnRBZnRlcihlbGVtZW50KVxyXG4gICAgICAgICAgICAuY3NzKCdoZWlnaHQnLCBoZWlnaHQpXHJcbiAgICAgICAgICAgIC5oaWRlKCk7XHJcblxyXG4gICAgICAgIC8vZm9yIGZpeGVkIHRvcCBibG9jayB3aXRoIHdpZHRoIDUwcHhcclxuICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gNzY4KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRPZmZzZXRUb3AgPSBlbGVtZW50Lm9mZnNldCgpLnRvcCAtIDUwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHNjcm9sbCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2Nyb2xsID49IGVsZW1lbnRPZmZzZXRUb3ApIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2lzLWZpeGVkJyk7XHJcbiAgICAgICAgICAgICAgICAkY2xvbmUuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNjcm9sbCA8IGVsZW1lbnRPZmZzZXRUb3ApIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2lzLWZpeGVkJyk7XHJcbiAgICAgICAgICAgICAgICAkY2xvbmUuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3RvZ2dsZVN1Y2Nlc3MoYmxvY2ssIHN1Y2Nlc3NDbGFzcywgZGVsYXkgPSAxNTAwKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIGJsb2NrIC0gLnN0cmluZyB3aXRoIGRvdFxyXG4gICAgICAgICAqIEBwYXJhbSAgc3VjY2Vzc0NsYXNzIC0gc3RyaW5nIHdpdGhvdXQgZG90XHJcbiAgICAgICAgICogWW91IG5lZWQgdXNlIGNhbGwgd2hlbiB1IHdhbnQgdXNlIHRoaXMgZnVuY3Rpb24gZm9yIHNhdmUgY29udGV4dFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGxldCAkYmxvY2sgPSAkKHRoaXMpLmNsb3Nlc3QoYmxvY2spO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCEkYmxvY2suaGFzQ2xhc3Moc3VjY2Vzc0NsYXNzKSkge1xyXG4gICAgICAgICAgICAgICAgJGJsb2NrLmFkZENsYXNzKHN1Y2Nlc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkYmxvY2sucmVtb3ZlQ2xhc3Moc3VjY2Vzc0NsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGRlbGF5KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfdG9nZ2xlQ2xhc3NBdEJsb2NrKGJsb2NrLCBjbCkge1xyXG4gICAgICAgICQoYmxvY2sgKyAnLS1vcGVuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQoYmxvY2spLmFkZENsYXNzKGNsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChibG9jayArICctLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQoYmxvY2spLnJlbW92ZUNsYXNzKGNsKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfdG9nZ2xlQ2xhc3NBdEJsb2NrQ2xpY2tPdXRzaWRlKGJsb2NrLCBjbCkge1xyXG4gICAgICAgICQoYmxvY2spLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKGNsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5jbG9zZXN0KGJsb2NrKS5sZW5ndGgpIHJldHVybjtcclxuICAgICAgICAgICAgJChibG9jaykucmVtb3ZlQ2xhc3MoY2wpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vVG9nZ2xlIHNob3cvdmlzaWJsZSBibG9jayB0ZXh0IG9uIGNsaWNrIGJ1dHRvblxyXG4gICAgZnVuY3Rpb24gX3RvZ2dsZVZpc2libGVUZXh0KGhlaWdodCA9IDE0NSkge1xyXG4gICAgICAgIGxldCAkdGV4dENvbnRhaW5lciA9ICQoZG9jdW1lbnQpLmZpbmQoJ1tkYXRhLXRleHQtY29udGFpbmVyXScpO1xyXG4gICAgICAgIGxldCAkYnRuID0gJChkb2N1bWVudCkuZmluZCgnW2RhdGEtdGV4dC1jb250YWluZXItYnRuXScpO1xyXG4gICAgICAgIGxldCBPUEVOX0NMQVNTID0gJ2lzLW9wZW4nO1xyXG4gICAgICAgICRidG4udW5iaW5kKCdjbGljaycpO1xyXG4gICAgICAgICR0ZXh0Q29udGFpbmVyLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBoZWlnaHQgfHwgJCh0aGlzKS5kYXRhKCd0ZXh0LWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKE9QRU5fQ0xBU1MpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcyh7IGhlaWdodDogaGVpZ2h0IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRidG4ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBsZXQgJHRleHRDb250YWluZXIgPSAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgICAgIC5maW5kKCdbZGF0YS10ZXh0LWNvbnRhaW5lcl0nKTtcclxuICAgICAgICAgICAgbGV0IGhlaWdodCA9IGhlaWdodCB8fCAkdGV4dENvbnRhaW5lci5kYXRhKCd0ZXh0LWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEkdGV4dENvbnRhaW5lci5oYXNDbGFzcyhPUEVOX0NMQVNTKSkge1xyXG4gICAgICAgICAgICAgICAgJHRleHRDb250YWluZXIuYW5pbWF0ZSh7IGhlaWdodDogJzEwMCUnIH0sIDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBmdWxsSGVpZ2h0ID0gJHRleHRDb250YWluZXIuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHRleHRDb250YWluZXIuYW5pbWF0ZSh7IGhlaWdodDogaGVpZ2h0IH0sIDEpO1xyXG4gICAgICAgICAgICAgICAgJHRleHRDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAuYW5pbWF0ZSh7IGhlaWdodDogZnVsbEhlaWdodCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhPUEVOX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgn0KHQutGA0YvRgtGMJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkdGV4dENvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgIC5hbmltYXRlKHsgaGVpZ2h0OiBoZWlnaHQgfSlcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoT1BFTl9DTEFTUyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoJ9Cf0L7QtNGA0L7QsdC90LXQtScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3NldEVxdWFsVGFibGVDZWxsSGVpZ2h0KCkge1xyXG4gICAgICAgIGxldCAkdGFibGUgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtZ3JhcGgtdGFibGUnKTtcclxuICAgICAgICBpZiAoJHRhYmxlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcclxuICAgICAgICAgICAgfSwgMTUwMCk7XHJcblxyXG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9zZXRIZWlnaHQoKSB7XHJcbiAgICAgICAgICAgICAgICAkdGFibGUuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgJHRhYmxlV29ya2VyID0gJCh0aGlzKS5maW5kKCcuZ3JhcGgtdGFibGVfX3N0YXRpYycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCAkdGFibGVXb3JrZXJUciA9ICR0YWJsZVdvcmtlci5maW5kKCd0cicpLm5vdCgnOmZpcnN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0ICR0YWJsZUhvdXJzID0gJCh0aGlzKS5maW5kKCcuZ3JhcGgtdGFibGVfX21vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgJHRhYmxlSG91cnNUciA9ICR0YWJsZUhvdXJzLmZpbmQoJ3RyJykubm90KCc6Zmlyc3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHRhYmxlSG91cnNUci5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRIb3Vyc0l0ZW0gPSAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLWdyYXBoLXRhYmxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuZ3JhcGgtdGFibGVfX3N0YXRpYycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgndHInKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5vdCgnOmZpcnN0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lcShpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYXhIZWlnaHQoJCh0aGlzKSwgY3VycmVudEhvdXJzSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICR0YWJsZVdvcmtlclRyLmVhY2goZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudFdvcmtlckl0ZW0gPSAkKHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xvc2VzdCgnLmpzLWdyYXBoLXRhYmxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuZ3JhcGgtdGFibGVfX21vdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJ3RyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5ub3QoJzpmaXJzdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXEoaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbWF4SGVpZ2h0KCQodGhpcyksIGN1cnJlbnRXb3JrZXJJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX21heEhlaWdodChfdGhpcywgZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4SGVpZ2h0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRIZWlnaHQgPSBfdGhpcy5vdXRlckhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRIZWlnaHQgPiBtYXhIZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBjdXJyZW50SGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRIZWlnaHQgPiBlbGVtLm91dGVySGVpZ2h0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmNzcygnaGVpZ2h0JywgbWF4SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgX0FycmF5QWN0aXZlQmxvY2sgPSBbXTtcclxuICAgIC8vINGE0YPQvdC60YbQuNGPINCx0LvQvtC60LjRgNC+0LLQutC4L9GA0LDQt9Cx0LvQvtC60LjRgNC+0LLQutC4INC00L7QutGD0LzQtdC90YLQsCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0L7RgtC60YDRi9GC0YvRhSDQstGB0LzQu9GL0LLQsNGO0YnQuNGFINC+0LrQvtC9XHJcbiAgICBmdW5jdGlvbiBfZG9jdW1lbnRCbG9ja0NvbnRyb2woc3RhdHVzLCBkYXRhVGFyZ2V0LCBkYXRhQnRuLCBjb3VudGVyID0gMSkge1xyXG4gICAgICAgIGxldCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXInKTtcclxuICAgICAgICBsZXQgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgbGV0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IHRhcmdldEJsb2NrLCBkYXRhT2xkQmxvY2ssIG9sZEJsb2NrO1xyXG4gICAgICAgIGlmICghZGF0YUJ0bikge1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzdGF0dXMgLSDQv9Cw0YDQsNC80LXRgtGAINGB0L7QtNC10YDQttCw0YnQuNC5IGJvb2xlYW4g0LfQvdCw0YfQtdC90LjQtSB0cnVlL2ZhbHNlXHJcbiAgICAgICAgLy8g0L3Rg9C20LXQvSDQtNC70Y8g0L7Qv9GA0LXQtNC10LvQtdC90LjRjyDQvtGC0LrRgNGL0LLQsNC10YLRgdGPINC70Lgg0L3QvtCy0YvQuSDQsdC70L7QuiDQuNC70Lgg0LfQsNC60YDRi9Cy0LDQtdGC0YHRjyDRgdGC0LDRgNGL0LlcclxuICAgICAgICAvLyB0cnVlIC0g0L7RgtC60YDRi9GCINC90L7QstGL0Lkg0LHQu9C+0LpcclxuICAgICAgICAvLyBmYWxzZSAtINC30LDQutGA0YvRgiDRgdGC0LDRgNGL0LlcclxuXHJcbiAgICAgICAgLy8g0KPQvdC40LrQsNC70YzQvdGL0LkgaWQgIC0g0J/QsNGA0LDQvNC10YLRgCDRgdC+0LTQtdGA0LbQsNGJ0LjQuSDQsiDRgdC10LHQtVxyXG4gICAgICAgIC8vINCw0YLRgNC40LHRg9GCINGB0L4g0LfQvdCw0YfQtdC90LjQtdC8INC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC+0LrQvdCwXHJcbiAgICAgICAgLy8g0L3Rg9C20LXQvSDQtNC70Y8g0LLQvtC30LLRgNCw0YLQsCDRhNC+0LrRg9GB0LAg0L7QsdGA0LDRgtC90L4g0L3QsCDRjdC70LXQvNC10L3RgiDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQs9C+INC+0LrQvdCwXHJcblxyXG4gICAgICAgIC8vINCY0LfQvNC10L3QtdC90LjRjyDRgdGH0LXRgtGH0LjRgtC60LAg0L7RgtC60YDRi9GC0YvRhSDQvNC+0LTQsNC70L7QulxyXG4gICAgICAgIGlmIChzdGF0dXMgPT09ICdvcGVuJykge1xyXG4gICAgICAgICAgICBpZiAoQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9jay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPbGRCbG9jayA9XHJcbiAgICAgICAgICAgICAgICAgICAgQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9ja1tcclxuICAgICAgICAgICAgICAgICAgICAgICAgQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9jay5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgXS5ibG9jaztcclxuICAgICAgICAgICAgICAgIG9sZEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtkYXRhT2xkQmxvY2t9YCk7XHJcbiAgICAgICAgICAgICAgICBvbGRCbG9jay5zZXRBdHRyaWJ1dGUoJ2luZXJ0JywgJycpO1xyXG4gICAgICAgICAgICAgICAgb2xkQmxvY2suc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xyXG4gICAgICAgICAgICAgICAgLy8gb2xkQmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhcmdldEJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtkYXRhVGFyZ2V0fWApO1xyXG4gICAgICAgICAgICBpZiAoZGF0YUJ0bikge1xyXG4gICAgICAgICAgICAgICAgZGF0YUJ0bi5zZXRBdHRyaWJ1dGUoJ2luZXJ0JywgJycpO1xyXG4gICAgICAgICAgICAgICAgZGF0YUJ0bi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFyZ2V0QmxvY2sucmVtb3ZlQXR0cmlidXRlKCdpbmVydCcpO1xyXG4gICAgICAgICAgICB0YXJnZXRCbG9jay5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcbiAgICAgICAgICAgIHRhcmdldEJsb2NrLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcclxuICAgICAgICAgICAgQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9jay5wdXNoKHsgYmxvY2s6IGRhdGFUYXJnZXQsIGJ0bjogZGF0YUJ0biB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnY2xvc2UnKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50ZXI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBBcnJheUxlbmd0aCA9IEJCLlV0aWxzLkFycmF5QWN0aXZlQmxvY2subGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYXJnZXQgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBCQi5VdGlscy5BcnJheUFjdGl2ZUJsb2NrW0FycmF5TGVuZ3RoIC0gMV0uYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUJ0biA9IEJCLlV0aWxzLkFycmF5QWN0aXZlQmxvY2tbQXJyYXlMZW5ndGggLSAxXS5idG47XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke2RhdGFUYXJnZXR9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QmxvY2suc2V0QXR0cmlidXRlKCdpbmVydCcsICcnKTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRCbG9jay5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhQnRuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFCdG4ucmVtb3ZlQXR0cmlidXRlKCdpbmVydCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhQnRuLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5TGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhT2xkQmxvY2sgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9ja1tBcnJheUxlbmd0aCAtIDJdLmJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7ZGF0YU9sZEJsb2NrfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRCbG9jay5yZW1vdmVBdHRyaWJ1dGUoJ2luZXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZEJsb2NrLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkQmxvY2suY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBCQi5VdGlscy5BcnJheUFjdGl2ZUJsb2NrLmxlbmd0aCA9IEFycmF5TGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCEhQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9jay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2luZXJ0JywgJycpO1xyXG4gICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcclxuICAgICAgICAgICAgYm9keS5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgICAgICAnc3R5bGUnLFxyXG4gICAgICAgICAgICAgICAgJ292ZXJmbG93LXk6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOydcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaHRtbC5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgICAgICAnc3R5bGUnLFxyXG4gICAgICAgICAgICAgICAgJ292ZXJmbG93LXk6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOydcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUF0dHJpYnV0ZSgnaW5lcnQnKTtcclxuICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgICAgICAgICBodG1sLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm92ZXJsYXknKS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKE5PREVfRU5WID09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coQkIuVXRpbHMuQXJyYXlBY3RpdmVCbG9jayk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcclxuICAgICAgICAgICAgICAgIGDQodC10LnRh9Cw0YEg0L7RgtC60YDRi9GC0L4gJHtCQi5VdGlscy5BcnJheUFjdGl2ZUJsb2NrLmxlbmd0aH0g0L7QutC+0L1gXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vINGE0YPQvdC60YbQuNGPINC30LDQvNC10L3RiyBzcmMg0LrQsNGA0YLQuNC90LrQuCDQtdGB0LvQuCDQvtC90LAg0L3QtSDQt9Cw0LPRgNGD0LfQuNC70LDRgdGMXHJcbiAgICAvLyBmdW5jdGlvbiBfdGVzdEltZ0xvYWQoKSB7XHJcbiAgICAvLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nJykuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIC8vICAgICAgICAgaXRlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHN3YXBJbWcpO1xyXG4gICAgLy8gICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc3dhcEltZyk7XHJcbiAgICAvLyAgICAgICAgIGZ1bmN0aW9uIHN3YXBJbWcoZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXRlc3QnLCAnJyk7XHJcbiAgICAvLyAgICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3NyYycsICcvY2xpZW50L2ZpbGVzL2Fzc2V0cy9lbXB0eS5wbmcnKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIF9ib290c3RyYXBNb2RhbENvbnRyb2woKSB7XHJcbiAgICAvLyAgICAgJChkb2N1bWVudCkub24oJ3Nob3cuYnMubW9kYWwnLCAnLm1vZGFsJywgZnVuY3Rpb24oZSkge1xyXG4gICAgLy8gICAgICAgICBfZG9jdW1lbnRCbG9ja0NvbnRyb2woJ29wZW4nLCBgIyR7ZS50YXJnZXQuaWR9YCwgbnVsbClcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgICQoZG9jdW1lbnQpLm9uKCdoaWRlLmJzLm1vZGFsJywgJy5tb2RhbCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgIC8vICAgICAgICAgX2RvY3VtZW50QmxvY2tDb250cm9sKCdjbG9zZScpXHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXQ6IF9pbml0LFxyXG4gICAgICAgIC8vIGluaXRMYXp5TG9hZEltYWdlOiBfaW5pdExhenlMb2FkSW1hZ2UsXHJcbiAgICAgICAgc2xpZGVVcDogX3NsaWRlVXAsXHJcbiAgICAgICAgc2xpZGVUb2dnbGU6IF9zbGlkZVRvZ2dsZSxcclxuICAgICAgICBjb3B5Qm94OiBfY29weUJveCxcclxuICAgICAgICBjbG9uZUJsb2NrU2hvdzogX2Nsb25lQmxvY2tTaG93LFxyXG4gICAgICAgIHJlbW92ZUhvdmVyRWZmZWN0OiBfcmVtb3ZlSG92ZXJFZmZlY3QsXHJcbiAgICAgICAgYW5pbWF0ZVdpZHRoOiBfYW5pbWF0ZVdpZHRoLFxyXG4gICAgICAgIHRvZ2dsZUNsYXNzQXRCbG9jazogX3RvZ2dsZUNsYXNzQXRCbG9jayxcclxuICAgICAgICB0b2dnbGVTdWNjZXNzOiBfdG9nZ2xlU3VjY2VzcyxcclxuICAgICAgICB0b2dnbGVDbGFzc0F0QmxvY2tDbGlja091dHNpZGU6IF90b2dnbGVDbGFzc0F0QmxvY2tDbGlja091dHNpZGUsXHJcbiAgICAgICAgdGVzdFNsb3dDb25uZWN0aW9uOiBfdGVzdFNsb3dDb25uZWN0aW9uLFxyXG4gICAgICAgIHRvZ2dsZVZpc2libGVUZXh0OiBfdG9nZ2xlVmlzaWJsZVRleHQsXHJcbiAgICAgICAgc2V0RXF1YWxUYWJsZUNlbGxIZWlnaHQ6IF9zZXRFcXVhbFRhYmxlQ2VsbEhlaWdodCxcclxuICAgICAgICBkb2N1bWVudEJsb2NrQ29udHJvbDogX2RvY3VtZW50QmxvY2tDb250cm9sLFxyXG4gICAgICAgIEFycmF5QWN0aXZlQmxvY2s6IF9BcnJheUFjdGl2ZUJsb2NrLFxyXG4gICAgICAgIC8vIHRlc3RJbWdMb2FkOiBfdGVzdEltZ0xvYWQsXHJcbiAgICAgICAgLy8gYm9vdHN0cmFwTW9kYWxDb250cm9sOiBfYm9vdHN0cmFwTW9kYWxDb250cm9sLFxyXG4gICAgfTtcclxufSkoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxCQTtBQW9CQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///rlXYgjnQ\n");

/***/ }),

/***/ "ybvwehb/":
/*!*********************************!*\
  !*** ./components/Accordeon.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* html example Accordeon\r\n<div class=\"bb-accordeon js-bb-accordeon\">\r\n\t<div class=\"bb-accordeon__item\">\r\n\t\t<div class=\"bb-accordeon__title\"></div>\r\n\t\t<div class=\"bb-accordeon__content\"></div>\r\n    </div>\r\n</div>\r\n*/\n\nvar Accordeon = function () {\n    function Accordeon(args) {\n        _classCallCheck(this, Accordeon);\n\n        this.selector = args.selector;\n        this.title = $(this.selector).find('[data-accordeon-title]');\n        this.content = $(this.selector).find('[data-accordeon-content]');\n        this.item = $(this.selector).find('.bb-accordeon__item');\n        this.run = true;\n    }\n\n    _createClass(Accordeon, [{\n        key: 'init',\n        value: function init() {\n            if (typeof this.selector !== 'undefined') {\n                this.item.each(function () {\n                    var $content = $(this).find('.bb-accordeon__content');\n\n                    if ($(this).hasClass('is-open')) {\n                        $content.slideDown();\n                    } else {\n                        $content.slideUp();\n                    }\n                });\n\n                this._toggleDataAccordeon();\n                this._removeEventListener();\n                this._addIventListener();\n            }\n        }\n\n        //Render arrow icon in accordeon title\n\n    }, {\n        key: '_renderIcon',\n        value: function _renderIcon(insertInto) {\n            var icon = '<svg class=\"icon icon-angle--bold \" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 238.003 238.003\"><path d=\"M181.776 107.719L78.705 4.648c-6.198-6.198-16.273-6.198-22.47 0s-6.198 16.273 0 22.47l91.883 91.883-91.883 91.883c-6.198 6.198-6.198 16.273 0 22.47s16.273 6.198 22.47 0l103.071-103.039a15.741 15.741 0 0 0 4.64-11.283c0-4.13-1.526-8.199-4.64-11.313z\"></path></svg>';\n\n            $(icon).appendTo(insertInto);\n        }\n\n        //Инициализация аккордеона по дата атрибутам на разрешении < 480\n\n    }, {\n        key: '_initDataAccordeon',\n        value: function _initDataAccordeon() {\n            var mainScope = this;\n            var $item = $(document).find('[data-accordeon-item]');\n\n            $('[data-accordeon]').addClass('bb-accordeon js-bb-accordeon');\n\n            $('[data-accordeon]').each(function () {\n                var customClass = $(this).data('accordeon-class');\n                $(this).addClass(customClass);\n            });\n\n            $('[data-accordeon-title]').addClass('bb-accordeon__title');\n\n            $('[data-accordeon-title]').each(function () {\n                mainScope._renderIcon($(this));\n            });\n\n            $('[data-accordeon-content]').addClass('bb-accordeon__content').hide();\n\n            $item.addClass('bb-accordeon__item');\n\n            $item.each(function () {\n                if ($(this).attr('data-accordeon-item') === 'open') {\n                    $(this).addClass('is-open').find('[data-accordeon-content]').show();\n                }\n            });\n        }\n    }, {\n        key: '_addIventListener',\n        value: function _addIventListener() {\n            var _this = this;\n\n            $(document).on('click', '.js-bb-accordeon .bb-accordeon__title', function (e) {\n                _this._toggle(e);\n            });\n\n            $(window).on('resize', function () {\n                _this._toggleDataAccordeon();\n            });\n        }\n    }, {\n        key: '_removeEventListener',\n        value: function _removeEventListener() {\n            var _this2 = this;\n\n            $(document).off('click', '.js-bb-accordeon .bb-accordeon__title', function (e) {\n                _this2._toggle(e);\n            });\n\n            $(window).off('resize', function () {\n                _this2._toggleDataAccordeon();\n            });\n        }\n    }, {\n        key: '_toggle',\n        value: function _toggle(e) {\n            var _this3 = this;\n\n            var $target = $(e.target);\n            var $parent = $target.closest('.js-bb-accordeon');\n            var $item = $target.parent('.bb-accordeon__item');\n            var OPEN_CLASS = 'is-open';\n\n            if (!$(this).parent().hasClass('jsCrmAddServicesToCategoryForCard')) {\n                if (this.run) {\n                    this.run = false;\n\n                    if ($parent.data('accordeon') === 'collapse') {\n                        if ($item.hasClass(OPEN_CLASS)) {\n                            $item.removeClass(OPEN_CLASS).find('.bb-accordeon__content').slideUp();\n                        } else {\n                            $parent.find('.bb-accordeon__item').removeClass(OPEN_CLASS).find('.bb-accordeon__content').slideUp();\n                            $item.addClass(OPEN_CLASS).find('.bb-accordeon__content').slideDown();\n                        }\n                    } else {\n                        if ($item.hasClass(OPEN_CLASS)) {\n                            $item.removeClass(OPEN_CLASS).find('.bb-accordeon__content').slideUp();\n                        } else {\n                            $item.addClass(OPEN_CLASS).find('.bb-accordeon__content').slideDown();\n                        }\n                    }\n\n                    setTimeout(function () {\n                        _this3.run = true;\n                    }, 500);\n                }\n            }\n\n            e.stopPropagation();\n            e.preventDefault();\n        }\n\n        //Init or destroy Accordeon on data attributes\n\n    }, {\n        key: '_toggleDataAccordeon',\n        value: function _toggleDataAccordeon() {\n            if ($(window).width() <= 480) {\n                this._initDataAccordeon();\n            } else {\n                this._destroyDataAccordeon();\n            }\n        }\n\n        //Destroy data-accordeon\n\n    }, {\n        key: '_destroyDataAccordeon',\n        value: function _destroyDataAccordeon() {\n            var $accord = $(document).find('[data-accordeon]');\n\n            $accord.each(function () {\n                var $this = $(this);\n\n                $this.removeClass('bb-accordeon bb-accordeon--custom');\n                $this.find('[data-accordeon-item]').removeClass('is-open').removeClass('bb-accordeon__item');\n                $this.find('[data-accordeon-title]').removeClass('bb-accordeon__title').find('.icon').remove();\n                $this.find('[data-accordeon-content]').removeClass('bb-accordeon__content').removeAttr('style');\n            });\n        }\n    }]);\n\n    return Accordeon;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Accordeon);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieWJ2d2VoYi8uanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvQWNjb3JkZW9uLmpzPzU4ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogaHRtbCBleGFtcGxlIEFjY29yZGVvblxyXG48ZGl2IGNsYXNzPVwiYmItYWNjb3JkZW9uIGpzLWJiLWFjY29yZGVvblwiPlxyXG5cdDxkaXYgY2xhc3M9XCJiYi1hY2NvcmRlb25fX2l0ZW1cIj5cclxuXHRcdDxkaXYgY2xhc3M9XCJiYi1hY2NvcmRlb25fX3RpdGxlXCI+PC9kaXY+XHJcblx0XHQ8ZGl2IGNsYXNzPVwiYmItYWNjb3JkZW9uX19jb250ZW50XCI+PC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+XHJcbiovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvcmRlb24ge1xyXG4gICAgY29uc3RydWN0b3IoYXJncykge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBhcmdzLnNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoJ1tkYXRhLWFjY29yZGVvbi10aXRsZV0nKTtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSAkKHRoaXMuc2VsZWN0b3IpLmZpbmQoJ1tkYXRhLWFjY29yZGVvbi1jb250ZW50XScpO1xyXG4gICAgICAgIHRoaXMuaXRlbSA9ICQodGhpcy5zZWxlY3RvcikuZmluZCgnLmJiLWFjY29yZGVvbl9faXRlbScpO1xyXG4gICAgICAgIHRoaXMucnVuID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZWxlY3RvciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5pdGVtLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgJGNvbnRlbnQgPSAkKHRoaXMpLmZpbmQoJy5iYi1hY2NvcmRlb25fX2NvbnRlbnQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnaXMtb3BlbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQuc2xpZGVEb3duKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250ZW50LnNsaWRlVXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVEYXRhQWNjb3JkZW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkSXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1JlbmRlciBhcnJvdyBpY29uIGluIGFjY29yZGVvbiB0aXRsZVxyXG4gICAgX3JlbmRlckljb24oaW5zZXJ0SW50bykge1xyXG4gICAgICAgIGxldCBpY29uID1cclxuICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uIGljb24tYW5nbGUtLWJvbGQgXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjM4LjAwMyAyMzguMDAzXCI+PHBhdGggZD1cIk0xODEuNzc2IDEwNy43MTlMNzguNzA1IDQuNjQ4Yy02LjE5OC02LjE5OC0xNi4yNzMtNi4xOTgtMjIuNDcgMHMtNi4xOTggMTYuMjczIDAgMjIuNDdsOTEuODgzIDkxLjg4My05MS44ODMgOTEuODgzYy02LjE5OCA2LjE5OC02LjE5OCAxNi4yNzMgMCAyMi40N3MxNi4yNzMgNi4xOTggMjIuNDcgMGwxMDMuMDcxLTEwMy4wMzlhMTUuNzQxIDE1Ljc0MSAwIDAgMCA0LjY0LTExLjI4M2MwLTQuMTMtMS41MjYtOC4xOTktNC42NC0xMS4zMTN6XCI+PC9wYXRoPjwvc3ZnPic7XHJcblxyXG4gICAgICAgICQoaWNvbikuYXBwZW5kVG8oaW5zZXJ0SW50byk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/QmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQsNC60LrQvtGA0LTQtdC+0L3QsCDQv9C+INC00LDRgtCwINCw0YLRgNC40LHRg9GC0LDQvCDQvdCwINGA0LDQt9GA0LXRiNC10L3QuNC4IDwgNDgwXHJcbiAgICBfaW5pdERhdGFBY2NvcmRlb24oKSB7XHJcbiAgICAgICAgbGV0IG1haW5TY29wZSA9IHRoaXM7XHJcbiAgICAgICAgbGV0ICRpdGVtID0gJChkb2N1bWVudCkuZmluZCgnW2RhdGEtYWNjb3JkZW9uLWl0ZW1dJyk7XHJcblxyXG4gICAgICAgICQoJ1tkYXRhLWFjY29yZGVvbl0nKS5hZGRDbGFzcygnYmItYWNjb3JkZW9uIGpzLWJiLWFjY29yZGVvbicpO1xyXG5cclxuICAgICAgICAkKCdbZGF0YS1hY2NvcmRlb25dJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IGN1c3RvbUNsYXNzID0gJCh0aGlzKS5kYXRhKCdhY2NvcmRlb24tY2xhc3MnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhjdXN0b21DbGFzcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJ1tkYXRhLWFjY29yZGVvbi10aXRsZV0nKS5hZGRDbGFzcygnYmItYWNjb3JkZW9uX190aXRsZScpO1xyXG5cclxuICAgICAgICAkKCdbZGF0YS1hY2NvcmRlb24tdGl0bGVdJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbWFpblNjb3BlLl9yZW5kZXJJY29uKCQodGhpcykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCdbZGF0YS1hY2NvcmRlb24tY29udGVudF0nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2JiLWFjY29yZGVvbl9fY29udGVudCcpXHJcbiAgICAgICAgICAgIC5oaWRlKCk7XHJcblxyXG4gICAgICAgICRpdGVtLmFkZENsYXNzKCdiYi1hY2NvcmRlb25fX2l0ZW0nKTtcclxuXHJcbiAgICAgICAgJGl0ZW0uZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1hY2NvcmRlb24taXRlbScpID09PSAnb3BlbicpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2lzLW9wZW4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCdbZGF0YS1hY2NvcmRlb24tY29udGVudF0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfYWRkSXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWJiLWFjY29yZGVvbiAuYmItYWNjb3JkZW9uX190aXRsZScsIGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl90b2dnbGUoZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVEYXRhQWNjb3JkZW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3JlbW92ZUV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgJChkb2N1bWVudCkub2ZmKCdjbGljaycsICcuanMtYmItYWNjb3JkZW9uIC5iYi1hY2NvcmRlb25fX3RpdGxlJywgZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZShlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVEYXRhQWNjb3JkZW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZShlKSB7XHJcbiAgICAgICAgbGV0ICR0YXJnZXQgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBsZXQgJHBhcmVudCA9ICR0YXJnZXQuY2xvc2VzdCgnLmpzLWJiLWFjY29yZGVvbicpO1xyXG4gICAgICAgIGxldCAkaXRlbSA9ICR0YXJnZXQucGFyZW50KCcuYmItYWNjb3JkZW9uX19pdGVtJyk7XHJcbiAgICAgICAgbGV0IE9QRU5fQ0xBU1MgPSAnaXMtb3Blbic7XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgISQodGhpcylcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKVxyXG4gICAgICAgICAgICAgICAgLmhhc0NsYXNzKCdqc0NybUFkZFNlcnZpY2VzVG9DYXRlZ29yeUZvckNhcmQnKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ydW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucnVuID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCRwYXJlbnQuZGF0YSgnYWNjb3JkZW9uJykgPT09ICdjb2xsYXBzZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGl0ZW0uaGFzQ2xhc3MoT1BFTl9DTEFTUykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhPUEVOX0NMQVNTKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5iYi1hY2NvcmRlb25fX2NvbnRlbnQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWRlVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmJiLWFjY29yZGVvbl9faXRlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoT1BFTl9DTEFTUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYmItYWNjb3JkZW9uX19jb250ZW50JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoT1BFTl9DTEFTUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYmItYWNjb3JkZW9uX19jb250ZW50JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGlkZURvd24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkaXRlbS5oYXNDbGFzcyhPUEVOX0NMQVNTKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKE9QRU5fQ0xBU1MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmJiLWFjY29yZGVvbl9fY29udGVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpZGVVcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoT1BFTl9DTEFTUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYmItYWNjb3JkZW9uX19jb250ZW50JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGlkZURvd24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9Jbml0IG9yIGRlc3Ryb3kgQWNjb3JkZW9uIG9uIGRhdGEgYXR0cmlidXRlc1xyXG4gICAgX3RvZ2dsZURhdGFBY2NvcmRlb24oKSB7XHJcbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IDQ4MCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0RGF0YUFjY29yZGVvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lEYXRhQWNjb3JkZW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vRGVzdHJveSBkYXRhLWFjY29yZGVvblxyXG4gICAgX2Rlc3Ryb3lEYXRhQWNjb3JkZW9uKCkge1xyXG4gICAgICAgIGxldCAkYWNjb3JkID0gJChkb2N1bWVudCkuZmluZCgnW2RhdGEtYWNjb3JkZW9uXScpO1xyXG5cclxuICAgICAgICAkYWNjb3JkLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnYmItYWNjb3JkZW9uIGJiLWFjY29yZGVvbi0tY3VzdG9tJyk7XHJcbiAgICAgICAgICAgICR0aGlzXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnW2RhdGEtYWNjb3JkZW9uLWl0ZW1dJylcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaXMtb3BlbicpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2JiLWFjY29yZGVvbl9faXRlbScpO1xyXG4gICAgICAgICAgICAkdGhpc1xyXG4gICAgICAgICAgICAgICAgLmZpbmQoJ1tkYXRhLWFjY29yZGVvbi10aXRsZV0nKVxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdiYi1hY2NvcmRlb25fX3RpdGxlJylcclxuICAgICAgICAgICAgICAgIC5maW5kKCcuaWNvbicpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICR0aGlzXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnW2RhdGEtYWNjb3JkZW9uLWNvbnRlbnRdJylcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYmItYWNjb3JkZW9uX19jb250ZW50JylcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQUlBO0FBQ0E7Ozs7OztBQS9LQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///ybvwehb/\n");

/***/ }),

/***/ "zONryQ4G":
/*!***********************************!*\
  !*** ./core/components/Button.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"rlXYgjnQ\");\n/* harmony import */ var _js_components_PushUp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/js/components/PushUp */ \"0/PiRBgX\");\n/**\r\n * BB.Components.Button.js\r\n *\r\n * @author Anton Ustinoff <a.a.ustinoff@gmail.com>\r\n */\n\nBB.define('Core.Button');\n\n\n\n\nwindow.pushUp = _js_components_PushUp__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BB.Core.Button = function () {\n    function _init() {\n        _initPushUp();\n        _initExpanded();\n        _initHoverAnimate();\n        _initFloating();\n        _initStatusAnimate();\n        // _initToggle();\n        _initSelect();\n        _initGoTop();\n        _initGoTo();\n\n        if (true) {\n            console.log('--- INIT CORE BUTTONS');\n        }\n    }\n\n    function _initPushUp() {\n        $(document).on('click', '[data-push]', function () {\n            var _this = this;\n\n            var messageSuccess = $(this).attr('data-push-message-success');\n            var messageError = $(this).attr('data-push-message-error');\n            var delay = $(this).attr('data-push-delay') || 300;\n            var timeOut = $(this).attr('data-push-timeout') || 1500;\n            var status = void 0;\n\n            setTimeout(function () {\n                status = $(_this).attr('data-push-status') || 'success';\n            }, 100);\n\n            setTimeout(function () {\n                if (status === 'error') {\n                    Object(_js_components_PushUp__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                        text: messageError,\n                        status: status,\n                        timeOut: timeOut\n                    });\n                    $(_this).addClass('is-error');\n                } else {\n                    Object(_js_components_PushUp__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                        text: messageSuccess,\n                        status: status,\n                        timeOut: timeOut\n                    });\n                    $(_this).addClass('is-success');\n                }\n            }, delay);\n        });\n    }\n\n    //btn expanded\n    function _initExpanded() {\n        _utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toggleClassAtBlockClickOutside('.js-btn-expanded', 'is-active');\n    }\n\n    //btn animate on hover\n    function _initHoverAnimate() {\n        $(document).on('mouseenter', '.js-btn-animate', function (e) {\n            var parentOffset = $(this).offset(),\n                relX = e.pageX - parentOffset.left,\n                relY = e.pageY - parentOffset.top;\n            $(this).find('.button-animate__hover').css({\n                top: relY,\n                left: relX\n            });\n        }).on('mouseout', '.js-btn-animate', function (e) {\n            var parentOffset = $(this).offset(),\n                relX = e.pageX - parentOffset.left,\n                relY = e.pageY - parentOffset.top;\n            $(this).find('.button-animate__hover').css({\n                top: relY,\n                left: relX\n            });\n        });\n    }\n\n    //floating btn animatin\n    function _initFloating() {\n        var $btn = $(document).find('.js-btn-floating');\n        var run = true;\n\n        if (!$btn.find('.btn-floating__list').length) {\n            $btn.find('.btn-floating__link').css('pointer-events', 'auto');\n        }\n\n        //Обработчик добавляет классы затем отписыватеся от события\n        var hendler = function hendler() {\n            var _this2 = this;\n\n            $(this).removeClass('fa-enter-active').addClass('fa-leave-active');\n            $btn.off('transitionend webkitTransitionEnd oTransitionEnd', hendler);\n            setTimeout(function () {\n                $(_this2).removeClass('fa-leave-active');\n            }, 1000);\n        };\n\n        //Анимация закрытия\n        function _removeAnimation(el) {\n            el.on('transitionend webkitTransitionEnd oTransitionEnd', hendler);\n            setTimeout(function () {\n                el.removeClass('fa-leave-active');\n            }, 1000);\n        }\n\n        if ($(window).width() > 768) {\n            if (!run) {\n                return;\n            }\n\n            $(document).on('mouseenter', '.js-btn-floating', function () {\n                run = false;\n                $(this).addClass('fa-enter-active');\n            }).on('mouseleave', '.js-btn-floating', hendler);\n        } else {\n            $(document).on('click', '.js-btn-floating', function () {\n                if ($(this).find('.btn-floating__list').length) {\n                    $(this).addClass('fa-enter-active').css('z-index', 1000);\n                    $('.js-overlay').addClass('is-visible').addClass('overlay--btn-floating');\n                } else {\n                    var btnId = $(this).find('.btn-floating__link').not('.md-hide');\n                    btnId.trigger('click');\n                }\n            });\n\n            $(document).on('click', '.js-btn-floating .btn-floating__link', function (e) {\n                $btn.removeClass('fa-enter-active').removeAttr('style');\n                _removeAnimation($(this));\n                $('.js-overlay').removeClass('is-visible overlay--btn-floating');\n                e.stopPropagation();\n            });\n\n            //Клик в не кнопки скрывает оверлей и кнопки\n            $(document).on('click touchstart', '.overlay--btn-floating', function (e) {\n                $btn.removeClass('fa-enter-active').addClass('fa-leave-active');\n                setTimeout(function () {\n                    $('.js-overlay').removeClass('is-visible').removeClass('overlay--btn-floating');\n                }, 100);\n\n                setTimeout(function () {\n                    $btn.removeClass('fa-leave-active');\n                }, 1500);\n            });\n        }\n\n        //Если ссылка открывает модалку, то по открытию модалки скрывает кнопки\n        $('.modal').on('show.bs.modal', function () {\n            $btn.removeClass('fa-enter-active').addClass('fa-leave-active');\n            $('.js-overlay').removeAttr('style');\n            setTimeout(function () {\n                $btn.removeClass('fa-leave-active');\n            }, 1500);\n        });\n    }\n\n    //btn status animate\n    function _initStatusAnimate() {\n        var run = true;\n        $(document).on('click', '.btn-animate', function (e) {\n            var _this3 = this;\n\n            if (run) {\n                run = false;\n                $(this).addClass('is-animate is-ready');\n\n                setTimeout(function () {\n                    $(_this3).removeClass('is-animate is-ready');\n                    run = true;\n                }, 2500);\n                setTimeout(function () {\n                    $(_this3).addClass('is-ready');\n                }, 5000);\n            }\n\n            e.preventDefault();\n        });\n    }\n\n    // function _initToggle() {\n    //     let $btnToggle = $(document).find('.js-view-toggle');\n\n    //     $btnToggle.on('click', function(e) {\n    //         let $target = $(e.target);\n    //         let $last = $(this)\n    //             .children()\n    //             .last();\n\n    //         if ($target.is($last)) {\n    //             $(this).addClass('is-active');\n    //         } else {\n    //             $(this).removeClass('is-active');\n    //         }\n    //     });\n    // }\n\n    function _initSelect() {\n        var $btn = $(document).find('.js-btn-select');\n        var ACTIVE_CLASS = 'is-active';\n        $btn.on('click', function (e) {\n            if ($(this).find('.btn-select__list').length) {\n                if ($(this).hasClass(ACTIVE_CLASS)) {\n                    $(this).removeClass(ACTIVE_CLASS);\n                } else {\n                    $(this).addClass(ACTIVE_CLASS);\n                }\n            }\n        });\n    }\n\n    //btn scroll to top\n    function _initGoTop() {\n        $('.js-go-top').on('click', function (e) {\n            e.preventDefault();\n            $('html, body').animate({\n                scrollTop: 0\n            }, 800);\n        });\n    }\n\n    //btn scroll to element\n    function _initGoTo() {\n        //Click event to scroll to section whith id like href\n        $('.js-goto').on('click', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            var elementClick = $(this).attr('href');\n            var destination = $(elementClick).offset().top;\n            var wrapScroll = $('.wrapper__inner').scrollTop();\n            var offset = void 0;\n\n            if ($(window).width() > 480) {\n                offset = 90;\n            } else {\n                offset = 60;\n            }\n\n            $('html, body').animate({\n                scrollTop: destination - offset + 'px'\n            });\n        });\n    }\n\n    return {\n        init: _init,\n        initPushUp: _initPushUp,\n        initExpanded: _initExpanded,\n        initHoverAnimate: _initHoverAnimate,\n        initFloating: _initFloating,\n        initStatusAnimate: _initStatusAnimate,\n        // initToggle: _initToggle,\n        initSelect: _initSelect,\n        initGoTop: _initGoTop,\n        initGoTo: _initGoTo\n    };\n}());\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"GtyH2UN0\")))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiek9OcnlRNEcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvcmUvY29tcG9uZW50cy9CdXR0b24uanM/ZTA3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQkIuQ29tcG9uZW50cy5CdXR0b24uanNcclxuICpcclxuICogQGF1dGhvciBBbnRvbiBVc3Rpbm9mZiA8YS5hLnVzdGlub2ZmQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG5CQi5kZWZpbmUoJ0NvcmUuQnV0dG9uJyk7XHJcblxyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgcHVzaFVwIGZyb20gJ0AvanMvY29tcG9uZW50cy9QdXNoVXAnO1xyXG5cclxud2luZG93LnB1c2hVcCA9IHB1c2hVcDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJCLkNvcmUuQnV0dG9uID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgZnVuY3Rpb24gX2luaXQoKSB7XHJcbiAgICAgICAgX2luaXRQdXNoVXAoKTtcclxuICAgICAgICBfaW5pdEV4cGFuZGVkKCk7XHJcbiAgICAgICAgX2luaXRIb3ZlckFuaW1hdGUoKTtcclxuICAgICAgICBfaW5pdEZsb2F0aW5nKCk7XHJcbiAgICAgICAgX2luaXRTdGF0dXNBbmltYXRlKCk7XHJcbiAgICAgICAgLy8gX2luaXRUb2dnbGUoKTtcclxuICAgICAgICBfaW5pdFNlbGVjdCgpO1xyXG4gICAgICAgIF9pbml0R29Ub3AoKTtcclxuICAgICAgICBfaW5pdEdvVG8oKTtcclxuXHJcbiAgICAgICAgaWYgKE5PREVfRU5WID09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLSBJTklUIENPUkUgQlVUVE9OUycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5pdFB1c2hVcCgpIHtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtcHVzaF0nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IG1lc3NhZ2VTdWNjZXNzID0gJCh0aGlzKS5hdHRyKCdkYXRhLXB1c2gtbWVzc2FnZS1zdWNjZXNzJyk7XHJcbiAgICAgICAgICAgIGxldCBtZXNzYWdlRXJyb3IgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcHVzaC1tZXNzYWdlLWVycm9yJyk7XHJcbiAgICAgICAgICAgIGxldCBkZWxheSA9ICQodGhpcykuYXR0cignZGF0YS1wdXNoLWRlbGF5JykgfHwgMzAwO1xyXG4gICAgICAgICAgICBsZXQgdGltZU91dCA9ICQodGhpcykuYXR0cignZGF0YS1wdXNoLXRpbWVvdXQnKSB8fCAxNTAwO1xyXG4gICAgICAgICAgICBsZXQgc3RhdHVzO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcHVzaC1zdGF0dXMnKSB8fCAnc3VjY2Vzcyc7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBwdXNoVXAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtZXNzYWdlRXJyb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lT3V0OiB0aW1lT3V0LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hVcCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2VTdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZU91dDogdGltZU91dCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpcy1zdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL2J0biBleHBhbmRlZFxyXG4gICAgZnVuY3Rpb24gX2luaXRFeHBhbmRlZCgpIHtcclxuICAgICAgICBVdGlscy50b2dnbGVDbGFzc0F0QmxvY2tDbGlja091dHNpZGUoJy5qcy1idG4tZXhwYW5kZWQnLCAnaXMtYWN0aXZlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9idG4gYW5pbWF0ZSBvbiBob3ZlclxyXG4gICAgZnVuY3Rpb24gX2luaXRIb3ZlckFuaW1hdGUoKSB7XHJcbiAgICAgICAgJChkb2N1bWVudClcclxuICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyJywgJy5qcy1idG4tYW5pbWF0ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRPZmZzZXQgPSAkKHRoaXMpLm9mZnNldCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbFggPSBlLnBhZ2VYIC0gcGFyZW50T2Zmc2V0LmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVsWSA9IGUucGFnZVkgLSBwYXJlbnRPZmZzZXQudG9wO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYnV0dG9uLWFuaW1hdGVfX2hvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiByZWxZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiByZWxYLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNlb3V0JywgJy5qcy1idG4tYW5pbWF0ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRPZmZzZXQgPSAkKHRoaXMpLm9mZnNldCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbFggPSBlLnBhZ2VYIC0gcGFyZW50T2Zmc2V0LmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVsWSA9IGUucGFnZVkgLSBwYXJlbnRPZmZzZXQudG9wO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYnV0dG9uLWFuaW1hdGVfX2hvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiByZWxZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiByZWxYLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL2Zsb2F0aW5nIGJ0biBhbmltYXRpblxyXG4gICAgZnVuY3Rpb24gX2luaXRGbG9hdGluZygpIHtcclxuICAgICAgICBsZXQgJGJ0biA9ICQoZG9jdW1lbnQpLmZpbmQoJy5qcy1idG4tZmxvYXRpbmcnKTtcclxuICAgICAgICBsZXQgcnVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKCEkYnRuLmZpbmQoJy5idG4tZmxvYXRpbmdfX2xpc3QnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJGJ0bi5maW5kKCcuYnRuLWZsb2F0aW5nX19saW5rJykuY3NzKCdwb2ludGVyLWV2ZW50cycsICdhdXRvJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL9Ce0LHRgNCw0LHQvtGC0YfQuNC6INC00L7QsdCw0LLQu9GP0LXRgiDQutC70LDRgdGB0Ysg0LfQsNGC0LXQvCDQvtGC0L/QuNGB0YvQstCw0YLQtdGB0Y8g0L7RgiDRgdC+0LHRi9GC0LjRj1xyXG4gICAgICAgIGxldCBoZW5kbGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnZmEtZW50ZXItYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnZmEtbGVhdmUtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICRidG4ub2ZmKFxyXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICBoZW5kbGVyXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZmEtbGVhdmUtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8v0JDQvdC40LzQsNGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPXHJcbiAgICAgICAgZnVuY3Rpb24gX3JlbW92ZUFuaW1hdGlvbihlbCkge1xyXG4gICAgICAgICAgICBlbC5vbigndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kJywgaGVuZGxlcik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2xhc3MoJ2ZhLWxlYXZlLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDc2OCkge1xyXG4gICAgICAgICAgICBpZiAoIXJ1bikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyJywgJy5qcy1idG4tZmxvYXRpbmcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBydW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdmYS1lbnRlci1hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlbGVhdmUnLCAnLmpzLWJ0bi1mbG9hdGluZycsIGhlbmRsZXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtYnRuLWZsb2F0aW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5maW5kKCcuYnRuLWZsb2F0aW5nX19saXN0JykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2ZhLWVudGVyLWFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jc3MoJ3otaW5kZXgnLCAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuanMtb3ZlcmxheScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtdmlzaWJsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnb3ZlcmxheS0tYnRuLWZsb2F0aW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBidG5JZCA9ICQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5idG4tZmxvYXRpbmdfX2xpbmsnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubm90KCcubWQtaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bklkLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oXHJcbiAgICAgICAgICAgICAgICAnY2xpY2snLFxyXG4gICAgICAgICAgICAgICAgJy5qcy1idG4tZmxvYXRpbmcgLmJ0bi1mbG9hdGluZ19fbGluaycsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJ0bi5yZW1vdmVDbGFzcygnZmEtZW50ZXItYWN0aXZlJykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlQW5pbWF0aW9uKCQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1vdmVybGF5JykucmVtb3ZlQ2xhc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcy12aXNpYmxlIG92ZXJsYXktLWJ0bi1mbG9hdGluZydcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvL9Ca0LvQuNC6INCyINC90LUg0LrQvdC+0L/QutC4INGB0LrRgNGL0LLQsNC10YIg0L7QstC10YDQu9C10Lkg0Lgg0LrQvdC+0L/QutC4XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxyXG4gICAgICAgICAgICAgICAgJ2NsaWNrIHRvdWNoc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgJy5vdmVybGF5LS1idG4tZmxvYXRpbmcnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRidG4ucmVtb3ZlQ2xhc3MoJ2ZhLWVudGVyLWFjdGl2ZScpLmFkZENsYXNzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmEtbGVhdmUtYWN0aXZlJ1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1vdmVybGF5JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ292ZXJsYXktLWJ0bi1mbG9hdGluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYnRuLnJlbW92ZUNsYXNzKCdmYS1sZWF2ZS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v0JXRgdC70Lgg0YHRgdGL0LvQutCwINC+0YLQutGA0YvQstCw0LXRgiDQvNC+0LTQsNC70LrRgywg0YLQviDQv9C+INC+0YLQutGA0YvRgtC40Y4g0LzQvtC00LDQu9C60Lgg0YHQutGA0YvQstCw0LXRgiDQutC90L7Qv9C60LhcclxuICAgICAgICAkKCcubW9kYWwnKS5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkYnRuLnJlbW92ZUNsYXNzKCdmYS1lbnRlci1hY3RpdmUnKS5hZGRDbGFzcygnZmEtbGVhdmUtYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQoJy5qcy1vdmVybGF5JykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkYnRuLnJlbW92ZUNsYXNzKCdmYS1sZWF2ZS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9idG4gc3RhdHVzIGFuaW1hdGVcclxuICAgIGZ1bmN0aW9uIF9pbml0U3RhdHVzQW5pbWF0ZSgpIHtcclxuICAgICAgICBsZXQgcnVuID0gdHJ1ZTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmJ0bi1hbmltYXRlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAocnVuKSB7XHJcbiAgICAgICAgICAgICAgICBydW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWFuaW1hdGUgaXMtcmVhZHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1hbmltYXRlIGlzLXJlYWR5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIDI1MDApO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtcmVhZHknKTtcclxuICAgICAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gX2luaXRUb2dnbGUoKSB7XHJcbiAgICAvLyAgICAgbGV0ICRidG5Ub2dnbGUgPSAkKGRvY3VtZW50KS5maW5kKCcuanMtdmlldy10b2dnbGUnKTtcclxuXHJcbiAgICAvLyAgICAgJGJ0blRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAvLyAgICAgICAgIGxldCAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcbiAgICAvLyAgICAgICAgIGxldCAkbGFzdCA9ICQodGhpcylcclxuICAgIC8vICAgICAgICAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAvLyAgICAgICAgICAgICAubGFzdCgpO1xyXG5cclxuICAgIC8vICAgICAgICAgaWYgKCR0YXJnZXQuaXMoJGxhc3QpKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcclxuICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2luaXRTZWxlY3QoKSB7XHJcbiAgICAgICAgbGV0ICRidG4gPSAkKGRvY3VtZW50KS5maW5kKCcuanMtYnRuLXNlbGVjdCcpO1xyXG4gICAgICAgIGxldCBBQ1RJVkVfQ0xBU1MgPSAnaXMtYWN0aXZlJztcclxuICAgICAgICAkYnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykuZmluZCgnLmJ0bi1zZWxlY3RfX2xpc3QnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKEFDVElWRV9DTEFTUykpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKEFDVElWRV9DTEFTUyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoQUNUSVZFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vYnRuIHNjcm9sbCB0byB0b3BcclxuICAgIGZ1bmN0aW9uIF9pbml0R29Ub3AoKSB7XHJcbiAgICAgICAgJCgnLmpzLWdvLXRvcCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZShcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgODAwXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9idG4gc2Nyb2xsIHRvIGVsZW1lbnRcclxuICAgIGZ1bmN0aW9uIF9pbml0R29UbygpIHtcclxuICAgICAgICAvL0NsaWNrIGV2ZW50IHRvIHNjcm9sbCB0byBzZWN0aW9uIHdoaXRoIGlkIGxpa2UgaHJlZlxyXG4gICAgICAgICQoJy5qcy1nb3RvJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZWxlbWVudENsaWNrID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9ICQoZWxlbWVudENsaWNrKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgICAgIGxldCB3cmFwU2Nyb2xsID0gJCgnLndyYXBwZXJfX2lubmVyJykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgIGxldCBvZmZzZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcclxuICAgICAgICAgICAgICAgIG9mZnNldCA9IDkwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gNjA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogZGVzdGluYXRpb24gLSBvZmZzZXQgKyAncHgnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXQ6IF9pbml0LFxyXG4gICAgICAgIGluaXRQdXNoVXA6IF9pbml0UHVzaFVwLFxyXG4gICAgICAgIGluaXRFeHBhbmRlZDogX2luaXRFeHBhbmRlZCxcclxuICAgICAgICBpbml0SG92ZXJBbmltYXRlOiBfaW5pdEhvdmVyQW5pbWF0ZSxcclxuICAgICAgICBpbml0RmxvYXRpbmc6IF9pbml0RmxvYXRpbmcsXHJcbiAgICAgICAgaW5pdFN0YXR1c0FuaW1hdGU6IF9pbml0U3RhdHVzQW5pbWF0ZSxcclxuICAgICAgICAvLyBpbml0VG9nZ2xlOiBfaW5pdFRvZ2dsZSxcclxuICAgICAgICBpbml0U2VsZWN0OiBfaW5pdFNlbGVjdCxcclxuICAgICAgICBpbml0R29Ub3A6IF9pbml0R29Ub3AsXHJcbiAgICAgICAgaW5pdEdvVG86IF9pbml0R29UbyxcclxuICAgIH07XHJcbn0pKCk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUZBO0FBSUE7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQURBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///zONryQ4G\n");

/***/ })

}]);