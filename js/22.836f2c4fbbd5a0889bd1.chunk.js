(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{NFqq:function(e,t,n){},RX0u:function(e,t,n){"use strict";n.r(t);var a=n("/fAC"),r=n("tDv4"),s=n("IuEo"),i=n("lX81");function l(e,t,n,a,r,s,i){try{var o=e[s](i),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function o(o){return function(){var e=this,i=arguments;return new Promise(function(t,n){var a=o.apply(e,i);function r(e){l(a,t,n,r,s,"next",e)}function s(e){l(a,t,n,r,s,"throw",e)}r(void 0)})}}var c,u,d={name:"client-add",data:function(){return{loading:!0,genderArray:[],clientTypes:[],clientType:0,clientID:0,avatar:"",birthday:"",comment:"",email:"",gender:"Не выбран",name:"",phone:"",sale:"",status:0}},mounted:(u=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vue.$fetch.get("/clients/create");case 3:t=e.sent,this.genderArray=t.genders,this.clientTypes=t.clients_type.map(function(e){return{text:e.name,value:e.clientTypeID}}),this.loading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(){return u.apply(this,arguments)}),methods:{back:function(){this.$router.replace("/clients/base")},addClient:(c=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vue.$fetch.post("/clients",{avatar:this.avatar,birthday:this.birthday,clientTypeID:this.clientType,comment:this.comment,email:this.email,gender:this.gender,name:this.name,phone:this.phone,sale:this.sale,status:this.status});case 2:t=e.sent,console.log(t),this.$router.replace("/clients/base");case 5:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},components:{FullScreen:a.a,Profile:i.a,InputPhone:r.a,InputBirthday:s.a}},p=(n("ebUa"),n("KHd+")),m=Object(p.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("full-screen",{attrs:{loading:t.loading,back:t.back},scopedSlots:t._u([{key:"leftContent",fn:function(){return[n("Profile",{attrs:{tile:!1,width:320,"max-width":320,data:{name:t.name,avatar:t.avatar,subname:t.phone||t.email}},scopedSlots:t._u([{key:"edit",fn:function(){return[n("label",{staticClass:"img-upload",attrs:{for:"img-upload"}},[n("svg",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"icon img-upload__icon",attrs:{symbol:"photo-camera"}}),t._v(" "),n("span",{staticClass:"img-upload__text"},[t._v("Обновить")]),t._v(" "),n("input",{staticClass:"visible-hidden",attrs:{type:"file",id:"img-upload"}})])]},proxy:!0},{key:"subcontent",fn:function(){return[n("v-divider")]},proxy:!0}])})]},proxy:!0},{key:"rightContent",fn:function(){return[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"Имя",outlined:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[n("v-select",{attrs:{items:t.clientTypes,label:"Категория клиента",outlined:""},model:{value:t.clientType,callback:function(e){t.clientType=e},expression:"clientType"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[n("v-select",{attrs:{items:t.genderArray,label:"Пол",outlined:""},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[n("input-phone",{attrs:{phone:t.phone},on:{phoneChange:function(e){t.phone=e}}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("input-birthday",{attrs:{birthday:t.birthday},on:{birthdayChange:function(e){t.birthday=e}}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"Email",outlined:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"Скидка",outlined:""},model:{value:t.sale,callback:function(e){t.sale=e},expression:"sale"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{outlined:"",label:"Комментарий"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)]},proxy:!0},{key:"footerBtn",fn:function(){return[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"anchor",large:"",depressed:"","min-width":"150"},on:{click:t.back}},[t._v("\n            Отмена\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"primary",large:"",depressed:"",dark:"","min-width":"150"},on:{click:t.addClient}},[t._v("\n            Сохранить\n        ")])]},proxy:!0}])})},[],!1,null,"208611bb",null);t.default=m.exports},ebUa:function(e,t,n){"use strict";var a=n("NFqq");n.n(a).a}}]);