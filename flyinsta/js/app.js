'use strict';

function sectionAnimate() {
    animateHero();

    var i = new TimelineMax();
    i.set('.tab__content--amin .img-container__bg', {
        x: '-100%',
        opacity: 0
    }).set('.tab__content--amin .info-block__title', { x: 100, opacity: 0 }).set('.tab__content--amin .main__title', { opacity: 0, x: 180 }).set('.tab__content--amin .img-container__img', {
        x: '-120%',
        opacity: 0
    }).set('.tab__content--amin .info-block__item, .tab__content--amin .info-text, .tab__content--amin .tab-bot__btn', {
        x: 100,
        opacity: 0
    });

    if ($(window).height() >= 1024 && $(window).width() <= 1024) {
        amimateInfo(i);
    }

    var r = new TimelineMax();
    r.set('.result-photo__item', { y: 150, opacity: 0 }).set('.results-anim-block', { y: 50, opacity: 0 });

    var v = new TimelineMax();
    v.set('.video__title', { y: 200, opacity: 0 }).set('.bals__item', { y: 500, zIndex: 10 }).set('.bals__item--2', { x: -50 }).set('.video__desc', { y: 50, opacity: 0 }).set('.video__player', { scale: 1.2, opacity: 0 }).set('.video__play', { scale: 0, opacity: 0 }).set('.video__btn', { y: 100, opacity: 0 });

    var c = new TimelineMax();
    c.set('.counter-user', { y: 50, opacity: 0 }).set('.counter__desc', {
        y: 70,
        opacity: 0
    });

    var p = new TimelineMax();
    p.set('.price__title, .price__desc', { y: 30, opacity: 0 }).set('.price__item', {
        x: -150,
        opacity: 0,
        transition: 'initial'
    });

    window.onscroll = function () {
        var scroll = document.documentElement.scrollTop;
        var destination = 300;

        if ($('.info').offset().top - destination < scroll) {
            amimateInfo(i);
        }

        if ($('.results').offset().top - destination < scroll) {
            ainimateResults(r);
        }

        if ($('.video').offset().top - destination < scroll) {
            ainimateVideo(v);
        }

        if ($('.counter').offset().top - destination < scroll) {
            ainimateCounter(c);
        }

        if ($('.price').offset().top - destination < scroll) {
            ainimatePrice(p);
        }
    };
}

function animateHero() {
    var h = new TimelineMax();

    h.fromTo('.title__border', 0.3, { height: 0 }, { height: '45%' }, '1').fromTo('.title__text', 0.7, { x: -50, opacity: 0 }, { x: 0, opacity: 1 }).fromTo('.hero__desc', 0.5, { x: -100, opacity: 0 }, { x: 0, opacity: 1 }).fromTo('.hero__btn', 0.5, { x: -100, opacity: 0 }, { x: 0, opacity: 1 }, '-=.3').fromTo('.hero .info-text', 0.5, { x: -100, opacity: 0 }, { x: 0, opacity: 1 }, '-=.3').fromTo('.hero .img-container__bg', 0.6, { scale: 1.2, opacity: 0 }, { scale: 1, opacity: 1 }, '-=1.2').fromTo('.hero .box-icon-move__map', 0.6, { opacity: 0 }, { opacity: 1 }, '-=1').fromTo('.hero__slide', 0.6, { scale: 1.2, opacity: 0 }, { scale: 1, opacity: 1 }, '-=.7').fromTo('.hero__link', 0.5, { scale: 0, opacity: 0 }, { scale: 1, opacity: 1 }, '-=.4').fromTo('.box-icon-move__icon', 0.5, { scale: 0, opacity: 0 }, { scale: 1, opacity: 1 }, '-=.9');
}

function amimateInfo(i) {
    i.to('.tab__content--amin .img-container__bg', 0.8, {
        x: 0,
        xPercent: -51,
        opacity: 1
    }).to('.tab__content--amin .info-block__title', 0.8, { x: 0, opacity: 1 }, '-=.5').to('.tab__content--amin .img-container__img', 0.8, { x: 0, xPercent: -51, opacity: 1 }, '-= .2').staggerTo('.tab__content--amin .info-block__item', 0.9, { x: 0, opacity: 1 }, 0.4, '-=.8').to('.tab__content--amin .info-text', 0.8, { x: 0, opacity: 1 }, '-= .3').to('.tab__content--amin .info-text, .tab__content--amin .tab-bot__btn', 0.8, { x: 0, opacity: 1 }, '-= .2');
}

function ainimateResults(r) {
    r.staggerTo('.result-photo__item', 0.8, { y: 0, opacity: 1 }, 0.3).staggerTo('.results-anim-block', 0.8, { y: 0, opacity: 1 }, 0.5, '-=1.5');
}

function ainimateVideo(v) {
    v.to('.video__title', 0.8, { ease: Expo.easeOut, y: 0, opacity: 1 }).staggerTo('.bals__item', 0.8, { ease: Expo.easeOut, y: 0, zIndex: 1 }, 0.5).to('.bals__item--2', 1, { x: 1, y: 1 }, '-=1').to('.bals__item--3', 1, { x: 50, y: 10 }, '-=1').to('.video__desc', 0.5, { x: 1, y: 1, opacity: 1 }, '-=.5').to('.video__player', 0.8, { scale: 1, opacity: 1 }, '-=1.5').to('.video__play', 1, {
        ease: Elastic.easeOut.config(1, 0.3),
        scale: 1,
        opacity: 1
    }, '-=1').to('.video__btn', 0.9, { y: 0, opacity: 1 }, '-=.3');
}

function ainimateCounter(c) {
    c.to('.counter-user', 0.8, { y: 0, x: '-50%', opacity: 1 }).to('.counter__desc', 0.8, { y: 0, opacity: 1 }, '-=.7');
}

function ainimatePrice(p) {
    p.to('.price__title', 0.8, { y: 0, opacity: 1 }).to('.price__desc', 0.8, { y: 0, opacity: 1 }, '-=.3').staggerTo('.price__item', 0.5, {
        x: 0,
        opacity: 1
    }, 0.5, '-=.5').to('.price__item', 0.5, {
        onComplete: function onComplete() {
            $('.price__item').css('transition', '.35s');
        }
    });
}

$(function () {
    $('body').removeClass('loading');

    if ($(window).width() > 1024 && $(window).height() <= 1080) {
        sectionAnimate();
    }

    function heroHeight() {
        if ($(window).height() > 1080) {
            if ($(window).width() > 1024) {
                $('.hero').css({
                    minHeight: 100 + '%'
                });
            } else {
                $('.hero').css({
                    minHeight: 100 + '%',
                    paddingTop: 120 + 'px'
                });
            }
        }
    }
    heroHeight();
    $(window).resize(heroHeight());

    $('.js-tabs').each(function () {
        var $tab = $(this).find('.tab__title');
        var $content = $(this).find('.tab__content');
        var $btnPrev = $(this).find('.tab__btn--prev');
        var $btnNext = $(this).find('.tab__btn--next');
        var i = 0;

        if ($(window).width() >= 480) {
            $content.not(':first').hide();

            $tab.on('click', function () {
                $tab.removeClass('is-active').eq($(this).index()).addClass('is-active');
                $content.hide().eq($(this).index()).fadeIn();
            }).eq(0).addClass('is-active');
        } else {
            var prev = function prev() {
                $tab.hide();
                $content.hide();
                i--;
                if (i < 0) {
                    i = $tab.length - 1;
                }
                $tab.eq(i).fadeIn();
                $content.eq(i).fadeIn();
            };

            var next = function next() {
                $tab.hide();
                $content.hide();
                i++;
                if (i >= $tab.length) {
                    i = 0;
                }
                $tab.eq(i).fadeIn();
                $content.eq(i).fadeIn();
            };

            $content.not(':first').hide();
            $tab.not(':first').hide();

            $btnPrev.on('click', prev);

            $btnNext.on('click', next);
        }
    });

    $('.menu li').on('click', function () {
        // $('.menu li').removeClass('is-active');
        // $(this).addClass('is-active');
        $('.wrapper').removeClass('menu-open');
        $('.js-hamburger').removeClass('on');
    });

    //Hamburger
    $('.js-hamburger').on('click', function (e) {
        if ($(this).hasClass('on')) {
            $(this).removeClass('on');
            $('.wrapper').removeClass('menu-open');
        } else {
            $(this).addClass('on');
            $('.wrapper').addClass('menu-open');
        }
        if ($('.hero').find('.slick-slide').length) {
            var img = $('.hero').find('.slick-slide.slick-active').find('picture source').attr('srcset');
            $('.js-menu').find('.menu__list').css('background-image', 'url(' + img + ')');
        } else {
            var _img = $('.hero').find('picture source').attr('srcset');
            $('.js-menu').find('.menu__list').css('background-image', 'url(' + _img + ')');
        }
        e.preventDefault();
    });

    //Slider
    $('.js-slider').each(function () {
        var $slids = $(this).find('.slider__slides');
        var $slide = $(this).find('.slider__slide');

        if ($slide.length > 1) {
            $slids.not('.slick-initialized').slick({
                autoplay: true,
                autoplaySpeed: 3000,
                speed: 1500,
                slidesToShow: 1,
                slidesToScroll: 1,
                infinite: true,
                arrows: false,
                dots: false,
                fade: true,
                cssEase: 'cubic-bezier(0.7, 0, 0.3, 1)',
                responsive: [{
                    breakpoint: 480,
                    settings: {
                        fade: false
                    }
                }]
            });
        }
    });

    if ($(window).width() > 480) {
        $('.js-line').each(function () {
            $('<li>').addClass('line').appendTo($(this));

            var $li = $(this).find('li');

            var $line = $(this).find('.line');

            $li.each(function () {
                if ($(this).hasClass('is-active')) {
                    var width = $(this).width();
                    var howFar = $(this).position().left;
                    $line.css({
                        left: howFar + 'px',
                        width: width
                    });
                }
            });

            $li.on('click', function () {
                if ($(this).hasClass('line')) {
                    return;
                }

                var width = $(this).width();
                var howFar = $(this).position().left;

                $line.css({
                    left: howFar + 'px',
                    width: width
                });
            });
        });
    }

    //Window on scroll header fix
    $(window).scroll(function () {
        var scroll = $(this).scrollTop();
        if (scroll > 0) {
            $('.header').addClass('is-fixed');
        } else {
            var $menuItem = $('.js-menu').find('.menu__item');
            $('.header').removeClass('is-fixed');
            $menuItem.removeClass('is-active');
        }

        if (scroll > $(window).height()) {
            $('.js-go-top').addClass('is-visible');
        } else {
            $('.js-go-top').removeClass('is-visible');
        }
    });

    //Btn pulse
    $('.js-btn-pulse').on('mousedown', function () {
        var _this = this;

        $(this).addClass('is-clicked');
        setTimeout(function () {
            $(_this).removeClass('is-clicked');
        }, 1000);
    });

    //Scroll To
    $('.js-goto').on('click', function (e) {
        e.preventDefault();

        var offset = void 0;
        if ($(window).width() > 480) {
            offset = 50;
        } else {
            offset = 70;
        }
        var el = $(this).attr('href');
        var destination = $(el).offset().top;
        $('html, body').animate({ scrollTop: destination - offset + 'px' }, 400);
    });

    $('.js-go-next').on('click', function (e) {
        var target = $(this).closest('section').next('section').offset().top;

        var offset = void 0;
        if ($(window).width() > 480) {
            offset = 50;
        } else {
            offset = 70;
        }
        $('html, body').animate({ scrollTop: target - offset }, 'slow');
        e.preventDefault();
    });

    var scrollspyOffset = void 0;
    if ($(window).height() <= 1080) {
        scrollspyOffset = -100;
    } else {
        scrollspyOffset = -400;
    }
    if ($(window).width() >= 480) {
        $('.js-scrollspy').scrollspy({ offset: scrollspyOffset });
    }

    $('.js-go-top').on('click', function (e) {
        e.preventDefault();
        $('html, body').animate({ scrollTop: 0 }, 800);
    });

    if ($('.js-input').length) {
        $('.js-input').find('input').on('focus', function () {
            $(this).parent('.js-input').addClass('is-focus');
        }).on('blur', function () {
            if ($(this).val() === '') {
                $(this).parent('.js-input').removeClass('is-focus');
            }
        });
    }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzZWN0aW9uQW5pbWF0ZSIsImFuaW1hdGVIZXJvIiwiaSIsIlRpbWVsaW5lTWF4Iiwic2V0IiwieCIsIm9wYWNpdHkiLCIkIiwid2luZG93IiwiaGVpZ2h0Iiwid2lkdGgiLCJhbWltYXRlSW5mbyIsInIiLCJ5IiwidiIsInpJbmRleCIsInNjYWxlIiwiYyIsInAiLCJ0cmFuc2l0aW9uIiwib25zY3JvbGwiLCJzY3JvbGwiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFRvcCIsImRlc3RpbmF0aW9uIiwib2Zmc2V0IiwidG9wIiwiYWluaW1hdGVSZXN1bHRzIiwiYWluaW1hdGVWaWRlbyIsImFpbmltYXRlQ291bnRlciIsImFpbmltYXRlUHJpY2UiLCJoIiwiZnJvbVRvIiwidG8iLCJ4UGVyY2VudCIsInN0YWdnZXJUbyIsImVhc2UiLCJFeHBvIiwiZWFzZU91dCIsIkVsYXN0aWMiLCJjb25maWciLCJvbkNvbXBsZXRlIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJoZXJvSGVpZ2h0IiwibWluSGVpZ2h0IiwicGFkZGluZ1RvcCIsInJlc2l6ZSIsImVhY2giLCIkdGFiIiwiZmluZCIsIiRjb250ZW50IiwiJGJ0blByZXYiLCIkYnRuTmV4dCIsIm5vdCIsImhpZGUiLCJvbiIsImVxIiwiaW5kZXgiLCJhZGRDbGFzcyIsImZhZGVJbiIsInByZXYiLCJsZW5ndGgiLCJuZXh0IiwiZSIsImhhc0NsYXNzIiwiaW1nIiwiYXR0ciIsInByZXZlbnREZWZhdWx0IiwiJHNsaWRzIiwiJHNsaWRlIiwic2xpY2siLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJzcGVlZCIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiaW5maW5pdGUiLCJhcnJvd3MiLCJkb3RzIiwiZmFkZSIsImNzc0Vhc2UiLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiYXBwZW5kVG8iLCIkbGkiLCIkbGluZSIsImhvd0ZhciIsInBvc2l0aW9uIiwibGVmdCIsIiRtZW51SXRlbSIsInNldFRpbWVvdXQiLCJlbCIsImFuaW1hdGUiLCJ0YXJnZXQiLCJjbG9zZXN0Iiwic2Nyb2xsc3B5T2Zmc2V0Iiwic2Nyb2xsc3B5IiwicGFyZW50IiwidmFsIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLGNBQVQsR0FBMEI7QUFDdEJDOztBQUVBLFFBQU1DLElBQUksSUFBSUMsV0FBSixFQUFWO0FBQ0FELE1BQUVFLEdBQUYsQ0FBTSx3Q0FBTixFQUFnRDtBQUM1Q0MsV0FBRyxPQUR5QztBQUU1Q0MsaUJBQVM7QUFGbUMsS0FBaEQsRUFJS0YsR0FKTCxDQUlTLHdDQUpULEVBSW1ELEVBQUVDLEdBQUcsR0FBTCxFQUFVQyxTQUFTLENBQW5CLEVBSm5ELEVBS0tGLEdBTEwsQ0FLUyxrQ0FMVCxFQUs2QyxFQUFFRSxTQUFTLENBQVgsRUFBY0QsR0FBRyxHQUFqQixFQUw3QyxFQU1LRCxHQU5MLENBTVMseUNBTlQsRUFNb0Q7QUFDNUNDLFdBQUcsT0FEeUM7QUFFNUNDLGlCQUFTO0FBRm1DLEtBTnBELEVBVUtGLEdBVkwsQ0FXUSwwR0FYUixFQVlRO0FBQ0lDLFdBQUcsR0FEUDtBQUVJQyxpQkFBUztBQUZiLEtBWlI7O0FBa0JBLFFBQUlDLEVBQUVDLE1BQUYsRUFBVUMsTUFBVixNQUFzQixJQUF0QixJQUE4QkYsRUFBRUMsTUFBRixFQUFVRSxLQUFWLE1BQXFCLElBQXZELEVBQTZEO0FBQ3pEQyxvQkFBWVQsQ0FBWjtBQUNIOztBQUVELFFBQU1VLElBQUksSUFBSVQsV0FBSixFQUFWO0FBQ0FTLE1BQUVSLEdBQUYsQ0FBTSxxQkFBTixFQUE2QixFQUFFUyxHQUFHLEdBQUwsRUFBVVAsU0FBUyxDQUFuQixFQUE3QixFQUFxREYsR0FBckQsQ0FDSSxxQkFESixFQUVJLEVBQUVTLEdBQUcsRUFBTCxFQUFTUCxTQUFTLENBQWxCLEVBRko7O0FBS0EsUUFBTVEsSUFBSSxJQUFJWCxXQUFKLEVBQVY7QUFDQVcsTUFBRVYsR0FBRixDQUFN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QUFFLElBQUYsRUFBUThGLEdBQVIsT0FBa0IsRUFBdEIsRUFBMEI7QUFDdEI5RixrQkFBRSxJQUFGLEVBQ0s2RixNQURMLENBQ1ksV0FEWixFQUVLeEQsV0FGTCxDQUVpQixVQUZqQjtBQUdIO0FBQ0osU0FiTDtBQWNIO0FBQ0osQ0E3UUQiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2VjdGlvbkFuaW1hdGUoKSB7XG4gICAgYW5pbWF0ZUhlcm8oKTtcblxuICAgIGNvbnN0IGkgPSBuZXcgVGltZWxpbmVNYXgoKTtcbiAgICBpLnNldCgnLnRhYl9fY29udGVudC0tYW1pbiAuaW1nLWNvbnRhaW5lcl9fYmcnLCB7XG4gICAgICAgIHg6ICctMTAwJScsXG4gICAgICAgIG9wYWNpdHk6IDBcbiAgICB9KVxuICAgICAgICAuc2V0KCcudGFiX19jb250ZW50LS1hbWluIC5pbmZvLWJsb2NrX190aXRsZScsIHsgeDogMTAwLCBvcGFjaXR5OiAwIH0pXG4gICAgICAgIC5zZXQoJy50YWJfX2NvbnRlbnQtLWFtaW4gLm1haW5fX3RpdGxlJywgeyBvcGFjaXR5OiAwLCB4OiAxODAgfSlcbiAgICAgICAgLnNldCgnLnRhYl9fY29udGVudC0tYW1pbiAuaW1nLWNvbnRhaW5lcl9faW1nJywge1xuICAgICAgICAgICAgeDogJy0xMjAlJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSlcbiAgICAgICAgLnNldChcbiAgICAgICAgICAgICcudGFiX19jb250ZW50LS1hbWluIC5pbmZvLWJsb2NrX19pdGVtLCAudGFiX19jb250ZW50LS1hbWluIC5pbmZvLXRleHQsIC50YWJfX2NvbnRlbnQtLWFtaW4gLnRhYi1ib3RfX2J0bicsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeDogMTAwLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgIGlmICgkKHdpbmRvdykuaGVpZ2h0KCkgPj0gMTAyNCAmJiAkKHdpbmRvdykud2lkdGgoKSA8PSAxMDI0KSB7XG4gICAgICAgIGFtaW1hdGVJbmZvKGkpO1xuICAgIH1cblxuICAgIGNvbnN0IHIgPSBuZXcgVGltZWxpbmVNYXgoKTtcbiAgICByLnNldCgnLnJlc3VsdC1waG90b19faXRlbScsIHsgeTogMTUwLCBvcGFjaXR5OiAwIH0pLnNldChcbiAgICAgICAgJy5yZXN1bHRzLWFuaW0tYmxvY2snLFxuICAgICAgICB7IHk6IDUwLCBvcGFjaXR5OiAwIH1cbiAgICApO1xuXG4gICAgY29uc3QgdiA9IG5ldyBUaW1lbGluZU1heCgpO1xuICAgIHYuc2V0KCcudmlkZW9fX3RpdGxlJywgeyB5OiAyMDAsIG9wYWNpdHk6IDAgfSlcbiAgICAgICAgLnNldCgnLmJhbHNfX2l0ZW0nLCB7IHk6IDUwMCwgekluZGV4OiAxMCB9KVxuICAgICAgICAuc2V0KCcuYmFsc19faXRlbS0tMicsIHsgeDogLTUwIH0pXG4gICAgICAgIC5zZXQoJy52aWRlb19fZGVzYycsIHsgeTogNTAsIG9wYWNpdHk6IDAgfSlcbiAgICAgICAgLnNldCgnLnZpZGVvX19wbGF5ZXInLCB7IHNjYWxlOiAxLjIsIG9wYWNpdHk6IDAgfSlcbiAgICAgICAgLnNldCgnLnZpZGVvX19wbGF5JywgeyBzY2FsZTogMCwgb3BhY2l0eTogMCB9KVxuICAgICAgICAuc2V0KCcudmlkZW9fX2J0bicsIHsgeTogMTAwLCBvcGFjaXR5OiAwIH0pO1xuXG4gICAgY29uc3QgYyA9IG5ldyBUaW1lbGluZU1heCgpO1xuICAgIGMuc2V0KCcuY291bnRlci11c2VyJywgeyB5OiA1MCwgb3BhY2l0eTogMCB9KS5zZXQoJy5jb3VudGVyX19kZXNjJywge1xuICAgICAgICB5OiA3MCxcbiAgICAgICAgb3BhY2l0eTogMFxuICAgIH0pO1xuXG4gICAgY29uc3QgcCA9IG5ldyBUaW1lbGluZU1heCgpO1xuICAgIHAuc2V0KCcucHJpY2VfX3RpdGxlLCAucHJpY2VfX2Rlc2MnLCB7IHk6IDMwLCBvcGFjaXR5OiAwIH0pLnNldChcbiAgICAgICAgJy5wcmljZV9faXRlbScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHg6IC0xNTAsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2luaXRpYWwnXG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzY3JvbGwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICBsZXQgZGVzdGluYXRpb24gPSAzMDA7XG5cbiAgICAgICAgaWYgKCQoJy5pbmZvJykub2Zmc2V0KCkudG9wIC0gZGVzdGluYXRpb24gPCBzY3JvbGwpIHtcbiAgICAgICAgICAgIGFtaW1hdGVJbmZvKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQoJy5yZXN1bHRzJykub2Zmc2V0KCkudG9wIC0gZGVzdGluYXRpb24gPCBzY3JvbGwpIHtcbiAgICAgICAgICAgIGFpbmltYXRlUmVzdWx0cyhyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkKCcudmlkZW8nKS5vZmZzZXQoKS50b3AgLSBkZXN0aW5hdGlvbiA8IHNjcm9sbCkge1xuICAgICAgICAgICAgYWluaW1hdGVWaWRlbyh2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkKCcuY291bnRlcicpLm9mZnNldCgpLnRvcCAtIGRlc3RpbmF0aW9uIDwgc2Nyb2xsKSB7XG4gICAgICAgICAgICBhaW5pbWF0ZUNvdW50ZXIoYyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJCgnLnByaWNlJykub2Zmc2V0KCkudG9wIC0gZGVzdGluYXRpb24gPCBzY3JvbGwpIHtcbiAgICAgICAgICAgIGFpbmltYXRlUHJpY2UocCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhbmltYXRlSGVybygpIHtcbiAgICBjb25zdCBoID0gbmV3IFRpbWVsaW5lTWF4KCk7XG5cbiAgICBoLmZyb21UbygnLnRpdGxlX19ib3JkZXInLCAwLjMsIHsgaGVpZ2h0OiAwIH0sIHsgaGVpZ2h0OiAnNDUlJyB9LCAnMScpXG4gICAgICAgIC5mcm9tVG8oXG4gICAgICAgICAgICAnLnRpdGxlX190ZXh0JyxcbiAgICAgICAgICAgIDAuNyxcbiAgICAgICAgICAgIHsgeDogLTUwLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgICAgICB7IHg6IDAsIG9wYWNpdHk6IDEgfVxuICAgICAgICApXG4gICAgICAgIC5mcm9tVG8oXG4gICAgICAgICAgICAnLmhlcm9fX2Rlc2MnLFxuICAgICAgICAgICAgMC41LFxuICAgICAgICAgICAgeyB4OiAtMTAwLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgICAgICB7IHg6IDAsIG9wYWNpdHk6IDEgfVxuICAgICAgICApXG4gICAgICAgIC5mcm9tVG8oXG4gICAgICAgICAgICAnLmhlcm9fX2J0bicsXG4gICAgICAgICAgICAwLjUsXG4gICAgICAgICAgICB7IHg6IC0xMDAsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgICAgIHsgeDogMCwgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgJy09LjMnXG4gICAgICAgIClcbiAgICAgICAgLmZyb21UbyhcbiAgICAgICAgICAgICcuaGVybyAuaW5mby10ZXh0JyxcbiAgICAgICAgICAgIDAuNSxcbiAgICAgICAgICAgIHsgeDogLTEwMCwgb3BhY2l0eTogMCB9LFxuICAgICAgICAgICAgeyB4OiAwLCBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAnLT0uMydcbiAgICAgICAgKVxuICAgICAgICAuZnJvbVRvKFxuICAgICAgICAgICAgJy5oZXJvIC5pbWctY29udGFpbmVyX19iZycsXG4gICAgICAgICAgICAwLjYsXG4gICAgICAgICAgICB7IHNjYWxlOiAxLjIsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgICAgIHsgc2NhbGU6IDEsIG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgICctPTEuMidcbiAgICAgICAgKVxuICAgICAgICAuZnJvbVRvKFxuICAgICAgICAgICAgJy5oZXJvIC5ib3gtaWNvbi1tb3ZlX19tYXAnLFxuICAgICAgICAgICAgMC42LFxuICAgICAgICAgICAgeyBvcGFjaXR5OiAwIH0sXG4gICAgICAgICAgICB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgICctPTEnXG4gICAgICAgIClcbiAgICAgICAgLmZyb21UbyhcbiAgICAgICAgICAgICcuaGVyb19fc2xpZGUnLFxuICAgICAgICAgICAgMC42LFxuICAgICAgICAgICAgeyBzY2FsZTogMS4yLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgICAgICB7IHNjYWxlOiAxLCBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAnLT0uNydcbiAgICAgICAgKVxuICAgICAgICAuZnJvbVRvKFxuICAgICAgICAgICAgJy5oZXJvX19saW5rJyxcbiAgICAgICAgICAgIDAuNSxcbiAgICAgICAgICAgIHsgc2NhbGU6IDAsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgICAgIHsgc2NhbGU6IDEsIG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgICctPS40J1xuICAgICAgICApXG4gICAgICAgIC5mcm9tVG8oXG4gICAgICAgICAgICAnLmJveC1pY29uLW1vdmVfX2ljb24nLFxuICAgICAgICAgICAgMC41LFxuICAgICAgICAgICAgeyBzY2FsZTogMCwgb3BhY2l0eTogMCB9LFxuICAgICAgICAgICAgeyBzY2FsZTogMSwgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgJy09LjknXG4gICAgICAgICk7XG59XG5cbmZ1bmN0aW9uIGFtaW1hdGVJbmZvKGkpIHtcbiAgICBpLnRvKCcudGFiX19jb250ZW50LS1hbWluIC5pbWctY29udGFpbmVyX19iZycsIDAuOCwge1xuICAgICAgICB4OiAwLFxuICAgICAgICB4UGVyY2VudDogLTUxLFxuICAgICAgICBvcGFjaXR5OiAxXG4gICAgfSlcbiAgICAgICAgLnRvKFxuICAgICAgICAgICAgJy50YWJfX2NvbnRlbnQtLWFtaW4gLmluZm8tYmxvY2tfX3RpdGxlJyxcbiAgICAgICAgICAgIDAuOCxcbiAgICAgICAgICAgIHsgeDogMCwgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgJy09LjUnXG4gICAgICAgIClcbiAgICAgICAgLnRvKFxuICAgICAgICAgICAgJy50YWJfX2NvbnRlbnQtLWFtaW4gLmltZy1jb250YWluZXJfX2ltZycsXG4gICAgICAgICAgICAwLjgsXG4gICAgICAgICAgICB7IHg6IDAsIHhQZXJjZW50OiAtNTEsIG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgICctPSAuMidcbiAgICAgICAgKVxuICAgICAgICAuc3RhZ2dlclRvKFxuICAgICAgICAgICAgJy50YWJfX2NvbnRlbnQtLWFtaW4gLmluZm8tYmxvY2tfX2l0ZW0nLFxuICAgICAgICAgICAgMC45LFxuICAgICAgICAgICAgeyB4OiAwLCBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAwLjQsXG4gICAgICAgICAgICAnLT0uOCdcbiAgICAgICAgKVxuICAgICAgICAudG8oXG4gICAgICAgICAgICAnLnRhYl9fY29udGVudC0tYW1pbiAuaW5mby10ZXh0JyxcbiAgICAgICAgICAgIDAuOCxcbiAgICAgICAgICAgIHsgeDogMCwgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgJy09IC4zJ1xuICAgICAgICApXG4gICAgICAgIC50byhcbiAgICAgICAgICAgICcudGFiX19jb250ZW50LS1hbWluIC5pbmZvLXRleHQsIC50YWJfX2NvbnRlbnQtLWFtaW4gLnRhYi1ib3RfX2J0bicsXG4gICAgICAgICAgICAwLjgsXG4gICAgICAgICAgICB7IHg6IDAsIG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgICctPSAuMidcbiAgICAgICAgKTtcbn1cblxuZnVuY3Rpb24gYWluaW1hdGVSZXN1bHRzKHIpIHtcbiAgICByLnN0YWdnZXJUbyhcbiAgICAgICAgJy5yZXN1bHQtcGhvdG9fX2l0ZW0nLFxuICAgICAgICAwLjgsXG4gICAgICAgIHsgeTogMCwgb3BhY2l0eTogMSB9LFxuICAgICAgICAwLjNcbiAgICApLnN0YWdnZXJUbygnLnJlc3VsdHMtYW5pbS1ibG9jaycsIDAuOCwgeyB5OiAwLCBvcGFjaXR5OiAxIH0sIDAuNSwgJy09MS41Jyk7XG59XG5cbmZ1bmN0aW9uIGFpbmltYXRlVmlkZW8odikge1xuICAgIHYudG8oJy52aWRlb19fdGl0bGUnLCAwLjgsIHsgZWFzZTogRXhwby5lYXNlT3V0LCB5OiAwLCBvcGFjaXR5OiAxIH0pXG4gICAgICAgIC5zdGFnZ2VyVG8oXG4gICAgICAgICAgICAnLmJhbHNfX2l0ZW0nLFxuICAgICAgICAgICAgMC44LFxuICAgICAgICAgICAgeyBlYXNlOiBFeHBvLmVhc2VPdXQsIHk6IDAsIHpJbmRleDogMSB9LFxuICAgICAgICAgICAgMC41XG4gICAgICAgIClcbiAgICAgICAgLnRvKCcuYmFsc19faXRlbS0tMicsIDEsIHsgeDogMSwgeTogMSB9LCAnLT0xJylcbiAgICAgICAgLnRvKCcuYmFsc19faXRlbS0tMycsIDEsIHsgeDogNTAsIHk6IDEwIH0sICctPTEnKVxuICAgICAgICAudG8oJy52aWRlb19fZGVzYycsIDAuNSwgeyB4OiAxLCB5OiAxLCBvcGFjaXR5OiAxIH0sICctPS41JylcbiAgICAgICAgLnRvKCcudmlkZW9fX3BsYXllcicsIDAuOCwgeyBzY2FsZTogMSwgb3BhY2l0eTogMSB9LCAnLT0xLjUnKVxuICAgICAgICAudG8oXG4gICAgICAgICAgICAnLnZpZGVvX19wbGF5JyxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZWFzZTogRWxhc3RpYy5lYXNlT3V0LmNvbmZpZygxLCAwLjMpLFxuICAgICAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnLT0xJ1xuICAgICAgICApXG4gICAgICAgIC50bygnLnZpZGVvX19idG4nLCAwLjksIHsgeTogMCwgb3BhY2l0eTogMSB9LCAnLT0uMycpO1xufVxuXG5mdW5jdGlvbiBhaW5pbWF0ZUNvdW50ZXIoYykge1xuICAgIGMudG8oJy5jb3VudGVyLXVzZXInLCAwLjgsIHsgeTogMCwgeDogJy01MCUnLCBvcGFjaXR5OiAxIH0pLnRvKFxuICAgICAgICAnLmNvdW50ZXJfX2Rlc2MnLFxuICAgICAgICAwLjgsXG4gICAgICAgIHsgeTogMCwgb3BhY2l0eTogMSB9LFxuICAgICAgICAnLT0uNydcbiAgICApO1xufVxuXG5mdW5jdGlvbiBhaW5pbWF0ZVByaWNlKHApIHtcbiAgICBwLnRvKCcucHJpY2VfX3RpdGxlJywgMC44LCB7IHk6IDAsIG9wYWNpdHk6IDEgfSlcbiAgICAgICAgLnRvKCcucHJpY2VfX2Rlc2MnLCAwLjgsIHsgeTogMCwgb3BhY2l0eTogMSB9LCAnLT0uMycpXG4gICAgICAgIC5zdGFnZ2VyVG8oXG4gICAgICAgICAgICAnLnByaWNlX19pdGVtJyxcbiAgICAgICAgICAgIDAuNSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAwLjUsXG4gICAgICAgICAgICAnLT0uNSdcbiAgICAgICAgKVxuICAgICAgICAudG8oJy5wcmljZV9faXRlbScsIDAuNSwge1xuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnLnByaWNlX19pdGVtJykuY3NzKCd0cmFuc2l0aW9uJywgJy4zNXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5cblxuJChmdW5jdGlvbigpIHtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDEwMjQgJiYgJCh3aW5kb3cpLmhlaWdodCgpIDw9IDEwODApIHtcbiAgICAgICAgc2VjdGlvbkFuaW1hdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXJvSGVpZ2h0KCkge1xuICAgICAgICBpZiAoJCh3aW5kb3cpLmhlaWdodCgpID4gMTA4MCkge1xuICAgICAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpID4gMTAyNCkge1xuICAgICAgICAgICAgICAgICQoJy5oZXJvJykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0OiAxMDAgKyAnJSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLmhlcm8nKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6IDEwMCArICclJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMTIwICsgJ3B4J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhlcm9IZWlnaHQoKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGhlcm9IZWlnaHQoKSk7XG5cbiAgICAkKCcuanMtdGFicycpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCAkdGFiID0gJCh0aGlzKS5maW5kKCcudGFiX190aXRsZScpO1xuICAgICAgICBsZXQgJGNvbnRlbnQgPSAkKHRoaXMpLmZpbmQoJy50YWJfX2NvbnRlbnQnKTtcbiAgICAgICAgbGV0ICRidG5QcmV2ID0gJCh0aGlzKS5maW5kKCcudGFiX19idG4tLXByZXYnKTtcbiAgICAgICAgbGV0ICRidG5OZXh0ID0gJCh0aGlzKS5maW5kKCcudGFiX19idG4tLW5leHQnKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSA0ODApIHtcbiAgICAgICAgICAgICRjb250ZW50Lm5vdCgnOmZpcnN0JykuaGlkZSgpO1xuXG4gICAgICAgICAgICAkdGFiLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0YWIucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5lcSgkKHRoaXMpLmluZGV4KCkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgLmhpZGUoKVxuICAgICAgICAgICAgICAgICAgICAuZXEoJCh0aGlzKS5pbmRleCgpKVxuICAgICAgICAgICAgICAgICAgICAuZmFkZUluKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lcSgwKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkY29udGVudC5ub3QoJzpmaXJzdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICR0YWIubm90KCc6Zmlyc3QnKS5oaWRlKCk7XG5cbiAgICAgICAgICAgICRidG5QcmV2Lm9uKCdjbGljaycsIHByZXYpO1xuXG4gICAgICAgICAgICAkYnRuTmV4dC5vbignY2xpY2snLCBuZXh0KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJldigpIHtcbiAgICAgICAgICAgICAgICAkdGFiLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkY29udGVudC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGlmIChpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpID0gJHRhYi5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkdGFiLmVxKGkpLmZhZGVJbigpO1xuICAgICAgICAgICAgICAgICRjb250ZW50LmVxKGkpLmZhZGVJbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgICR0YWIuaGlkZSgpO1xuICAgICAgICAgICAgICAgICRjb250ZW50LmhpZGUoKTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gJHRhYi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICR0YWIuZXEoaSkuZmFkZUluKCk7XG4gICAgICAgICAgICAgICAgJGNvbnRlbnQuZXEoaSkuZmFkZUluKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJy5tZW51IGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vICQoJy5tZW51IGxpJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAvLyAkKHRoaXMpLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgJCgnLndyYXBwZXInKS5yZW1vdmVDbGFzcygnbWVudS1vcGVuJyk7XG4gICAgICAgICQoJy5qcy1oYW1idXJnZXInKS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICB9KTtcblxuICAgIC8vSGFtYnVyZ2VyXG4gICAgJCgnLmpzLWhhbWJ1cmdlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICAgICAgICAkKCcud3JhcHBlcicpLnJlbW92ZUNsYXNzKCdtZW51LW9wZW4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29uJyk7XG4gICAgICAgICAgICAkKCcud3JhcHBlcicpLmFkZENsYXNzKCdtZW51LW9wZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJCgnLmhlcm8nKS5maW5kKCcuc2xpY2stc2xpZGUnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBpbWcgPSAkKCcuaGVybycpXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5zbGljay1zbGlkZS5zbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgIC5maW5kKCdwaWN0dXJlIHNvdXJjZScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3NyY3NldCcpO1xuICAgICAgICAgICAgJCgnLmpzLW1lbnUnKVxuICAgICAgICAgICAgICAgIC5maW5kKCcubWVudV9fbGlzdCcpXG4gICAgICAgICAgICAgICAgLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGltZyArICcpJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaW1nID0gJCgnLmhlcm8nKVxuICAgICAgICAgICAgICAgIC5maW5kKCdwaWN0dXJlIHNvdXJjZScpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3NyY3NldCcpO1xuICAgICAgICAgICAgJCgnLmpzLW1lbnUnKVxuICAgICAgICAgICAgICAgIC5maW5kKCcubWVudV9fbGlzdCcpXG4gICAgICAgICAgICAgICAgLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJyArIGltZyArICcpJyk7XG4gICAgICAgIH1cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgLy9TbGlkZXJcbiAgICAkKCcuanMtc2xpZGVyJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0ICRzbGlkcyA9ICQodGhpcykuZmluZCgnLnNsaWRlcl9fc2xpZGVzJyk7XG4gICAgICAgIGxldCAkc2xpZGUgPSAkKHRoaXMpLmZpbmQoJy5zbGlkZXJfX3NsaWRlJyk7XG5cbiAgICAgICAgaWYgKCRzbGlkZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAkc2xpZHMubm90KCcuc2xpY2staW5pdGlhbGl6ZWQnKS5zbGljayh7XG4gICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcbiAgICAgICAgICAgICAgICBzcGVlZDogMTUwMCxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNzc0Vhc2U6ICdjdWJpYy1iZXppZXIoMC43LCAwLCAwLjMsIDEpJyxcbiAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFkZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA0ODApIHtcbiAgICAgICAgJCgnLmpzLWxpbmUnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnPGxpPicpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdsaW5lJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJCh0aGlzKSk7XG5cbiAgICAgICAgICAgIGxldCAkbGkgPSAkKHRoaXMpLmZpbmQoJ2xpJyk7XG5cbiAgICAgICAgICAgIGxldCAkbGluZSA9ICQodGhpcykuZmluZCgnLmxpbmUnKTtcblxuICAgICAgICAgICAgJGxpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9ICQodGhpcykud2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhvd0ZhciA9ICQodGhpcykucG9zaXRpb24oKS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAkbGluZS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogaG93RmFyICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJGxpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdsaW5lJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9ICQodGhpcykud2lkdGgoKTtcbiAgICAgICAgICAgICAgICBsZXQgaG93RmFyID0gJCh0aGlzKS5wb3NpdGlvbigpLmxlZnQ7XG5cbiAgICAgICAgICAgICAgICAkbGluZS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBob3dGYXIgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvL1dpbmRvdyBvbiBzY3JvbGwgaGVhZGVyIGZpeFxuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzY3JvbGwgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuICAgICAgICBpZiAoc2Nyb2xsID4gMCkge1xuICAgICAgICAgICAgJCgnLmhlYWRlcicpLmFkZENsYXNzKCdpcy1maXhlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0ICRtZW51SXRlbSA9ICQoJy5qcy1tZW51JykuZmluZCgnLm1lbnVfX2l0ZW0nKTtcbiAgICAgICAgICAgICQoJy5oZWFkZXInKS5yZW1vdmVDbGFzcygnaXMtZml4ZWQnKTtcbiAgICAgICAgICAgICRtZW51SXRlbS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Nyb2xsID4gJCh3aW5kb3cpLmhlaWdodCgpKSB7XG4gICAgICAgICAgICAkKCcuanMtZ28tdG9wJykuYWRkQ2xhc3MoJ2lzLXZpc2libGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5qcy1nby10b3AnKS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvL0J0biBwdWxzZVxuICAgICQoJy5qcy1idG4tcHVsc2UnKS5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLWNsaWNrZWQnKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1jbGlja2VkJyk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH0pO1xuXG4gICAgLy9TY3JvbGwgVG9cbiAgICAkKCcuanMtZ290bycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGxldCBvZmZzZXQ7XG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDQ4MCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gNTA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSA3MDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZWwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgbGV0IGRlc3RpbmF0aW9uID0gJChlbCkub2Zmc2V0KCkudG9wO1xuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZShcbiAgICAgICAgICAgIHsgc2Nyb2xsVG9wOiBkZXN0aW5hdGlvbiAtIG9mZnNldCArICdweCcgfSxcbiAgICAgICAgICAgIDQwMFxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgJCgnLmpzLWdvLW5leHQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSAkKHRoaXMpXG4gICAgICAgICAgICAuY2xvc2VzdCgnc2VjdGlvbicpXG4gICAgICAgICAgICAubmV4dCgnc2VjdGlvbicpXG4gICAgICAgICAgICAub2Zmc2V0KCkudG9wO1xuXG4gICAgICAgIGxldCBvZmZzZXQ7XG4gICAgICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDQ4MCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gNTA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSA3MDtcbiAgICAgICAgfVxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogdGFyZ2V0IC0gb2Zmc2V0IH0sICdzbG93Jyk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIGxldCBzY3JvbGxzcHlPZmZzZXQ7XG4gICAgaWYgKCQod2luZG93KS5oZWlnaHQoKSA8PSAxMDgwKSB7XG4gICAgICAgIHNjcm9sbHNweU9mZnNldCA9IC0xMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2Nyb2xsc3B5T2Zmc2V0ID0gLTQwMDtcbiAgICB9XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDQ4MCkge1xuICAgICAgICAkKCcuanMtc2Nyb2xsc3B5Jykuc2Nyb2xsc3B5KHsgb2Zmc2V0OiBzY3JvbGxzcHlPZmZzZXQgfSk7XG4gICAgfVxuXG4gICAgJCgnLmpzLWdvLXRvcCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCA4MDApO1xuICAgIH0pO1xuXG4gICAgaWYgKCQoJy5qcy1pbnB1dCcpLmxlbmd0aCkge1xuICAgICAgICAkKCcuanMtaW5wdXQnKVxuICAgICAgICAgICAgLmZpbmQoJ2lucHV0JylcbiAgICAgICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5wYXJlbnQoJy5qcy1pbnB1dCcpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaXMtZm9jdXMnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnBhcmVudCgnLmpzLWlucHV0JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaXMtZm9jdXMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59KTtcbiJdfQ==
